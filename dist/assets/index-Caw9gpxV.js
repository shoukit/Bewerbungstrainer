import{j as e,p as G,q as Ct,b as X,a as $e,T as re,ai as Rt,w as $t,aj as It,B as it,v as Ie,x as Ve,e as Ae,ae as Ce,O as ot,o as at,z as xe,I as he,M as ue,a7 as At,aa as lt,k as ct,y as O,_ as Pe,ak as dt,h as De,a2 as Bt,l as He,a3 as _t,a4 as Ge,a5 as Mt,A as Tt,m as Et,J as Ft,E as qe,al as Wt,a1 as ge,am as Oe,n as pt,X as Lt,i as Nt,a0 as Dt}from"./ui-vendor-B9DEMv6g.js";import{a as p,d as ut}from"./react-vendor-uDOJF2jQ.js";import{h as qt,F as Ot,g as Vt,c as Pt,C as d,u as Ze,D as Fe,i as Re,w as Q,j as Ht}from"./FeatureInfoButton-DsfjgKw4.js";import{S as Gt}from"./ScenarioDashboard-Db_QZFbt.js";import{u as Be}from"./useBranding-CjHnMPMs.js";import{u as Zt}from"./useMobile-YxjH166V.js";import{P as Kt}from"./progress-bar-B3p3lDN6.js";import{A as Qt,M as xt,a as ht}from"./MicrophoneTestDialog-BLXXwYm5.js";import{D as Ut}from"./DeviceSettingsDialog-CMTdWkBo.js";import{F as gt}from"./fullscreen-loader-CGHRnDJu.js";import{B as pe,C as Jt}from"./Button-BHvYxNT_.js";import"./select-native-BMh_kGEB.js";import"./dialog-Dg1K-ctH.js";import{D as Yt}from"./DynamicFormField-BNIpbzt6.js";import"./ScenarioCard-OpqbSsPm.js";import"./utils-BEHD0UYf.js";import"./DeviceSetupPage-DrPY-0u7.js";import"./index-CklPxmEV.js";const Xe="[SIMULATOR_DASHBOARD]",Xt={briefcase:it,banknote:It,user:$t,presentation:Rt,target:re,mic:G},es=async()=>{const s=await fetch(`${Vt()}/simulator/scenarios`,{headers:{"X-WP-Nonce":Pt()},credentials:"same-origin"});if(!s.ok)throw new Error("Fehler beim Laden der Szenarien");const o=await s.json();if(o.success&&o.data?.scenarios)return o.data.scenarios;throw new Error("Keine Szenarien gefunden")},ts=s=>Xt[s.icon]||it,ss=s=>[{text:`${s.question_count_min}-${s.question_count_max} Fragen`},{icon:X,text:`${Math.round(s.time_limit_per_question/60)} Min/Frage`}],et=({onSelectScenario:s,isAuthenticated:o,requireAuth:x,setPendingScenario:i,onNavigateToHistory:r})=>(p.useEffect(()=>(console.log(`${Xe} ðŸ”µ MOUNT`),()=>{console.log(`${Xe} ðŸ”´ UNMOUNT`)}),[]),e.jsxs(e.Fragment,{children:[e.jsx(qt,{featureId:"simulator",showOnMount:!0}),e.jsx(Gt,{title:"Szenario-Training",subtitle:"Trainiere wichtige Karriere-Skills mit KI-Feedback",headerIcon:$e,headerActions:e.jsx(Ot,{featureId:"simulator",size:"sm"}),fetchScenarios:es,moduleKey:"simulator",historyButtonLabel:"Meine Szenario-Trainings",onNavigateToHistory:r,onSelectScenario:s,renderCardMeta:ss,getIconForScenario:ts,cardActionLabel:"Starten",cardActionIcon:Ct,categoryField:"category",emptyStateIcon:G,emptyStateTitle:"Keine Trainingsszenarien verfÃ¼gbar.",searchPlaceholder:"Szenarien durchsuchen...",isAuthenticated:o,requireAuth:x,setPendingScenario:i,loadingMessage:"Szenarien werden geladen..."})]})),rs=({field:s,value:o,onChange:x,error:i,focusColor:r,branding:c})=>{const y=r||"#4a9ec9",w={width:"100%",padding:`${c.space[3]} ${c.space[4]}`,borderRadius:c.radius.lg,border:`2px solid ${i?d.red[500]:d.slate[200]}`,fontSize:c.fontSize.base,color:d.slate[900],backgroundColor:"white",outline:"none",transition:c.transition.normal},S={borderColor:y,boxShadow:`0 0 0 3px ${y}1a`},h=a=>{Object.assign(a.target.style,S),setTimeout(()=>{const I=a.target;if(I){const z=I.closest("div");z&&z.scrollIntoView({behavior:"smooth",block:"center"})}},300)},u=a=>{a.target.style.borderColor=i?d.red[500]:d.slate[200],a.target.style.boxShadow="none"},n=()=>{switch(s.type){case"text":return e.jsx("input",{type:"text",value:o||"",onChange:a=>x(s.key,a.target.value),placeholder:s.placeholder||"",style:w,onFocus:h,onBlur:u});case"textarea":return e.jsx("textarea",{value:o||"",onChange:a=>x(s.key,a.target.value),placeholder:s.placeholder||"",rows:4,style:{...w,resize:"vertical",minHeight:"100px"},onFocus:h,onBlur:u});case"select":return e.jsxs("select",{value:o||s.default||"",onChange:a=>x(s.key,a.target.value),style:{...w,cursor:"pointer",appearance:"none",backgroundImage:`url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e")`,backgroundPosition:"right 12px center",backgroundRepeat:"no-repeat",backgroundSize:"20px",paddingRight:"44px"},onFocus:h,onBlur:u,children:[e.jsx("option",{value:"",children:"Bitte wÃ¤hlen..."}),s.options?.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))]});case"number":return e.jsx("input",{type:"number",value:o||"",onChange:a=>x(s.key,a.target.value),placeholder:s.placeholder||"",min:s.validation?.min,max:s.validation?.max,style:w,onFocus:h,onBlur:u});default:return e.jsx("input",{type:"text",value:o||"",onChange:a=>x(s.key,a.target.value),placeholder:s.placeholder||"",style:w,onFocus:h,onBlur:u})}};return e.jsxs("div",{style:{marginBottom:c.space[5]},children:[e.jsxs("label",{style:{display:"block",marginBottom:c.space[2],fontSize:c.fontSize.sm,fontWeight:600,color:d.slate[700]},children:[s.label,s.required&&e.jsx("span",{style:{color:d.red[500],marginLeft:c.space[1]},children:"*"})]}),n(),i&&e.jsxs("p",{style:{marginTop:c.space[1.5],fontSize:c.fontSize.xs,color:d.red[500],display:"flex",alignItems:"center",gap:c.space[1]},children:[e.jsx(xe,{style:{width:"14px",height:"14px"}}),i]}),s.hint&&!i&&e.jsxs("p",{style:{marginTop:c.space[1.5],fontSize:c.fontSize.xs,color:d.slate[500],display:"flex",alignItems:"center",gap:c.space[1]},children:[e.jsx(he,{style:{width:"14px",height:"14px"}}),s.hint]})]})},ns=({scenario:s,onBack:o,onNext:x})=>{const[i,r]=p.useState({}),[c,y]=p.useState({}),[w,S]=p.useState([]),[h,u]=p.useState(!1),n=Be(),a=ut.useMemo(()=>{if(!s?.input_configuration)return[];try{const g=typeof s.input_configuration=="string"?JSON.parse(s.input_configuration):s.input_configuration;return Array.isArray(g)?g.filter(t=>t.user_input!==!1):[]}catch(g){return console.error("Error parsing input_configuration:",g),[]}},[s?.input_configuration]);p.useEffect(()=>{const g={};a.forEach(t=>{t.default&&(g[t.key]=t.default)}),r(g)},[a]);const I=(g,t)=>{r(l=>({...l,[g]:t})),c[g]&&y(l=>{const f={...l};return delete f[g],f})},z=()=>{S(g=>[...g,{key:"",value:""}])},k=(g,t,l)=>{S(f=>{const $=[...f];return $[g]={...$[g],[t]:l},$})},M=g=>{S(t=>t.filter((l,f)=>f!==g))},T=()=>{const g={};return a.forEach(t=>{const l=i[t.key];if(t.required&&(!l||l.trim()==="")){g[t.key]="Dieses Feld ist erforderlich";return}if(!(!l||l.trim()==="")&&t.validation){const{minLength:f,maxLength:$,min:F,max:W,pattern:L}=t.validation;f&&l.length<f&&(g[t.key]=`Mindestens ${f} Zeichen erforderlich`),$&&l.length>$&&(g[t.key]=`Maximal ${$} Zeichen erlaubt`),F!==void 0&&Number(l)<F&&(g[t.key]=`Mindestens ${F}`),W!==void 0&&Number(l)>W&&(g[t.key]=`Maximal ${W}`),L&&!new RegExp(L).test(l)&&(g[t.key]="UngÃ¼ltiges Format")}}),y(g),Object.keys(g).length===0},R=g=>{if(g.preventDefault(),!T())return;const t={...i};w.forEach(l=>{l.key&&l.value&&(t[l.key]=l.value)}),x(t)};return p.useEffect(()=>{a.length===0&&x({})},[a,x]),a.length===0?null:e.jsxs("div",{style:{padding:n.space[6],paddingBottom:"200px",maxWidth:"640px",margin:"0 auto"},children:[e.jsxs("div",{style:{marginBottom:n.space[8]},children:[e.jsxs("button",{onClick:o,style:{display:"inline-flex",alignItems:"center",gap:n.space[2],padding:`${n.space[2]} ${n.space[3]}`,marginBottom:n.space[4],border:"none",background:"transparent",color:d.slate[600],fontSize:n.fontSize.sm,cursor:"pointer",borderRadius:n.radius.md,transition:n.transition.normal},onMouseEnter:g=>g.target.style.background=d.slate[100],onMouseLeave:g=>g.target.style.background="transparent",children:[e.jsx(Ie,{style:{width:"18px",height:"18px"}}),"ZurÃ¼ck zur Ãœbersicht"]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:n.space[4]},children:[e.jsx("div",{style:{width:"56px",height:"56px",borderRadius:n.radius.xl,background:n.headerGradient,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx($e,{style:{width:"28px",height:"28px",color:"white"}})}),e.jsxs("div",{children:[e.jsx("h1",{style:{fontSize:n.fontSize["2xl"],fontWeight:700,color:d.slate[900],margin:0},children:s.title}),e.jsx("p",{style:{fontSize:n.fontSize.sm,color:d.slate[600],margin:`${n.space[1]} 0 0 0`},children:"Personalisiere dein Training"})]})]})]}),e.jsx("div",{style:{padding:`${n.space[4]} ${n.space[5]}`,borderRadius:n.radius.lg,backgroundColor:d.slate[100],marginBottom:n.space[6]},children:e.jsx("p",{style:{fontSize:n.fontSize.sm,color:d.slate[700],margin:0,lineHeight:1.6},children:s.description})}),e.jsxs("form",{onSubmit:R,children:[a.map(g=>e.jsx(rs,{field:g,value:i[g.key],onChange:I,error:c[g.key],focusColor:n.primaryAccent,branding:n},g.key)),s?.allow_custom_variables&&e.jsxs("div",{style:{marginTop:n.space[5],marginBottom:n.space[5],paddingTop:n.space[5],borderTop:`1px solid ${d.slate[200]}`},children:[e.jsxs("button",{type:"button",onClick:()=>u(!h),style:{display:"flex",alignItems:"flex-start",gap:n.space[2],padding:"0",border:"none",background:"none",color:d.slate[500],fontSize:n.fontSize.sm,fontWeight:500,cursor:"pointer",marginBottom:h?n.space[4]:"0",textAlign:"left"},children:[e.jsxs("span",{style:{display:"flex",alignItems:"center",gap:n.space[2],flexShrink:0},children:[h?e.jsx(Ve,{size:18}):e.jsx(Ae,{size:18}),e.jsx(Ce,{size:16})]}),e.jsx("span",{style:{lineHeight:"1.4"},children:"ZusÃ¤tzliche Variablen hinzufÃ¼gen (optional)"})]}),h&&e.jsxs("div",{style:{backgroundColor:d.slate[50],borderRadius:n.radius.lg,padding:n.space[4]},children:[e.jsx("p",{style:{fontSize:n.fontSize.sm,color:d.slate[500],margin:`0 0 ${n.space[3]} 0`},children:"FÃ¼ge eigene Variablen hinzu, die in das Training einflieÃŸen sollen."}),w.length>0&&e.jsx("div",{style:{marginBottom:n.space[3]},children:w.map((g,t)=>e.jsxs("div",{style:{backgroundColor:"white",border:`1px solid ${d.slate[200]}`,borderRadius:n.radius.md,padding:n.space[3],marginBottom:n.space[3]},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:n.space[2]},children:[e.jsx("input",{type:"text",value:g.key||"",onChange:l=>k(t,"key",l.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"_")),placeholder:"variable_name",style:{padding:`${n.space[2]} ${n.space[3]}`,borderRadius:n.radius.md,border:`1px solid ${d.slate[200]}`,fontSize:n.fontSize.sm,fontFamily:"monospace",backgroundColor:d.slate[50],flex:1,marginRight:n.space[2]}}),e.jsx("button",{type:"button",onClick:()=>M(t),style:{padding:n.space[2],border:"none",backgroundColor:"transparent",cursor:"pointer",color:d.red[500],display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(ot,{size:16})})]}),e.jsx("textarea",{value:g.value||"",onChange:l=>k(t,"value",l.target.value),placeholder:"Wert der Variable...",rows:2,style:{width:"100%",padding:`${n.space[2]} ${n.space[3]}`,borderRadius:n.radius.md,border:`1px solid ${d.slate[200]}`,fontSize:n.fontSize.sm,resize:"vertical"}})]},t))}),e.jsxs("button",{type:"button",onClick:z,style:{display:"flex",alignItems:"center",gap:n.space[2],padding:`${n.space[2]} ${n.space[3]}`,border:`1px dashed ${d.slate[300]}`,borderRadius:n.radius.md,backgroundColor:"white",color:d.slate[600],fontSize:n.fontSize.sm,cursor:"pointer",width:"100%",justifyContent:"center"},children:[e.jsx(Ce,{size:16}),"Variable hinzufÃ¼gen"]})]})]}),e.jsxs("div",{style:{padding:`${n.space[4]} ${n.space[5]}`,borderRadius:n.radius.lg,backgroundColor:n.primaryAccentLight,marginTop:n.space[6],marginBottom:n.space[6],display:"flex",gap:n.space[5],flexWrap:"wrap"},children:[e.jsxs("div",{children:[e.jsx("span",{style:{fontSize:n.fontSize.xs,color:d.slate[500],display:"block"},children:"Fragen"}),e.jsxs("span",{style:{fontSize:n.fontSize.base,fontWeight:600,color:d.slate[900]},children:[s.question_count_min,"-",s.question_count_max]})]}),e.jsxs("div",{children:[e.jsx("span",{style:{fontSize:n.fontSize.xs,color:d.slate[500],display:"block"},children:"Zeit pro Frage"}),e.jsxs("span",{style:{fontSize:n.fontSize.base,fontWeight:600,color:d.slate[900]},children:[Math.round(s.time_limit_per_question/60)," Min"]})]}),e.jsxs("div",{children:[e.jsx("span",{style:{fontSize:n.fontSize.xs,color:d.slate[500],display:"block"},children:"Wiederholen"}),e.jsx("span",{style:{fontSize:n.fontSize.base,fontWeight:600,color:d.slate[900]},children:s.allow_retry?"Erlaubt":"Nicht erlaubt"})]})]}),e.jsxs("button",{type:"submit",style:{width:"100%",padding:`${n.space[4]} ${n.space[6]}`,borderRadius:n.radius.xl,border:"none",background:n.buttonGradient,color:"white",fontSize:n.fontSize.base,fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:n.space[2.5],transition:n.transition.normal,boxShadow:`0 4px 12px ${n.primaryAccent}4d`},onMouseEnter:g=>{g.target.style.transform="translateY(-2px)",g.target.style.boxShadow=`0 6px 16px ${n.primaryAccent}66`},onMouseLeave:g=>{g.target.style.transform="none",g.target.style.boxShadow=`0 4px 12px ${n.primaryAccent}4d`},children:["Weiter",e.jsx(at,{style:{width:"20px",height:"20px"}})]})]})]})},ke=({score:s,label:o,size:x="normal",primaryAccent:i,branding:r})=>{const c=s!=null?s*10:null,w=(h=>h>=80?r.success:h>=60?i:h>=40?r.warning:r.error)(c),S=x==="large";return e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:r.space[1]},children:[e.jsx("div",{style:{width:S?"80px":"56px",height:S?"80px":"56px",borderRadius:r.radius.full,backgroundColor:`${w}15`,border:`3px solid ${w}`,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("span",{style:{fontSize:S?r.fontSize["5xl"]:r.fontSize["2xl"],fontWeight:r.fontWeight.bold,color:w},children:c!=null?Math.round(c):"-"})}),e.jsx("span",{style:{fontSize:S?r.fontSize.base:r.fontSize.xs,color:r.textSecondary,fontWeight:r.fontWeight.medium},children:o})]})},ae=({title:s,icon:o,children:x,defaultOpen:i=!0,primaryAccent:r,branding:c})=>{const[y,w]=p.useState(i);return e.jsxs("div",{style:{borderRadius:c.radius.lg,border:`1px solid ${c.borderColor}`,backgroundColor:c.cardBg,overflow:"hidden",marginBottom:c.space[4]},children:[e.jsxs("button",{onClick:()=>w(!y),style:{width:"100%",padding:`${c.space[4]} ${c.space[5]}`,display:"flex",alignItems:"center",justifyContent:"space-between",border:"none",backgroundColor:"transparent",cursor:"pointer"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:c.space[3]},children:[e.jsx(o,{style:{width:c.iconSize.lg,height:c.iconSize.lg,color:r}}),e.jsx("span",{style:{fontSize:c.fontSize.md,fontWeight:c.fontWeight.semibold,color:c.textMain},children:s})]}),y?e.jsx(Ve,{style:{width:c.iconSize.lg,height:c.iconSize.lg,color:c.textMuted}}):e.jsx(Ae,{style:{width:c.iconSize.lg,height:c.iconSize.lg,color:c.textMuted}})]}),y&&e.jsx("div",{style:{padding:`0 ${c.space[5]} ${c.space[5]} ${c.space[5]}`,borderTop:`1px solid ${c.cardBgHover}`,paddingTop:c.space[4]},children:x})]})},We=({text:s,type:o,primaryAccent:x,primaryAccentLight:i,branding:r})=>{const c={strength:{icon:lt,color:r.success,bg:r.successLight},improvement:{icon:ct,color:r.warning,bg:r.warningLight},tip:{icon:O,color:x,bg:i}},{icon:y,color:w,bg:S}=c[o]||c.tip;return e.jsxs("div",{style:{display:"flex",gap:r.space[3],padding:r.space[3],borderRadius:r.radius.md,backgroundColor:S,marginBottom:r.space[2]},children:[e.jsx(y,{style:{width:r.iconSize.md,height:r.iconSize.md,color:w,flexShrink:0,marginTop:"2px"}}),e.jsx("span",{style:{fontSize:r.fontSize.base,color:r.textSecondary,lineHeight:1.5},children:s})]})},is=({metrics:s,branding:o})=>{if(!s)return null;const i=(c=>{switch(c){case"optimal":return{label:"Optimal",color:o.success};case"zu_schnell":return{label:"Zu schnell",color:o.warning};case"zu_langsam":return{label:"Zu langsam",color:o.warning};default:return{label:c||"N/A",color:o.textMuted}}})(s.speech_rate),r=c=>{switch(c){case"niedrig":return o.success;case"mittel":return o.warning;case"hoch":return o.error;default:return o.textMuted}};return e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:o.space[4]},children:[e.jsxs("div",{style:{padding:o.space[4],borderRadius:o.radius.md,backgroundColor:o.cardBgHover},children:[e.jsx("span",{style:{fontSize:o.fontSize.xs,color:o.textMuted,display:"block",marginBottom:o.space[1]},children:"Sprechtempo"}),e.jsx("span",{style:{fontSize:o.fontSize.lg,fontWeight:o.fontWeight.semibold,color:i.color},children:i.label})]}),s.filler_words&&e.jsxs("div",{style:{padding:o.space[4],borderRadius:o.radius.md,backgroundColor:o.cardBgHover},children:[e.jsx("span",{style:{fontSize:o.fontSize.xs,color:o.textMuted,display:"block",marginBottom:o.space[1]},children:"FÃ¼llwÃ¶rter"}),e.jsxs("span",{style:{fontSize:o.fontSize.lg,fontWeight:600,color:r(s.filler_words.severity)},children:[s.filler_words.count||0,s.filler_words.words?.length>0&&e.jsxs("span",{style:{fontSize:"12px",fontWeight:400,marginLeft:"8px"},children:["(",s.filler_words.words.slice(0,3).join(", "),")"]})]})]}),s.confidence_score!==void 0&&e.jsxs("div",{style:{padding:"16px",borderRadius:"10px",backgroundColor:o.cardBgHover},children:[e.jsx("span",{style:{fontSize:"12px",color:o.textMuted,display:"block",marginBottom:"4px"},children:"Selbstbewusstsein"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("div",{style:{flex:1,height:"8px",backgroundColor:o.borderColor,borderRadius:"4px",overflow:"hidden"},children:e.jsx("div",{style:{width:`${s.confidence_score}%`,height:"100%",backgroundColor:s.confidence_score>=70?o.success:o.warning,borderRadius:"4px"}})}),e.jsxs("span",{style:{fontSize:"14px",fontWeight:600,color:o.textSecondary},children:[s.confidence_score,"%"]})]})]}),s.clarity_score!==void 0&&e.jsxs("div",{style:{padding:"16px",borderRadius:"10px",backgroundColor:o.cardBgHover},children:[e.jsx("span",{style:{fontSize:"12px",color:o.textMuted,display:"block",marginBottom:"4px"},children:"Klarheit"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("div",{style:{flex:1,height:"8px",backgroundColor:o.borderColor,borderRadius:"4px",overflow:"hidden"},children:e.jsx("div",{style:{width:`${s.clarity_score}%`,height:"100%",backgroundColor:s.clarity_score>=70?o.success:o.warning,borderRadius:"4px"}})}),e.jsxs("span",{style:{fontSize:"14px",fontWeight:600,color:o.textSecondary},children:[s.clarity_score,"%"]})]})]}),s.notes&&e.jsxs("div",{style:{gridColumn:"1 / -1",padding:"12px 16px",borderRadius:"10px",backgroundColor:o.primaryAccentLight,fontSize:"14px",color:o.textSecondary,lineHeight:1.5},children:["ðŸ’¡ ",s.notes]})]})},os=({audioUrl:s,primaryAccent:o,branding:x})=>{const i=p.useRef(null),[r,c]=p.useState(!1),[y,w]=p.useState(0),[S,h]=p.useState(0),[u,n]=p.useState(!0),[a,I]=p.useState(null);p.useEffect(()=>{if(!s)return;n(!0),I(null);const R=new Audio;i.current=R;const g=()=>{const l=R.duration;l&&isFinite(l)&&l>0&&h(l),n(!1)},t=()=>{n(!1);const l=R.duration;l&&isFinite(l)&&l>0&&h(l)};return R.addEventListener("loadedmetadata",g),R.addEventListener("canplaythrough",t),R.addEventListener("timeupdate",()=>w(R.currentTime)),R.addEventListener("play",()=>c(!0)),R.addEventListener("pause",()=>c(!1)),R.addEventListener("ended",()=>c(!1)),R.addEventListener("error",()=>{I("Audio nicht verfÃ¼gbar"),n(!1)}),R.src=s,R.load(),()=>{R.pause(),R.src=""}},[s]);const z=()=>{i.current&&(r?i.current.pause():i.current.play())},k=R=>{const g=R.currentTarget.getBoundingClientRect(),t=(R.clientX-g.left)/g.width;i.current&&S>0&&(i.current.currentTime=t*S)},M=R=>{i.current&&(i.current.currentTime=Math.max(0,Math.min(i.current.currentTime+R,S)))};if(!s)return null;if(a)return e.jsxs("div",{style:{padding:"12px 16px",background:x.cardBgHover,borderRadius:"10px",color:x.textMuted,fontSize:"13px",display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(xe,{size:16})," ",a]});const T=S>0?y/S*100:0;return e.jsxs("div",{style:{background:x.cardBgHover,borderRadius:"12px",padding:"16px"},children:[e.jsx("div",{onClick:k,style:{height:"6px",background:x.borderColor,borderRadius:"3px",cursor:"pointer",marginBottom:"12px"},children:e.jsx("div",{style:{width:`${T}%`,height:"100%",background:o,borderRadius:"3px",transition:"width 0.1s"}})}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"12px"},children:[e.jsx("button",{onClick:()=>M(-10),style:{background:"none",border:"none",cursor:"pointer",padding:"6px",color:x.textMuted,display:"flex",alignItems:"center"},children:e.jsx(Bt,{size:20})}),e.jsx("button",{onClick:z,disabled:u,style:{width:"44px",height:"44px",borderRadius:"50%",background:o,border:"none",cursor:u?"wait":"pointer",display:"flex",alignItems:"center",justifyContent:"center",color:"#ffffff",opacity:u?.7:1},children:u?e.jsx(He,{size:20,color:"#ffffff",style:{animation:"spin 1s linear infinite"}}):r?e.jsx(_t,{size:20,color:"#ffffff",fill:"#ffffff"}):e.jsx(Ge,{size:20,color:"#ffffff",fill:"#ffffff",style:{marginLeft:"2px"}})}),e.jsx("button",{onClick:()=>M(10),style:{background:"none",border:"none",cursor:"pointer",padding:"6px",color:x.textMuted,display:"flex",alignItems:"center"},children:e.jsx(Mt,{size:20})})]}),e.jsxs("div",{style:{textAlign:"center",marginTop:"8px",fontSize:"12px",color:x.textMuted},children:[Re(y)," / ",Re(S)]}),e.jsx("style",{children:"@keyframes spin { to { transform: rotate(360deg); } }"})]})},as=({transcript:s,feedback:o,audioMetrics:x,audioUrl:i,onRetry:r,onNext:c,onComplete:y,isLastQuestion:w,hideButtons:S=!1})=>{const{branding:h}=Ze(),u=Be(),n=h?.["--button-gradient"]||h?.["--header-gradient"]||Fe["--header-gradient"],a=h?.["--primary-accent"]||Fe["--primary-accent"],I=h?.["--primary-accent-light"]||Fe["--primary-accent-light"],z=typeof o=="string"?JSON.parse(o):o;return e.jsxs("div",{style:{backgroundColor:u.cardBgHover,borderRadius:u.radius.xl,padding:u.space[6]},children:[e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"20px",marginBottom:"24px",padding:u.space[5],backgroundColor:u.cardBg,borderRadius:u.radius.lg},children:[e.jsx(ke,{score:z?.scores?.overall,label:"Gesamt",size:"large",primaryAccent:a,branding:u}),e.jsxs("div",{style:{flex:1},children:[e.jsx("h3",{style:{fontSize:"16px",fontWeight:600,color:u.textMain,margin:"0 0 8px 0"},children:"Feedback zu deiner Antwort"}),e.jsx("p",{style:{fontSize:"14px",color:u.textSecondary,margin:0,lineHeight:1.5},children:z?.summary||"Deine Antwort wurde analysiert."})]})]}),z?.scores&&e.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"32px",padding:"16px",marginBottom:"16px",backgroundColor:u.cardBg,borderRadius:"12px"},children:[e.jsx(ke,{score:z.scores.content,label:"Inhalt",primaryAccent:a,branding:u}),e.jsx(ke,{score:z.scores.structure,label:"Struktur",primaryAccent:a,branding:u}),e.jsx(ke,{score:z.scores.relevance,label:"Relevanz",primaryAccent:a,branding:u})]}),e.jsx(ae,{title:"Transkript",icon:ue,defaultOpen:!0,primaryAccent:a,branding:u,children:e.jsxs("div",{style:{padding:"16px",borderRadius:"10px",backgroundColor:u.cardBgHover,fontStyle:"italic",color:u.textSecondary,lineHeight:1.6,fontSize:"14px"},children:['"',s||"Keine Transkription verfÃ¼gbar.",'"']})}),i&&e.jsx(ae,{title:"Deine Aufnahme",icon:At,defaultOpen:!0,primaryAccent:a,branding:u,children:e.jsx(os,{audioUrl:i,primaryAccent:a,branding:u})}),z?.strengths?.length>0&&e.jsx(ae,{title:"StÃ¤rken",icon:lt,defaultOpen:!0,primaryAccent:a,branding:u,children:z.strengths.map((k,M)=>e.jsx(We,{text:k,type:"strength",primaryAccent:a,primaryAccentLight:I,branding:u},M))}),z?.improvements?.length>0&&e.jsx(ae,{title:"Verbesserungen",icon:ct,defaultOpen:!0,primaryAccent:a,branding:u,children:z.improvements.map((k,M)=>e.jsx(We,{text:k,type:"improvement",primaryAccent:a,primaryAccentLight:I,branding:u},M))}),z?.tips?.length>0&&e.jsx(ae,{title:"Tipps",icon:O,defaultOpen:!1,primaryAccent:a,branding:u,children:z.tips.map((k,M)=>e.jsx(We,{text:k,type:"tip",primaryAccent:a,primaryAccentLight:I,branding:u},M))}),x&&e.jsx(ae,{title:"Sprechanalyse",icon:G,defaultOpen:!1,primaryAccent:a,branding:u,children:e.jsx(is,{metrics:x,branding:u})}),!S&&e.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"24px",justifyContent:"flex-end",flexWrap:"wrap"},children:[r&&e.jsxs("button",{onClick:r,style:{display:"flex",alignItems:"center",gap:"8px",padding:"14px 24px",borderRadius:"12px",border:`2px solid ${u.borderColor}`,backgroundColor:u.cardBg,color:u.textSecondary,fontSize:"15px",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:k=>{k.target.style.borderColor=a,k.target.style.color=a},onMouseLeave:k=>{k.target.style.borderColor=u.borderColor,k.target.style.color=u.textSecondary},children:[e.jsx(Pe,{style:{width:"18px",height:"18px"}}),"Nochmal versuchen"]}),e.jsx("button",{onClick:w?y:c,style:{display:"flex",alignItems:"center",gap:"8px",padding:"14px 24px",borderRadius:"12px",border:"none",background:n,color:"white",fontSize:"15px",fontWeight:600,cursor:"pointer",boxShadow:`0 4px 12px ${a}4d`,transition:"all 0.2s"},onMouseEnter:k=>{k.target.style.transform="translateY(-2px)",k.target.style.boxShadow=`0 6px 16px ${a}66`},onMouseLeave:k=>{k.target.style.transform="none",k.target.style.boxShadow=`0 4px 12px ${a}4d`},children:w?e.jsxs(e.Fragment,{children:[e.jsx(dt,{style:{width:"18px",height:"18px"}}),"Training abschlieÃŸen"]}):e.jsxs(e.Fragment,{children:["NÃ¤chste Frage",e.jsx(De,{style:{width:"18px",height:"18px"}})]})})]})]})},ls=({tips:s,primaryAccent:o,tipsLabel:x,branding:i})=>{const[r,c]=p.useState(!0);return!s||s.length===0?null:e.jsxs("div",{style:{background:i.cardBg,borderRadius:i.radius.xl,border:`1px solid ${i.borderColor}`,overflow:"hidden"},children:[e.jsxs("button",{onClick:()=>c(!r),style:{width:"100%",padding:`${i.space[4]} ${i.space[6]}`,background:"none",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs("span",{style:{display:"flex",alignItems:"center",gap:i.space[2],fontSize:i.fontSize.base,fontWeight:i.fontWeight.semibold,color:i.textMain},children:[e.jsx(O,{size:i.iconSize.md,color:o}),x||"Tipps fÃ¼r diese Frage"]}),e.jsx(Ae,{size:i.iconSize.md,color:i.textMuted,style:{transform:r?"rotate(180deg)":"none",transition:i.transition.normal}})]}),e.jsx(Tt,{children:r&&e.jsx(Et.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},style:{overflow:"hidden"},children:e.jsx("div",{style:{padding:`0 ${i.space[6]} ${i.space[6]}`},children:s.map((y,w)=>e.jsxs("div",{style:{display:"flex",gap:i.space[3],padding:`${i.space[3]} ${i.space[4]}`,borderRadius:i.radius.md,backgroundColor:i.warningLight,marginBottom:w<s.length-1?i.space[2]:0},children:[e.jsx(O,{style:{width:i.iconSize.sm,height:i.iconSize.sm,color:i.warning,flexShrink:0,marginTop:"2px"}}),e.jsx("p",{style:{fontSize:i.fontSize.base,color:i.textSecondary,margin:0,lineHeight:1.5},children:y.replace(/^Tipp \d+:\s*/i,"")})]},w))})})})]})},cs=({seconds:s,maxSeconds:o,isRecording:x,branding:i})=>{const r=o>0?s/o*100:0,c=r>75,y=r>90;return e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:i.space[3],padding:`${i.space[3]} ${i.space[4]}`,borderRadius:i.radius.lg,backgroundColor:y?i.errorLight:c?i.warningLight:i.cardBgHover},children:[e.jsx(X,{style:{width:i.iconSize.lg,height:i.iconSize.lg,color:y?i.error:c?i.warning:i.textSecondary}}),e.jsx("span",{style:{fontSize:i.fontSize.xl,fontWeight:i.fontWeight.semibold,fontFamily:"monospace",color:y?i.error:c?i.warning:i.textSecondary},children:Re(s)}),e.jsxs("span",{style:{fontSize:i.fontSize.base,color:i.textMuted},children:["/ ",Re(o)]})]})},tt=({onRecordingComplete:s,timeLimit:o,disabled:x,deviceId:i,themedGradient:r,primaryAccent:c,isSubmitting:y,labels:w,onOpenSettings:S,branding:h,isMobile:u,onStreamChange:n})=>{const[a,I]=p.useState("idle"),[z,k]=p.useState(0),[M,T]=p.useState(0),[R,g]=p.useState(!1),t=p.useRef(null),l=p.useRef([]),f=p.useRef(null),$=p.useRef(null),F=p.useRef(null),W=p.useRef(null),L=p.useRef(null),B=p.useRef(0),V=p.useRef(!1);p.useEffect(()=>()=>{K()},[]),p.useEffect(()=>{a==="recording"&&z>=o&&_()},[z,o,a]);const K=()=>{f.current&&clearInterval(f.current),W.current&&cancelAnimationFrame(W.current),$.current&&($.current.close(),$.current=null),L.current&&(L.current.getTracks().forEach(C=>C.stop()),L.current=null,n&&n(null))},m=async()=>{try{g(!1),l.current=[],k(0);let C;const E={audio:i?{deviceId:{exact:i}}:!0};try{C=await navigator.mediaDevices.getUserMedia(E)}catch(N){throw console.error("[SIMULATOR] Selected device unavailable:",N),N.name==="OverconstrainedError"||N.name==="NotFoundError"?(g(!1),new Error("Das ausgewÃ¤hlte Mikrofon ist nicht verfÃ¼gbar. Bitte wÃ¤hle ein anderes Mikrofon in den Einstellungen.")):N}L.current=C,n&&n(C),$.current=new(window.AudioContext||window.webkitAudioContext),F.current=$.current.createAnalyser(),$.current.createMediaStreamSource(C).connect(F.current),F.current.fftSize=256;const ne=()=>{if(F.current&&V.current){const N=new Uint8Array(F.current.frequencyBinCount);F.current.getByteFrequencyData(N);const fe=N.reduce((Z,me)=>Z+me)/N.length;T(fe/255)}W.current=requestAnimationFrame(ne)};V.current=!0,ne();const ee=MediaRecorder.isTypeSupported("audio/webm;codecs=opus")?"audio/webm;codecs=opus":MediaRecorder.isTypeSupported("audio/webm")?"audio/webm":"audio/mp4";t.current=new MediaRecorder(C,{mimeType:ee}),t.current.ondataavailable=N=>{N.data.size>0&&l.current.push(N.data)},t.current.onstop=()=>{const N=new Blob(l.current,{type:ee});s(N,B.current)},t.current.start(1e3),I("recording"),f.current=setInterval(()=>{k(N=>N+1)},1e3)}catch(C){console.error("Error starting recording:",C),(C.name==="NotAllowedError"||C.name==="PermissionDeniedError")&&g(!0)}},j=()=>{t.current&&t.current.state==="recording"&&(t.current.pause(),I("paused"),V.current=!1,f.current&&(clearInterval(f.current),f.current=null),T(0))},v=()=>{t.current&&t.current.state==="paused"&&(t.current.resume(),I("recording"),V.current=!0,f.current=setInterval(()=>{k(C=>C+1)},1e3))},_=()=>{B.current=z,V.current=!1,f.current&&(clearInterval(f.current),f.current=null),W.current&&(cancelAnimationFrame(W.current),W.current=null),$.current&&($.current.close(),$.current=null),t.current&&t.current.state!=="inactive"&&t.current.stop(),L.current&&(L.current.getTracks().forEach(C=>C.stop()),L.current=null),I("idle"),T(0),k(0)},b=()=>{a==="idle"?m():a==="recording"?j():a==="paused"&&v()};return R?e.jsxs("div",{style:{padding:"24px",borderRadius:"16px",backgroundColor:h.errorLight,textAlign:"center"},children:[e.jsx(Ft,{style:{width:"48px",height:"48px",color:h.error,marginBottom:"12px"}}),e.jsx("p",{style:{color:h.error,fontWeight:600,margin:0},children:"Mikrofonzugriff verweigert"}),e.jsx("p",{style:{color:h.textSecondary,fontSize:"14px",marginTop:"8px"},children:"Bitte erlaube den Zugriff auf dein Mikrofon in den Browser-Einstellungen."})]}):e.jsxs("div",{style:{padding:"24px",borderRadius:"16px",backgroundColor:h.cardBg,border:`1px solid ${h.borderColor}`,position:"relative"},children:[u&&e.jsx("button",{onClick:S,style:{position:"absolute",top:"12px",right:"12px",padding:"10px",borderRadius:"10px",background:h.cardBgHover,border:`1px solid ${h.borderColor}`,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(qe,{size:18,color:h.textMuted})}),e.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"24px"},children:e.jsx(cs,{seconds:z,maxSeconds:o,isRecording:a==="recording",branding:h})}),a==="recording"&&e.jsx("div",{style:{marginBottom:"24px"},children:e.jsx(Qt,{audioLevel:M,isActive:!0,variant:"bars",size:"sm",accentColor:c})}),a==="paused"&&e.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"8px",height:"60px",marginBottom:"24px",color:h.warning},children:[e.jsx(G,{size:24}),e.jsx("span",{style:{fontSize:"16px",fontWeight:600},children:"Aufnahme pausiert"})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"12px"},children:[!u&&e.jsx("button",{onClick:S,style:{padding:"14px",borderRadius:"12px",background:h.cardBgHover,border:`1px solid ${h.borderColor}`,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(qe,{size:20,color:h.textMuted})}),e.jsxs("button",{onClick:b,disabled:x||y,style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",padding:u?"14px 20px":"14px 28px",borderRadius:"12px",border:"none",flex:u?1:"none",background:a==="idle"?x||y?h.borderColor:h.error:a==="recording"?h.warning:h.success,color:"white",fontSize:u?"15px":"16px",fontWeight:600,cursor:x||y?"not-allowed":"pointer",boxShadow:x||y?"none":"0 4px 14px rgba(0, 0, 0, 0.2)"},children:[a==="idle"&&e.jsxs(e.Fragment,{children:[e.jsx(G,{style:{width:"20px",height:"20px"}}),"Aufnahme starten"]}),a==="recording"&&e.jsxs(e.Fragment,{children:[e.jsx(Wt,{style:{width:"18px",height:"18px"}}),"Pausieren"]}),a==="paused"&&e.jsxs(e.Fragment,{children:[e.jsx(Ge,{style:{width:"18px",height:"18px"}}),"Fortsetzen"]})]}),(a==="recording"||a==="paused")&&e.jsxs("button",{onClick:_,style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:u?"14px 16px":"14px 24px",borderRadius:"12px",border:"none",flex:u?1:"none",backgroundColor:h.cardBgHover,color:h.textMain,fontSize:u?"15px":"16px",fontWeight:600,cursor:"pointer"},children:[e.jsx(ge,{style:{width:"18px",height:"18px",color:h.success}}),w?.submitButton||"Antwort abgeben"]})]}),a==="idle"&&!y&&e.jsx("p",{style:{textAlign:"center",marginTop:"16px",color:h.textMuted,fontSize:"14px"},children:w?.submitHint||"Klicke auf den Button, um deine Antwort aufzunehmen"}),y&&e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:"24px"},children:[e.jsx(He,{style:{width:"32px",height:"32px",color:c,animation:"spin 1s linear infinite"}}),e.jsx("p",{style:{marginTop:"12px",color:h.textSecondary,fontSize:"14px"},children:w?.analyzing||"Antwort wird analysiert..."})]}),e.jsx("style",{children:`
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.8; } }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
      `})]})},st={target:re,clock:X,mic:G,"message-square":ue,lightbulb:O,brain:Oe,info:he,settings:qe,check:ge,Target:re,Clock:X,Mic:G,MessageSquare:ue,Lightbulb:O,Brain:Oe},ds=({scenario:s,variables:o,questions:x,onStart:i,onBack:r,selectedMicrophoneId:c,onMicrophoneChange:y,onMicrophoneTest:w,themedGradient:S,primaryAccent:h,primaryAccentLight:u,isLoading:n,branding:a})=>{const I=s?.mode==="SIMULATION",z=I?"Situationen":"Fragen",k=I?"Zeit pro Situation":"Zeit pro Frage",M=[{icon:re,title:"Strukturiert antworten",description:"Nutze die STAR-Methode (Situation, Task, Action, Result) fÃ¼r Beispiele aus deiner Erfahrung."},{icon:X,title:"Zeit im Blick behalten",description:`Du hast ${Math.round((s.time_limit_per_question||120)/60)} Minuten pro ${I?"Situation":"Frage"}. ${I?"Reagiere":"Antworte"} prÃ¤zise, aber ausfÃ¼hrlich genug.`},{icon:G,title:"Klar und deutlich sprechen",description:"Sprich in normalem Tempo. Kurze Pausen zum Nachdenken sind vÃ¶llig in Ordnung."},{icon:ue,title:"Konkrete Beispiele nennen",description:"Belege deine Aussagen mit konkreten Beispielen und Zahlen wo mÃ¶glich."}],T=s.tips&&Array.isArray(s.tips)&&s.tips.length>0?s.tips.map((l,f)=>typeof l=="string"?{icon:O,title:`Tipp ${f+1}`,description:l}:{icon:st[l.icon]||st[l.icon?.toLowerCase()]||O,title:l.title||`Tipp ${f+1}`,description:l.text||l.description||""}):M,R=p.useMemo(()=>{if(!s?.input_configuration)return{};try{const l=typeof s.input_configuration=="string"?JSON.parse(s.input_configuration):s.input_configuration;return Array.isArray(l)?l.reduce((f,$)=>($.key&&$.label&&(f[$.key]=$.label),f),{}):{}}catch{return{}}},[s?.input_configuration]),g=o?Object.entries(o).filter(([l,f])=>f&&f.trim&&f.trim()!=="").map(([l,f])=>({label:R[l]||l.replace(/_/g," ").replace(/\b\w/g,$=>$.toUpperCase()),value:f})):[],t=l=>{if(!l||!o)return l;let f=l;return Object.entries(o).forEach(([$,F])=>{F&&(f=f.replace(new RegExp(`\\$\\{${$}\\}`,"g"),F),f=f.replace(new RegExp(`\\{${$}\\}`,"g"),F))}),f};return e.jsxs("div",{style:{padding:"24px",maxWidth:"800px",margin:"0 auto"},children:[e.jsxs("div",{style:{marginBottom:"32px"},children:[e.jsxs("button",{onClick:r,style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"8px 12px",marginBottom:"16px",border:"none",background:"transparent",color:a.textSecondary,fontSize:"14px",cursor:"pointer",borderRadius:"8px"},children:[e.jsx(Ie,{style:{width:"18px",height:"18px"}}),"ZurÃ¼ck"]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[e.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"16px",background:S,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(O,{style:{width:"32px",height:"32px",color:"white"}})}),e.jsxs("div",{children:[e.jsx("h1",{style:{fontSize:"28px",fontWeight:700,color:a.textMain,margin:0},children:"Vorbereitung"}),e.jsxs("p",{style:{fontSize:"16px",color:a.textSecondary,margin:"4px 0 0 0"},children:[s.title,x.length>0?` â€¢ ${x.length} ${z}`:""]})]})]})]}),s.long_description&&e.jsx("div",{style:{padding:"20px 24px",borderRadius:"16px",backgroundColor:a.cardBg,border:`1px solid ${a.borderColor}`,marginBottom:"24px"},children:e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"14px"},children:[e.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",background:S,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.jsx(he,{style:{width:"20px",height:"20px",color:"white"}})}),e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"16px",fontWeight:600,color:a.textMain,margin:"0 0 8px 0"},children:"Deine Aufgabe"}),e.jsx("p",{style:{fontSize:"15px",lineHeight:"1.6",color:a.textSecondary,margin:0,whiteSpace:"pre-wrap"},children:t(s.long_description?.replace(/\/n/g,`
`))})]})]})}),g.length>0&&e.jsxs("div",{style:{padding:"20px",borderRadius:"16px",backgroundColor:u,marginBottom:"24px"},children:[e.jsx("h3",{style:{fontSize:"14px",fontWeight:600,color:h,margin:"0 0 12px 0",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Dein Profil"}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"16px"},children:g.map((l,f)=>e.jsxs("div",{children:[e.jsx("span",{style:{fontSize:"12px",color:a.textMuted,display:"block"},children:l.label}),e.jsx("span",{style:{fontSize:"15px",fontWeight:500,color:a.textMain},children:l.value})]},f))})]}),e.jsxs("div",{style:{padding:"24px",borderRadius:"16px",backgroundColor:a.cardBg,border:`1px solid ${a.borderColor}`,marginBottom:"24px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"16px"},children:[e.jsx(G,{style:{width:"22px",height:"22px",color:h}}),e.jsx("h2",{style:{fontSize:"18px",fontWeight:600,color:a.textMain,margin:0},children:"Mikrofon testen"})]}),e.jsx(xt,{selectedDeviceId:c,onDeviceChange:y,onTestClick:w})]}),e.jsxs("button",{onClick:i,disabled:n,style:{width:"100%",padding:"18px 28px",borderRadius:"14px",border:"none",background:n?a.borderColor:S,color:"white",fontSize:"18px",fontWeight:600,cursor:n?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",boxShadow:n?"none":`0 4px 12px ${h}4d`,marginBottom:"24px",opacity:n?.7:1},children:[e.jsx(Ge,{style:{width:"24px",height:"24px"}}),"GesprÃ¤ch starten"]}),e.jsxs("div",{style:{padding:"24px",borderRadius:"16px",backgroundColor:a.cardBg,border:`1px solid ${a.borderColor}`,marginBottom:"24px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"20px"},children:[e.jsx(O,{style:{width:"22px",height:"22px",color:a.warning}}),e.jsx("h2",{style:{fontSize:"18px",fontWeight:600,color:a.textMain,margin:0},children:"Tipps fÃ¼r dein GesprÃ¤ch"})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:T.map((l,f)=>e.jsxs("div",{style:{display:"flex",gap:"16px",padding:"16px",borderRadius:"12px",backgroundColor:a.cardBgHover},children:[e.jsx("div",{style:{width:"44px",height:"44px",borderRadius:"12px",backgroundColor:u,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.jsx(l.icon,{style:{width:"22px",height:"22px",color:h}})}),e.jsxs("div",{children:[e.jsx("h4",{style:{fontSize:"15px",fontWeight:600,color:a.textMain,margin:"0 0 4px 0"},children:l.title}),e.jsx("p",{style:{fontSize:"14px",color:a.textSecondary,margin:0,lineHeight:1.5},children:l.description})]})]},f))})]}),e.jsxs("div",{style:{padding:"16px 20px",borderRadius:"12px",backgroundColor:a.cardBgHover,display:"flex",gap:"24px",flexWrap:"wrap"},children:[x.length>0&&e.jsxs("div",{children:[e.jsx("span",{style:{fontSize:"12px",color:a.textMuted,display:"block"},children:z}),e.jsx("span",{style:{fontSize:"18px",fontWeight:600,color:a.textMain},children:x.length})]}),e.jsxs("div",{children:[e.jsx("span",{style:{fontSize:"12px",color:a.textMuted,display:"block"},children:k}),e.jsxs("span",{style:{fontSize:"18px",fontWeight:600,color:a.textMain},children:[Math.round((s.time_limit_per_question||120)/60)," Min"]})]}),e.jsxs("div",{children:[e.jsx("span",{style:{fontSize:"12px",color:a.textMuted,display:"block"},children:"Wiederholen"}),e.jsx("span",{style:{fontSize:"18px",fontWeight:600,color:a.textMain},children:s.allow_retry?"Erlaubt":"Nicht erlaubt"})]})]})]})},ps=({isOpen:s,onClose:o,onConfirm:x,answeredCount:i,totalCount:r,labels:c})=>s?e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:o,children:e.jsxs("div",{style:{backgroundColor:"white",borderRadius:"16px",padding:"24px",maxWidth:"420px",width:"90%",boxShadow:"0 20px 50px rgba(0, 0, 0, 0.2)"},onClick:y=>y.stopPropagation(),children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[e.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"12px",backgroundColor:"#dcfce7",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(pt,{size:24,color:"#22c55e"})}),e.jsx("h3",{style:{fontSize:"18px",fontWeight:600,color:"#0f172a",margin:0},children:"Training beenden?"})]}),i>0?e.jsxs(e.Fragment,{children:[e.jsxs("p",{style:{fontSize:"14px",color:"#64748b",lineHeight:1.6,marginBottom:"8px"},children:["Du hast ",e.jsx("strong",{children:c.answeredCount(i,r)})," beantwortet."]}),e.jsxs("p",{style:{fontSize:"14px",color:"#64748b",lineHeight:1.6,marginBottom:"24px"},children:["MÃ¶chtest du das Training jetzt mit den bisherigen Antworten abschlieÃŸen oder weitere ",c.questionsLabel," beantworten?"]})]}):e.jsxs("p",{style:{fontSize:"14px",color:"#64748b",lineHeight:1.6,marginBottom:"24px"},children:["Du hast noch keine ",c.questionsLabel," beantwortet. MÃ¶chtest du das Training wirklich beenden?"]}),e.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[e.jsx("button",{onClick:o,style:{padding:"10px 20px",borderRadius:"10px",border:"1px solid #e2e8f0",background:"white",color:"#64748b",fontSize:"14px",fontWeight:500,cursor:"pointer"},children:"Weiter trainieren"}),e.jsx("button",{onClick:x,style:{padding:"10px 20px",borderRadius:"10px",border:"none",background:"#22c55e",color:"white",fontSize:"14px",fontWeight:600,cursor:"pointer",boxShadow:"0 2px 8px rgba(34, 197, 94, 0.3)"},children:"Training beenden"})]})]})}):null,us=({isOpen:s,onClose:o,onConfirm:x,answeredCount:i,labels:r})=>s?e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:o,children:e.jsxs("div",{style:{backgroundColor:"white",borderRadius:"16px",padding:"24px",maxWidth:"420px",width:"90%",boxShadow:"0 20px 50px rgba(0, 0, 0, 0.2)"},onClick:c=>c.stopPropagation(),children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[e.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"12px",backgroundColor:"#fee2e2",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(xe,{size:24,color:"#ef4444"})}),e.jsx("h3",{style:{fontSize:"18px",fontWeight:600,color:"#0f172a",margin:0},children:"Training abbrechen?"})]}),e.jsxs("p",{style:{fontSize:"14px",color:"#64748b",lineHeight:1.6,marginBottom:"24px"},children:[e.jsx("strong",{children:"Achtung:"})," Wenn du das Training abbrichst, werden alle deine bisherigen Antworten",i>0?` (${i} ${r.questionsLabel})`:""," ",e.jsx("strong",{children:"nicht gespeichert"})," und gehen verloren."]}),e.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[e.jsx("button",{onClick:o,style:{padding:"10px 20px",borderRadius:"10px",border:"1px solid #e2e8f0",background:"white",color:"#64748b",fontSize:"14px",fontWeight:500,cursor:"pointer"},children:"ZurÃ¼ck"}),e.jsx("button",{onClick:x,style:{padding:"10px 20px",borderRadius:"10px",border:"none",background:"#ef4444",color:"white",fontSize:"14px",fontWeight:600,cursor:"pointer",boxShadow:"0 2px 8px rgba(239, 68, 68, 0.3)"},children:"Abbrechen"})]})]})}):null,xs=({number:s,size:o="md"})=>{const x={sm:"w-[26px] h-[26px] text-xs",md:"w-7 h-7 text-[13px]"};return e.jsx("div",{className:`${x[o]} rounded-full bg-brand-gradient flex-center text-white font-semibold flex-shrink-0`,children:s})},Le=({question:s,index:o,labels:x,isMobile:i})=>e.jsxs(Jt,{className:i?"p-4":"p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3 md:mb-4",children:[e.jsx(xs,{number:o+1,size:i?"sm":"md"}),e.jsx("span",{className:"text-[13px] md:text-sm text-slate-500",children:s?.category||x.questionFallback})]}),e.jsx("h2",{className:`font-semibold text-slate-900 leading-relaxed ${i?"text-[15px]":"text-lg"} mb-0`,children:s?.question||x.questionLoading}),s?.estimated_answer_time&&e.jsxs("div",{className:"flex items-center gap-1.5 text-slate-500 text-[13px] md:text-sm mt-3 md:mt-4",children:[e.jsx(X,{size:i?14:16}),x.recommendedTime,": ca. ",Math.round(s.estimated_answer_time/60)," Min"]})]}),rt=({error:s,onRetry:o,isMobile:x})=>e.jsxs("div",{className:`flex flex-col items-center ${x?"p-4":"p-5 mt-4"} rounded-xl bg-red-50`,children:[e.jsx(xe,{className:"w-6 h-6 text-red-500"}),e.jsx("p",{className:"mt-2 text-red-500 font-medium text-sm text-center",children:s}),e.jsx(pe,{variant:"danger",size:"sm",onClick:o,className:"mt-3",children:"Erneut versuchen"})]}),hs=({session:s,questions:o,scenario:x,variables:i,preloadedQuestions:r,onSessionCreated:c,onComplete:y,onExit:w,startFromQuestion:S=0,initialMicrophoneId:h})=>{const u=Zt(),[n,a]=p.useState(s),[I,z]=p.useState(o||[]),[k,M]=p.useState(!1),[T,R]=p.useState(null),{demoCode:g,branding:t}=Ze(),l=x?.mode==="SIMULATION",f={questionLabel:l?"Situation / Aussage des GegenÃ¼bers:":"Interviewfrage:",questionFallback:l?"Situation":"Frage",questionLoading:l?"Situation wird geladen...":"Frage wird geladen...",answerPlaceholder:l?"Deine Reaktion...":"Deine Antwort...",submitButton:l?"Reaktion abgeben":"Antwort abgeben",submitHint:l?"Klicke auf den Button, um deine Reaktion aufzunehmen":"Klicke auf den Button, um deine Antwort aufzunehmen",analyzing:l?"Reaktion wird analysiert...":"Antwort wird analysiert...",questionCounter:(A,D)=>l?`Situation ${A} von ${D}`:`Frage ${A} von ${D}`,questionsCount:A=>l?`${A} Situationen`:`${A} Fragen`,answeredCount:(A,D)=>l?`${A} von ${D} Situationen`:`${A} von ${D} Fragen`,tipsLabel:l?"Tipps fÃ¼r diese Situation":"Tipps fÃ¼r diese Frage",nextButton:l?"NÃ¤chste Situation":"NÃ¤chste Frage",timePerQuestion:l?"Zeit pro Situation":"Zeit pro Frage",questionsLabel:l?"Situationen":"Fragen",recommendedTime:l?"Empfohlene Reaktionszeit":"Empfohlene Antwortzeit"},$=S>0,F=$?Array.from({length:S},(A,D)=>D):[],[W,L]=p.useState($?"interview":"preparation"),[B,V]=p.useState(S||n?.current_question_index||0),[K,m]=p.useState(null),[j,v]=p.useState(!1),[_,b]=p.useState(!1),[C,E]=p.useState(null),[U,ne]=p.useState([]),[ee,N]=p.useState(F),fe="karriereheld_selected_microphone",[Z,me]=p.useState(()=>{if(h)return h;try{return localStorage.getItem(fe)||null}catch{return null}}),[ft,ye]=p.useState(!1),[mt,le]=p.useState(!1),je=p.useRef(null),Se=p.useCallback(()=>{je.current&&(je.current.getTracks().forEach(A=>A.stop()),je.current=null)},[]),Ke=p.useCallback(A=>{je.current=A},[]);p.useEffect(()=>()=>{Se()},[Se]),p.useEffect(()=>{if(Z)try{localStorage.setItem(fe,Z)}catch{}},[Z]);const[yt,_e]=p.useState(!1),[jt,Me]=p.useState(!1),[be,Qe]=p.useState(!1),[ce,we]=p.useState(null),[J,Ue]=p.useState(!1),Y=I[B],ie=B===I.length-1,Je=B===0,Ye=async(A,D)=>{if(D<2){E("Die Aufnahme ist zu kurz. Bitte sprechen Sie mindestens 2 Sekunden.");return}if(A.size<5e3){console.warn("[SimulatorSession] Audio too small:",A.size,"bytes"),E("Die Aufnahme enthÃ¤lt keine verwertbaren Audiodaten. Bitte sprechen Sie wÃ¤hrend der Aufnahme und versuchen Sie es erneut.");return}b(!0),E(null);try{const q=await Q.submitSimulatorAnswer(n.id,A,B,Y.question,Y.category,D);if(!q.success)throw new Error(q.message||"Fehler beim Analysieren der Antwort");if(m(q.data),v(!0),ne(H=>[...H.filter(te=>te.questionIndex!==B),{questionIndex:B,feedback:q.data}]),N(H=>H.includes(B)?H:[...H,B]),l&&!J){Qe(!0),we(null);const H=ee.includes(B);try{const te=await Q.generateNextTurn(n.id);if(te.success){const oe=te.data.next_question;te.data.is_finished?(we(oe),z(H?se=>{const de=[...se];return de[B+1]=oe,de.slice(0,B+2)}:se=>[...se,oe]),Ue(!0)):(we(oe),H?(z(se=>{const de=[...se];return de[B+1]=oe,de.slice(0,B+2)}),Ue(!1)):z(se=>[...se,oe]))}}catch(te){console.error("Error generating next turn:",te)}finally{Qe(!1)}}}catch(q){console.error("Error submitting answer:",q),E(q.message||"Ein Fehler ist aufgetreten")}finally{b(!1)}},Te=()=>{m(null),v(!1),E(null)},Ee=()=>{if(m(null),v(!1),E(null),l){if(ce){V(A=>A+1),we(null);return}if(J){ve();return}}else ie||V(A=>A+1)},St=()=>{m(null),v(!1),E(null),Je||V(A=>A-1)},bt=()=>{_e(!0)},ve=async()=>{_e(!1),le(!1),ye(!1),Se();try{const A=await Q.completeSimulatorSession(n.id);A.success?y(A.data):y({session:{...n,status:"completed"}})}catch(A){console.error("Error completing session:",A),y({session:{...n,status:"completed"}})}},wt=()=>{Me(!0)},vt=()=>{Me(!1),le(!1),ye(!1),Se(),w()},kt=async()=>{if(n&&I.length>0){L("interview");return}M(!0),R(null);try{const A=await Q.createSimulatorSession({scenario_id:x.id,variables:i,demo_code:g||null,questions:r||null});if(!A.success)throw new Error(A.message||"Fehler beim Erstellen der Session");const D=A.data.session;let q;if(r&&r.length>0)q=r,await Q.updateSimulatorSessionQuestions(D.id,q);else{const H=await Q.generateSimulatorQuestions(D.id);if(!H.success)throw new Error(H.message||"Fehler beim Generieren der Fragen");q=H.data.questions}a({...D,questions_json:q}),z(q),c&&c({session:{...D,questions_json:q},questions:q,selectedMicrophoneId:Z}),L("interview")}catch(A){console.error("Error creating session:",A),R(A.message||"Ein Fehler ist aufgetreten")}finally{M(!1)}};if(W==="preparation")return e.jsxs(e.Fragment,{children:[e.jsx(ds,{scenario:x,variables:i,questions:I,onStart:kt,onBack:w,selectedMicrophoneId:Z,onMicrophoneChange:me,onMicrophoneTest:()=>ye(!0),themedGradient:t?.["--button-gradient"]||t?.["--header-gradient"],primaryAccent:t?.["--primary-accent"],primaryAccentLight:t?.["--primary-accent-light"],isLoading:k}),e.jsx(ht,{isOpen:ft,onClose:()=>ye(!1),deviceId:Z}),T&&e.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 px-6 py-3 rounded-xl bg-red-50 border border-red-200 text-red-600 text-sm font-medium shadow-lg z-[100]",children:T}),e.jsx(gt,{isLoading:k,message:l?"Situationen werden generiert...":"Fragen werden generiert...",subMessage:"Die KI erstellt personalisierte Inhalte basierend auf deinen Angaben."})]});const zt=j&&(l&&J&&!ce||!l&&ie);return e.jsxs("div",{className:`${u?"p-4":"p-6"} max-w-[1000px] mx-auto`,children:[e.jsxs("div",{className:`flex ${u?"flex-col gap-3":"flex-row justify-between items-center"} mb-6`,children:[e.jsx("h1",{className:`${u?"text-lg":"text-xl"} font-semibold text-slate-900`,children:x?.title}),e.jsxs("div",{className:`flex gap-2 items-center ${u?"justify-between":"justify-end"}`,children:[!zt&&e.jsxs("button",{onClick:bt,className:`${u?"flex-1 py-2.5 px-3.5":"py-2 px-4"} rounded-lg bg-green-500 text-white text-sm font-semibold flex items-center justify-center gap-1.5 shadow-md hover:bg-green-600 transition-colors`,children:[e.jsx(pt,{size:16}),u?"Beenden":"Training beenden"]}),e.jsxs("button",{onClick:wt,className:`${u?"flex-1 py-2.5 px-3.5":"py-2 px-4"} rounded-lg bg-slate-100 text-slate-500 text-sm flex items-center justify-center gap-1.5 hover:bg-slate-200 transition-colors`,children:[e.jsx(Lt,{size:16}),"Abbrechen"]})]})]}),e.jsx(ps,{isOpen:yt,onClose:()=>_e(!1),onConfirm:ve,answeredCount:ee.length,totalCount:I.length,labels:f}),e.jsx(us,{isOpen:jt,onClose:()=>Me(!1),onConfirm:vt,answeredCount:ee.length,labels:f}),!j&&!l&&e.jsxs("div",{className:`flex ${u?"gap-2":"gap-3"} justify-center mb-4`,children:[e.jsx(pe,{variant:"secondary",size:u?"sm":"md",icon:e.jsx(Nt,{size:16}),onClick:St,disabled:Je,className:u?"flex-1":"",children:"ZurÃ¼ck"}),e.jsx(pe,{variant:"secondary",size:u?"sm":"md",iconPosition:"right",icon:e.jsx(De,{size:16}),onClick:Ee,disabled:ie,className:u?"flex-1":"",children:u?"Ãœberspringen":"Frage Ã¼berspringen"})]}),e.jsx(Kt,{current:B,total:I.length,answeredQuestions:ee,primaryAccent:t?.["--primary-accent"],labels:f}),j?e.jsxs("div",{className:"max-w-[800px] mx-auto",children:[e.jsxs("div",{className:"flex gap-3 mb-4 justify-end",children:[x.allow_retry&&e.jsx(pe,{variant:"secondary",icon:e.jsx(Pe,{size:16}),onClick:Te,children:"Nochmal versuchen"}),e.jsxs(pe,{onClick:l?J&&!ce?ve:Ee:ie?ve:Ee,disabled:l&&be&&!J,icon:be?e.jsx(He,{size:16,className:"animate-spin"}):null,iconPosition:"left",children:[l&&be&&!J?"GesprÃ¤chspartner tippt...":l?J&&!ce?"Training abschlieÃŸen":f.nextButton:ie?"Training abschlieÃŸen":f.nextButton,!be&&!(l?J&&!ce:ie)&&e.jsx(De,{size:16,className:"ml-1"})]})]}),e.jsx(Le,{question:Y,index:B,labels:f,isMobile:u}),e.jsx("div",{className:"mt-4",children:e.jsx(as,{transcript:K.transcript,feedback:K.feedback,audioMetrics:K.audio_analysis,audioUrl:K.audio_url,hideButtons:!0})})]}):e.jsxs("div",{className:`flex flex-col ${u?"gap-4":"gap-6"}`,children:[u?e.jsxs(e.Fragment,{children:[e.jsx(Le,{question:Y,index:B,labels:f,isMobile:!0}),e.jsx(tt,{onRecordingComplete:Ye,timeLimit:x.time_limit_per_question||120,disabled:!1,deviceId:Z,themedGradient:t?.["--button-gradient"]||t?.["--header-gradient"],primaryAccent:t?.["--primary-accent"],isSubmitting:_,labels:f,onOpenSettings:()=>le(!0),isMobile:!0,onStreamChange:Ke}),C&&e.jsx(rt,{error:C,onRetry:Te,isMobile:!0})]}):e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(tt,{onRecordingComplete:Ye,timeLimit:x.time_limit_per_question||120,disabled:!1,deviceId:Z,themedGradient:t?.["--button-gradient"]||t?.["--header-gradient"],primaryAccent:t?.["--primary-accent"],isSubmitting:_,labels:f,onOpenSettings:()=>le(!0),isMobile:!1,onStreamChange:Ke}),C&&e.jsx(rt,{error:C,onRetry:Te,isMobile:!1})]}),e.jsx(Le,{question:Y,index:B,labels:f,isMobile:!1})]}),Y?.tips&&Y.tips.length>0&&e.jsx(ls,{tips:Y.tips,primaryAccent:t?.["--primary-accent"],tipsLabel:f.tipsLabel})]}),e.jsx(Ut,{isOpen:mt,onClose:()=>le(!1),mode:"audio",selectedMicrophoneId:Z,onMicrophoneChange:me})]})},ze=({score:s,label:o,primaryAccent:x,b:i})=>{const r=s!=null?s*10:null,c=Ht(r,x);return e.jsxs("div",{style:{textAlign:"center",padding:i.space[4],backgroundColor:d.slate[100],borderRadius:i.radius.lg},children:[e.jsx("div",{style:{fontSize:i.fontSize["4xl"],fontWeight:700,color:c,marginBottom:"4px"},children:r!=null?Math.round(r):"-"}),e.jsx("div",{style:{fontSize:i.fontSize.sm,color:d.slate[600]},children:o})]})},Ne=({icon:s,value:o,label:x,primaryAccent:i,b:r})=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.space[3],padding:`${r.space[3]} ${r.space[4]}`,backgroundColor:d.slate[100],borderRadius:r.radius.md},children:[e.jsx(s,{style:{width:"20px",height:"20px",color:i}}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:r.fontSize.xl,fontWeight:600,color:d.slate[900]},children:o}),e.jsx("div",{style:{fontSize:r.fontSize.xs,color:d.slate[500]},children:x})]})]}),gs=({session:s,scenario:o,onBackToDashboard:x,onStartNew:i})=>{const r=Be(),c=s.summary_feedback||s.summary_feedback_json,y=c?typeof c=="string"?JSON.parse(c):c:null,w=s.overall_score||y?.overall_score||0,S=w<=10?w*10:w,u=(n=>n>=90?{text:"Ausgezeichnet!",emoji:"ðŸŒŸ"}:n>=80?{text:"Sehr gut!",emoji:"ðŸŽ‰"}:n>=70?{text:"Gut!",emoji:"ðŸ‘"}:n>=60?{text:"Solide Leistung",emoji:"ðŸ‘"}:n>=50?{text:"AusbaufÃ¤hig",emoji:"ðŸ’ª"}:{text:"Weiter Ã¼ben!",emoji:"ðŸ“š"})(S);return e.jsxs("div",{style:{padding:r.space[6],maxWidth:"640px",margin:"0 auto"},children:[e.jsxs("div",{style:{textAlign:"center",marginBottom:"32px"},children:[e.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:r.headerGradient,display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px",boxShadow:`0 8px 24px ${r.primaryAccent}4d`},children:e.jsx(dt,{style:{width:"40px",height:"40px",color:"white"}})}),e.jsxs("h1",{style:{fontSize:r.fontSize["5xl"],fontWeight:700,color:d.slate[900],margin:"0 0 8px 0"},children:["Training abgeschlossen! ",u.emoji]}),e.jsxs("p",{style:{fontSize:r.fontSize.lg,color:d.slate[600],margin:0},children:[o?.title||"Skill Training"," - ",u.text]})]}),e.jsxs("div",{style:{padding:r.space[6],borderRadius:r.radius.xl,backgroundColor:"white",border:`1px solid ${d.slate[200]}`,textAlign:"center",marginBottom:r.space[6]},children:[e.jsx("div",{style:{width:"120px",height:"120px",borderRadius:"50%",border:`6px solid ${r.primaryAccent}`,display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px",backgroundColor:r.primaryAccentLight},children:e.jsx("span",{style:{fontSize:r.fontSize["5xl"],fontWeight:700,color:r.primaryAccent},children:S?Math.round(S):"-"})}),e.jsx("p",{style:{fontSize:r.fontSize.base,color:d.slate[500],margin:0},children:S?"Gesamtbewertung (von 100)":"Keine Fragen beantwortet"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:r.space[3],marginBottom:r.space[6]},children:[e.jsx(Ne,{icon:ge,value:`${s.completed_questions??0}/${s.total_questions||"-"}`,label:"Fragen",primaryAccent:r.primaryAccent,b:r}),e.jsx(Ne,{icon:re,value:y?.average_content_score?Math.round(y.average_content_score*10):"-",label:"Ã˜ Inhalt",primaryAccent:r.primaryAccent,b:r}),e.jsx(Ne,{icon:Dt,value:y?.average_delivery_score?Math.round(y.average_delivery_score*10):"-",label:"Ã˜ PrÃ¤sentation",primaryAccent:r.primaryAccent,b:r})]}),y?.scores&&e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:r.space[3],marginBottom:r.space[6]},children:[e.jsx(ze,{score:y.scores.content,label:"Inhalt",primaryAccent:r.primaryAccent,b:r}),e.jsx(ze,{score:y.scores.structure,label:"Struktur",primaryAccent:r.primaryAccent,b:r}),e.jsx(ze,{score:y.scores.relevance,label:"Relevanz",primaryAccent:r.primaryAccent,b:r}),e.jsx(ze,{score:y.scores.delivery,label:"PrÃ¤sentation",primaryAccent:r.primaryAccent,b:r})]}),y?.summary&&e.jsxs("div",{style:{padding:r.space[5],borderRadius:r.radius.lg,backgroundColor:d.slate[100],marginBottom:r.space[6]},children:[e.jsx("h3",{style:{fontSize:r.fontSize.base,fontWeight:600,color:d.slate[700],margin:"0 0 8px 0"},children:"Zusammenfassung"}),e.jsx("p",{style:{fontSize:r.fontSize.base,color:d.slate[600],margin:0,lineHeight:1.6},children:y.summary})]}),y?.key_takeaways?.length>0&&e.jsxs("div",{style:{padding:r.space[5],borderRadius:r.radius.lg,backgroundColor:d.green[100],marginBottom:r.space[6]},children:[e.jsx("h3",{style:{fontSize:r.fontSize.base,fontWeight:600,color:d.green[500],margin:"0 0 12px 0"},children:"ðŸ’¡ Die wichtigsten Erkenntnisse"}),e.jsx("ul",{style:{margin:0,paddingLeft:r.space[5],color:d.slate[700],fontSize:r.fontSize.base,lineHeight:1.6},children:y.key_takeaways.map((n,a)=>e.jsx("li",{style:{marginBottom:"8px"},children:n},a))})]}),e.jsxs("div",{style:{display:"flex",gap:r.space[3],marginTop:"32px"},children:[e.jsxs("button",{onClick:x,style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:r.space[2],padding:`${r.space[3.5]} ${r.space[6]}`,borderRadius:r.radius.lg,border:`2px solid ${d.slate[300]}`,backgroundColor:"white",color:d.slate[700],fontSize:r.fontSize.base,fontWeight:600,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:n=>{n.target.style.borderColor=r.primaryAccent,n.target.style.color=r.primaryAccent},onMouseLeave:n=>{n.target.style.borderColor=d.slate[300],n.target.style.color=d.slate[700]},children:[e.jsx(Ie,{style:{width:"18px",height:"18px"}}),"Zur Ãœbersicht"]}),e.jsxs("button",{onClick:i,style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:r.space[2],padding:`${r.space[3.5]} ${r.space[6]}`,borderRadius:r.radius.lg,border:"none",background:r.buttonGradient,color:"white",fontSize:r.fontSize.base,fontWeight:600,cursor:"pointer",boxShadow:`0 4px 12px ${r.primaryAccent}4d`,transition:"all 0.2s"},onMouseEnter:n=>{n.target.style.transform="translateY(-2px)",n.target.style.boxShadow=`0 6px 16px ${r.primaryAccent}66`},onMouseLeave:n=>{n.target.style.transform="none",n.target.style.boxShadow=`0 4px 12px ${r.primaryAccent}4d`},children:[e.jsx(Pe,{style:{width:"18px",height:"18px"}}),"Nochmal Ã¼ben"]})]})]})},P={DASHBOARD:"dashboard",VARIABLES:"variables",SESSION:"session",COMPLETE:"complete"},Es=({isAuthenticated:s,requireAuth:o,setPendingAction:x,pendingContinueSession:i,clearPendingContinueSession:r,pendingRepeatSession:c,clearPendingRepeatSession:y,onNavigateToHistory:w})=>{const[S,h]=p.useState(P.DASHBOARD),[u,n]=p.useState(null),[a,I]=p.useState(null),[z,k]=p.useState([]),[M,T]=p.useState({}),[R,g]=p.useState(null),[t,l]=p.useState(null),[f,$]=p.useState(null),[F,W]=p.useState(0);p.useEffect(()=>{f&&s&&(n(f),h(P.VARIABLES),$(null))},[f,s]),p.useEffect(()=>{if(i&&s){const{session:b,scenario:C}=i,E=b.questions||b.questions_json,U=typeof E=="string"?JSON.parse(E):E||[],ne=b.completed_questions||b.answered_count||0;n(C||{id:b.scenario_id,title:b.scenario_title}),I(b),k(U),T({}),W(ne),h(P.SESSION),r&&r()}},[i,s,r]),p.useEffect(()=>{if(c&&s){const{session:b,scenario:C}=c,E=b.questions||b.questions_json,U=typeof E=="string"?JSON.parse(E):E||[];n(C||{id:b.scenario_id,title:b.scenario_title}),k(U),T({}),W(0),h(P.SESSION),y&&y()}},[c,s,y]),p.useEffect(()=>{window.scrollTo(0,0)},[S]);const L=p.useCallback(b=>{n(b),h(P.VARIABLES)},[]),B=p.useCallback(()=>{n(null),I(null),k([]),T({}),g(null),W(0),l(null),h(P.DASHBOARD)},[]),V=p.useCallback(b=>{T(b),h(P.SESSION)},[]),K=p.useCallback(b=>{I(b.session),k(b.questions),b.selectedMicrophoneId&&l(b.selectedMicrophoneId)},[]),m=p.useCallback(b=>{g(b.session),h(P.COMPLETE)},[]),j=p.useCallback(()=>{B()},[B]),v=p.useCallback(()=>{I(null),k([]),g(null),W(0),l(null),h(P.VARIABLES)},[]),_=()=>{switch(S){case P.DASHBOARD:return e.jsx(et,{onSelectScenario:L,isAuthenticated:s,requireAuth:o,setPendingScenario:$,onNavigateToHistory:w});case P.VARIABLES:return e.jsx(ns,{scenario:u,onBack:B,onNext:V});case P.SESSION:return e.jsx(hs,{session:a,questions:z,scenario:u,variables:M,preloadedQuestions:z.length>0?z:null,onSessionCreated:K,onComplete:m,onExit:j,startFromQuestion:F,initialMicrophoneId:t});case P.COMPLETE:return e.jsx(gs,{session:R,scenario:u,onBackToDashboard:B,onStartNew:v});default:return e.jsx(et,{onSelectScenario:L,isAuthenticated:s,requireAuth:o,setPendingScenario:$,onNavigateToHistory:w})}};return e.jsx("div",{style:{minHeight:"100%"},children:_()})},nt={target:re,clock:X,mic:G,"message-square":ue,lightbulb:O,brain:Oe,info:he,check:ge,sparkles:$e},fs=[{icon:re,title:"Strukturiert antworten",description:"Nutze die STAR-Methode (Situation, Task, Action, Result) fÃ¼r Beispiele."},{icon:X,title:"Zeit im Blick",description:"Antworte prÃ¤zise, aber ausfÃ¼hrlich genug."},{icon:G,title:"Klar sprechen",description:"Sprich in normalem Tempo. Pausen sind vÃ¶llig in Ordnung."}],Fs=({scenario:s,onBack:o,onStart:x,preloadedQuestions:i})=>{const[r,c]=p.useState({}),[y,w]=p.useState({}),[S,h]=p.useState(!1),[u,n]=p.useState(null),[a,I]=p.useState(null),[z,k]=p.useState(!1),[M,T]=p.useState([]),[R,g]=p.useState(!1),t=Be(),{demoCode:l}=Ze(),f=ut.useMemo(()=>{if(!s?.input_configuration)return[];try{const m=typeof s.input_configuration=="string"?JSON.parse(s.input_configuration):s.input_configuration;return Array.isArray(m)?m.filter(j=>j.user_input!==!1):[]}catch(m){return console.error("Error parsing input_configuration:",m),[]}},[s?.input_configuration]);p.useEffect(()=>{const m={};f.forEach(j=>{j.default&&(m[j.key]=j.default)}),c(m)},[f]);const $=(m,j)=>{if(!m)return m;let v=m;return Object.entries(j||{}).forEach(([_,b])=>{b&&(v=v.replace(new RegExp(`\\$\\{${_}\\}`,"g"),b),v=v.replace(new RegExp(`\\{${_}\\}`,"g"),b))}),v},F=(m,j)=>{c(v=>({...v,[m]:j})),y[m]&&w(v=>{const _={...v};return delete _[m],_})},W=()=>{T(m=>[...m,{key:"",value:""}])},L=(m,j,v)=>{T(_=>{const b=[..._];return b[m]={...b[m],[j]:v},b})},B=m=>{T(j=>j.filter((v,_)=>_!==m))},V=()=>{const m={};return f.forEach(j=>{const v=r[j.key];if(j.required&&(!v||v.trim()==="")){m[j.key]="Dieses Feld ist erforderlich";return}if(!(!v||v.trim()==="")&&j.validation){const{minLength:_,maxLength:b,min:C,max:E,pattern:U}=j.validation;_&&v.length<_&&(m[j.key]=`Mindestens ${_} Zeichen erforderlich`),b&&v.length>b&&(m[j.key]=`Maximal ${b} Zeichen erlaubt`),C!==void 0&&Number(v)<C&&(m[j.key]=`Mindestens ${C}`),E!==void 0&&Number(v)>E&&(m[j.key]=`Maximal ${E}`),U&&!new RegExp(U).test(v)&&(m[j.key]="UngÃ¼ltiges Format")}}),w(m),Object.keys(m).length===0},K=async m=>{if(m.preventDefault(),n(null),!!V()){h(!0);try{const j={...r};M.forEach(C=>{C.key&&C.value&&(j[C.key]=C.value)});const v=await Q.createSimulatorSession({scenario_id:s.id,variables:j,demo_code:l||null,questions:i||null});if(!v.success)throw new Error(v.message||"Fehler beim Erstellen der Session");const _=v.data.session;let b;if(i&&i.length>0)b=i,await Q.updateSimulatorSessionQuestions(_.id,b);else{const C=await Q.generateSimulatorQuestions(_.id);if(!C.success)throw new Error(C.message||"Fehler beim Generieren der Fragen");b=C.data.questions}x({session:{..._,questions_json:b},questions:b,scenario:s,variables:j,selectedMicrophoneId:a})}catch(j){console.error("Error starting session:",j),n(j.message||"Ein Fehler ist aufgetreten")}finally{h(!1)}}};return e.jsxs("div",{style:{padding:t.space[6],paddingBottom:"200px",maxWidth:"640px",margin:"0 auto"},children:[e.jsxs("div",{style:{marginBottom:"32px"},children:[e.jsxs("button",{onClick:o,style:{display:"inline-flex",alignItems:"center",gap:t.space[2],padding:`${t.space[2]} ${t.space[3]}`,marginBottom:t.space[4],border:"none",background:"transparent",color:d.slate[600],fontSize:t.fontSize.base,cursor:"pointer",borderRadius:t.radius.sm,transition:t.transition.normal},onMouseEnter:m=>m.target.style.background=d.slate[100],onMouseLeave:m=>m.target.style.background="transparent",children:[e.jsx(Ie,{style:{width:"18px",height:"18px"}}),"ZurÃ¼ck zur Ãœbersicht"]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:t.space[4]},children:[e.jsx("div",{style:{width:"56px",height:"56px",borderRadius:t.radius.lg,background:t.headerGradient,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx($e,{style:{width:"28px",height:"28px",color:"white"}})}),e.jsxs("div",{children:[e.jsx("h1",{style:{fontSize:t.fontSize["4xl"],fontWeight:700,color:d.slate[900],margin:0},children:s.title}),e.jsx("p",{style:{fontSize:t.fontSize.base,color:d.slate[600],margin:"4px 0 0 0"},children:"Konfiguriere dein Training"})]})]})]}),e.jsx("div",{style:{padding:`${t.space[4]} ${t.space[5]}`,borderRadius:t.radius.lg,backgroundColor:d.slate[100],marginBottom:t.space[6]},children:e.jsx("p",{style:{fontSize:t.fontSize.base,color:d.slate[700],margin:0,lineHeight:1.6},children:s.description})}),s.long_description&&e.jsx("div",{style:{padding:`${t.space[5]} ${t.space[6]}`,borderRadius:t.radius.lg,backgroundColor:"white",border:`1px solid ${d.slate[200]}`,marginBottom:t.space[6]},children:e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"14px"},children:[e.jsx("div",{style:{width:"40px",height:"40px",borderRadius:t.radius.md,background:t.headerGradient,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.jsx(he,{style:{width:"20px",height:"20px",color:"white"}})}),e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:t.fontSize.md,fontWeight:600,color:d.slate[900],margin:`0 0 ${t.space[2]} 0`},children:"Deine Aufgabe"}),e.jsx("p",{style:{fontSize:t.fontSize.base,lineHeight:"1.6",color:d.slate[700],margin:0,whiteSpace:"pre-wrap"},children:$(s.long_description?.replace(/\/n/g,`
`),r)})]})]})}),(()=>{const m=s.tips&&Array.isArray(s.tips)&&s.tips.length>0?s.tips.map((j,v)=>typeof j=="string"?{icon:O,title:`Tipp ${v+1}`,description:j}:{icon:nt[j.icon]||nt[j.icon?.toLowerCase()]||O,title:j.title||`Tipp ${v+1}`,description:j.text||j.description||""}):fs;return e.jsxs("div",{style:{padding:`${t.space[5]} ${t.space[6]}`,borderRadius:t.radius.lg,backgroundColor:"white",border:`1px solid ${d.slate[200]}`,marginBottom:t.space[6]},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:t.space[2.5],marginBottom:t.space[4]},children:[e.jsx(O,{style:{width:"20px",height:"20px",color:t.primaryAccent}}),e.jsx("h3",{style:{fontSize:t.fontSize.lg,fontWeight:600,color:d.slate[900],margin:0},children:"Tipps fÃ¼r dein Training"})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:t.space[3]},children:m.map((j,v)=>{const _=j.icon;return e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:t.space[3],padding:`${t.space[3]} ${t.space[4]}`,borderRadius:t.radius.md,backgroundColor:d.slate[50]},children:[e.jsx("div",{style:{width:"32px",height:"32px",borderRadius:t.radius.sm,background:t.headerGradient,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.jsx(_,{style:{width:"16px",height:"16px",color:"white"}})}),e.jsxs("div",{children:[e.jsx("h4",{style:{fontWeight:600,color:d.slate[900],fontSize:t.fontSize.base,margin:"0 0 2px 0"},children:j.title}),e.jsx("p",{style:{fontSize:t.fontSize.sm,color:d.slate[600],lineHeight:1.5,margin:0},children:j.description})]})]},v)})})]})})(),e.jsxs("form",{onSubmit:K,children:[f.length>0?f.map(m=>e.jsx(Yt,{field:m,value:r[m.key],onChange:F,error:y[m.key],focusColor:t.primaryAccent},m.key)):e.jsxs("div",{style:{padding:t.space[6],textAlign:"center",color:d.slate[500]},children:[e.jsx(ge,{style:{width:"32px",height:"32px",marginBottom:t.space[3],opacity:.5}}),e.jsx("p",{style:{margin:0},children:"Keine zusÃ¤tzliche Konfiguration erforderlich."})]}),s?.allow_custom_variables&&e.jsxs("div",{style:{marginTop:t.space[5],marginBottom:t.space[5],paddingTop:t.space[5],borderTop:`1px solid ${d.slate[200]}`},children:[e.jsxs("button",{type:"button",onClick:()=>g(!R),style:{display:"flex",alignItems:"flex-start",gap:t.space[2],padding:"0",border:"none",background:"none",color:d.slate[500],fontSize:t.fontSize.sm,fontWeight:500,cursor:"pointer",marginBottom:R?t.space[4]:"0",textAlign:"left"},children:[e.jsxs("span",{style:{display:"flex",alignItems:"center",gap:t.space[2],flexShrink:0},children:[R?e.jsx(Ve,{size:18}):e.jsx(Ae,{size:18}),e.jsx(Ce,{size:16})]}),e.jsx("span",{style:{lineHeight:"1.4"},children:"ZusÃ¤tzliche Variablen hinzufÃ¼gen (optional)"})]}),R&&e.jsxs("div",{style:{backgroundColor:d.slate[50],borderRadius:t.radius.lg,padding:t.space[4]},children:[e.jsx("p",{style:{fontSize:t.fontSize.sm,color:d.slate[500],margin:`0 0 ${t.space[3]} 0`},children:"FÃ¼ge eigene Variablen hinzu, die in die Fragen-Generierung und Feedback einflieÃŸen sollen."}),M.length>0&&e.jsx("div",{style:{marginBottom:t.space[3]},children:M.map((m,j)=>e.jsxs("div",{style:{backgroundColor:"white",border:`1px solid ${d.slate[200]}`,borderRadius:t.radius.md,padding:t.space[3],marginBottom:t.space[3]},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:t.space[2]},children:[e.jsx("input",{type:"text",value:m.key||"",onChange:v=>L(j,"key",v.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"_")),placeholder:"variable_name",style:{padding:`${t.space[2]} ${t.space[3]}`,borderRadius:t.radius.md,border:`1px solid ${d.slate[200]}`,fontSize:t.fontSize.sm,fontFamily:"monospace",backgroundColor:d.slate[50],flex:1,marginRight:t.space[2]}}),e.jsx("button",{type:"button",onClick:()=>B(j),style:{padding:t.space[2],border:"none",backgroundColor:"transparent",cursor:"pointer",color:"#ef4444",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(ot,{size:18})})]}),e.jsx("textarea",{value:m.value||"",onChange:v=>L(j,"value",v.target.value),placeholder:"Wert eingeben... (mehrzeilig mÃ¶glich)",rows:3,style:{width:"100%",padding:`${t.space[2]} ${t.space[3]}`,borderRadius:t.radius.md,border:`1px solid ${d.slate[200]}`,fontSize:t.fontSize.sm,resize:"vertical",minHeight:"80px",boxSizing:"border-box"}})]},j))}),e.jsxs("button",{type:"button",onClick:W,style:{display:"flex",alignItems:"center",gap:t.space[1.5],padding:`${t.space[2]} ${t.space[3]}`,border:`1px dashed ${d.slate[300]}`,borderRadius:t.radius.md,background:"transparent",color:d.slate[600],fontSize:t.fontSize.sm,cursor:"pointer",width:"100%",justifyContent:"center"},children:[e.jsx(Ce,{size:16}),"Variable hinzufÃ¼gen"]})]})]}),e.jsxs("div",{style:{padding:`${t.space[4]} ${t.space[5]}`,borderRadius:t.radius.lg,backgroundColor:t.primaryAccentLight,marginTop:t.space[6],marginBottom:t.space[6],display:"flex",gap:t.space[5],flexWrap:"wrap"},children:[e.jsxs("div",{children:[e.jsx("span",{style:{fontSize:t.fontSize.xs,color:d.slate[500],display:"block"},children:"Fragen"}),e.jsxs("span",{style:{fontSize:t.fontSize.lg,fontWeight:600,color:d.slate[900]},children:[s.question_count_min,"-",s.question_count_max]})]}),e.jsxs("div",{children:[e.jsx("span",{style:{fontSize:t.fontSize.xs,color:d.slate[500],display:"block"},children:"Zeit pro Frage"}),e.jsxs("span",{style:{fontSize:t.fontSize.lg,fontWeight:600,color:d.slate[900]},children:[Math.round(s.time_limit_per_question/60)," Min"]})]}),e.jsxs("div",{children:[e.jsx("span",{style:{fontSize:t.fontSize.xs,color:d.slate[500],display:"block"},children:"Wiederholen"}),e.jsx("span",{style:{fontSize:t.fontSize.lg,fontWeight:600,color:d.slate[900]},children:s.allow_retry?"Erlaubt":"Nicht erlaubt"})]})]}),e.jsxs("div",{style:{padding:t.space[6],borderRadius:t.radius.xl,backgroundColor:"white",border:`1px solid ${d.slate[200]}`,marginBottom:t.space[6]},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:t.space[2.5],marginBottom:t.space[4]},children:[e.jsx(G,{style:{width:"22px",height:"22px",color:t.primaryAccent}}),e.jsx("h3",{style:{fontSize:t.fontSize.lg,fontWeight:600,color:d.slate[900],margin:0},children:"Mikrofon auswÃ¤hlen"})]}),e.jsx(xt,{selectedDeviceId:a,onDeviceChange:I,onTestClick:()=>k(!0)})]}),u&&e.jsxs("div",{style:{padding:`${t.space[3]} ${t.space[4]}`,borderRadius:t.radius.lg,backgroundColor:d.red[100],color:d.red[500],marginBottom:t.space[5],display:"flex",alignItems:"center",gap:t.space[2]},children:[e.jsx(xe,{style:{width:"18px",height:"18px"}}),u]}),e.jsxs("button",{type:"submit",disabled:S,style:{width:"100%",padding:`${t.space[4]} ${t.space[6]}`,borderRadius:t.radius.lg,border:"none",background:S?d.slate[300]:t.buttonGradient,color:"white",fontSize:t.fontSize.lg,fontWeight:600,cursor:S?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:t.space[2.5],transition:t.transition.normal,boxShadow:S?"none":`0 4px 12px ${t.primaryAccent}4d`},onMouseEnter:m=>{S||(m.target.style.transform="translateY(-2px)",m.target.style.boxShadow=`0 6px 16px ${t.primaryAccent}66`)},onMouseLeave:m=>{m.target.style.transform="none",m.target.style.boxShadow=S?"none":`0 4px 12px ${t.primaryAccent}4d`},children:["Training starten",e.jsx(at,{style:{width:"20px",height:"20px"}})]})]}),e.jsx(ht,{isOpen:z,onClose:()=>k(!1),deviceId:a}),e.jsx(gt,{isLoading:S,message:"Fragen werden generiert...",subMessage:"Die KI erstellt personalisierte Fragen basierend auf deinen Angaben."})]})};export{us as CancelConfirmDialog,ps as CompleteConfirmDialog,as as ImmediateFeedback,ds as PreSessionView,ls as QuestionTips,gs as SessionComplete,cs as SessionTimer,Es as SimulatorApp,tt as SimulatorAudioRecorder,et as SimulatorDashboard,hs as SimulatorSession,Fs as SimulatorWizard};
