import{j as r,A as f,m as l}from"./ui-vendor-B9DEMv6g.js";import{a as n}from"./react-vendor-uDOJF2jQ.js";const m=(e=50)=>{const t=["#6366f1","#8b5cf6","#a855f7","#ec4899","#f43f5e","#f97316","#eab308","#22c55e","#14b8a6","#06b6d4"],o=["square","circle","triangle"];return Array.from({length:e},(a,s)=>({id:s,x:Math.random()*100,color:t[Math.floor(Math.random()*t.length)],shape:o[Math.floor(Math.random()*o.length)],size:Math.random()*8+6,rotation:Math.random()*360,delay:Math.random()*.5,duration:Math.random()*1.5+2,amplitude:Math.random()*100+50}))},c=({particle:e})=>{const t=n.useMemo(()=>{const o={width:e.size,height:e.size,backgroundColor:e.color};switch(e.shape){case"circle":return{...o,borderRadius:"50%"};case"triangle":return{width:0,height:0,backgroundColor:"transparent",borderLeft:`${e.size/2}px solid transparent`,borderRight:`${e.size/2}px solid transparent`,borderBottom:`${e.size}px solid ${e.color}`};default:return{...o,borderRadius:"2px"}}},[e]);return r.jsx(l.div,{initial:{x:`${e.x}vw`,y:-20,rotate:e.rotation,opacity:1,scale:0},animate:{y:"110vh",x:[`${e.x}vw`,`${e.x+(Math.random()>.5?1:-1)*(e.amplitude/3)}vw`,`${e.x+(Math.random()>.5?-1:1)*(e.amplitude/2)}vw`,`${e.x}vw`],rotate:e.rotation+(Math.random()>.5?360:-360)*3,opacity:[1,1,1,.8,0],scale:[0,1,1,1,.8]},transition:{duration:e.duration,delay:e.delay,ease:"easeOut",x:{duration:e.duration,repeat:0,ease:"easeInOut"}},style:{position:"absolute",top:0,left:0,pointerEvents:"none",...t}})};function x({active:e=!1,count:t=50,duration:o=4e3,onComplete:a}){const[s,h]=n.useState([]),[d,u]=n.useState(!1);return n.useEffect(()=>{if(e&&!d){u(!0),h(m(t));const i=setTimeout(()=>{u(!1),h([]),a?.()},o);return()=>clearTimeout(i)}},[e,t,o,a,d]),n.useEffect(()=>{e||u(!1)},[e]),!d||s.length===0?null:r.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",pointerEvents:"none",zIndex:9999,overflow:"hidden"},"aria-hidden":"true",children:r.jsx(f,{children:s.map(i=>r.jsx(c,{particle:i},i.id))})})}function v(e={}){const[t,o]=n.useState(!1),a=n.useCallback(()=>{o(!0)},[]),s=n.useCallback(()=>r.jsx(x,{active:t,count:e.count||50,duration:e.duration||4e3,onComplete:()=>{o(!1),e.onComplete?.()}}),[t,e]);return{triggerConfetti:a,isActive:t,ConfettiComponent:s}}export{v as u};
