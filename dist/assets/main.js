import{r as c,c as D,j as n,R as An,g as Ds,a as Ms,b as ue,B as L,A as He,T as In,L as Dt,S as _s,w as F,d as Mt,C as Ve,U as _t,e as Ot,f as Rt,M as Tt,h as Pt,H as it,i as Os,k as Ft,l as Rs,m as Ts}from"./wordpress-api-BnKMaWph.js";function Te(){return Te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)({}).hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},Te.apply(null,arguments)}const Lt=new Uint8Array(0);class ge{static getFullOptions(t){return Te({clientTools:{},onConnect:()=>{},onDebug:()=>{},onDisconnect:()=>{},onError:()=>{},onMessage:()=>{},onAudio:()=>{},onModeChange:()=>{},onStatusChange:()=>{},onCanSendFeedbackChange:()=>{}},t)}constructor(t,s){var o=this;this.options=void 0,this.connection=void 0,this.lastInterruptTimestamp=0,this.mode="listening",this.status="connecting",this.volume=1,this.currentEventId=1,this.lastFeedbackEventId=1,this.canSendFeedback=!1,this.endSessionWithDetails=async function(r){o.status!=="connected"&&o.status!=="connecting"||(o.updateStatus("disconnecting"),await o.handleEndSession(),o.updateStatus("disconnected"),o.options.onDisconnect(r))},this.onMessage=async function(r){switch(r.type){case"interruption":return void o.handleInterruption(r);case"agent_response":return void o.handleAgentResponse(r);case"user_transcript":return void o.handleUserTranscript(r);case"internal_tentative_agent_response":return void o.handleTentativeAgentResponse(r);case"client_tool_call":return void await o.handleClientToolCall(r);case"audio":return void o.handleAudio(r);case"ping":return void o.connection.sendMessage({type:"pong",event_id:r.ping_event.event_id});default:return void o.options.onDebug(r)}},this.setVolume=({volume:r})=>{this.volume=r},this.options=t,this.connection=s,this.options.onConnect({conversationId:s.conversationId}),this.connection.onMessage(this.onMessage),this.connection.onDisconnect(this.endSessionWithDetails),this.updateStatus("connected")}endSession(){return this.endSessionWithDetails({reason:"user"})}async handleEndSession(){this.connection.close()}updateMode(t){t!==this.mode&&(this.mode=t,this.options.onModeChange({mode:t}))}updateStatus(t){t!==this.status&&(this.status=t,this.options.onStatusChange({status:t}))}updateCanSendFeedback(){const t=this.currentEventId!==this.lastFeedbackEventId;this.canSendFeedback!==t&&(this.canSendFeedback=t,this.options.onCanSendFeedbackChange({canSendFeedback:t}))}handleInterruption(t){t.interruption_event&&(this.lastInterruptTimestamp=t.interruption_event.event_id)}handleAgentResponse(t){this.options.onMessage({source:"ai",message:t.agent_response_event.agent_response})}handleUserTranscript(t){this.options.onMessage({source:"user",message:t.user_transcription_event.user_transcript})}handleTentativeAgentResponse(t){this.options.onDebug({type:"tentative_agent_response",response:t.tentative_agent_response_internal_event.tentative_agent_response})}async handleClientToolCall(t){if(this.options.clientTools.hasOwnProperty(t.client_tool_call.tool_name))try{var s;const o=(s=await this.options.clientTools[t.client_tool_call.tool_name](t.client_tool_call.parameters))!=null?s:"Client tool execution successful.",r=typeof o=="object"?JSON.stringify(o):String(o);this.connection.sendMessage({type:"client_tool_result",tool_call_id:t.client_tool_call.tool_call_id,result:r,is_error:!1})}catch(o){this.onError("Client tool execution failed with following error: "+o?.message,{clientToolName:t.client_tool_call.tool_name}),this.connection.sendMessage({type:"client_tool_result",tool_call_id:t.client_tool_call.tool_call_id,result:"Client tool execution failed: "+o?.message,is_error:!0})}else{if(this.options.onUnhandledClientToolCall)return void this.options.onUnhandledClientToolCall(t.client_tool_call);this.onError(`Client tool with name ${t.client_tool_call.tool_name} is not defined on client`,{clientToolName:t.client_tool_call.tool_name}),this.connection.sendMessage({type:"client_tool_result",tool_call_id:t.client_tool_call.tool_call_id,result:`Client tool with name ${t.client_tool_call.tool_name} is not defined on client`,is_error:!0})}}handleAudio(t){}onError(t,s){console.error(t,s),this.options.onError(t,s)}getId(){return this.connection.conversationId}isOpen(){return this.status==="connected"}setMicMuted(t){}getInputByteFrequencyData(){return Lt}getOutputByteFrequencyData(){return Lt}getInputVolume(){return 0}getOutputVolume(){return 0}sendFeedback(t){this.canSendFeedback?(this.connection.sendMessage({type:"feedback",score:t?"like":"dislike",event_id:this.currentEventId}),this.lastFeedbackEventId=this.currentEventId,this.updateCanSendFeedback()):console.warn(this.lastFeedbackEventId===0?"Cannot send feedback: the conversation has not started yet.":"Cannot send feedback: feedback has already been sent for the current response.")}sendContextualUpdate(t){this.connection.sendMessage({type:"contextual_update",text:t})}sendUserMessage(t){this.connection.sendMessage({type:"user_message",text:t})}sendUserActivity(){this.connection.sendMessage({type:"user_activity"})}sendMCPToolApprovalResult(t,s){this.connection.sendMessage({type:"mcp_tool_approval_result",tool_call_id:t,is_approved:s})}}function Gt(e){return!!e.type}let jn=class Cn{static async create(t){let s=null;try{var o;const a=(o=t.origin)!=null?o:"wss://api.elevenlabs.io",l=t.signedUrl?t.signedUrl:a+"/v1/convai/conversation?agent_id="+t.agentId,i=["convai"];t.authorization&&i.push(`bearer.${t.authorization}`),s=new WebSocket(l,i);const u=await new Promise((v,m)=>{s.addEventListener("open",()=>{var b;const w={type:"conversation_initiation_client_data"};var S,y,N,I,_;t.overrides&&(w.conversation_config_override={agent:{prompt:(S=t.overrides.agent)==null?void 0:S.prompt,first_message:(y=t.overrides.agent)==null?void 0:y.firstMessage,language:(N=t.overrides.agent)==null?void 0:N.language},tts:{voice_id:(I=t.overrides.tts)==null?void 0:I.voiceId},conversation:{text_only:(_=t.overrides.conversation)==null?void 0:_.textOnly}}),t.customLlmExtraBody&&(w.custom_llm_extra_body=t.customLlmExtraBody),t.dynamicVariables&&(w.dynamic_variables=t.dynamicVariables),(b=s)==null||b.send(JSON.stringify(w))},{once:!0}),s.addEventListener("error",b=>{setTimeout(()=>m(b),0)}),s.addEventListener("close",m),s.addEventListener("message",b=>{const w=JSON.parse(b.data);Gt(w)&&(w.type==="conversation_initiation_metadata"?v(w.conversation_initiation_metadata_event):console.warn("First received message is not conversation metadata."))},{once:!0})}),{conversation_id:f,agent_output_audio_format:g,user_input_audio_format:p}=u,d=Bt(p??"pcm_16000"),h=Bt(g);return new Cn(s,f,d,h)}catch(a){var r;throw(r=s)==null||r.close(),a}}constructor(t,s,o,r){this.socket=void 0,this.conversationId=void 0,this.inputFormat=void 0,this.outputFormat=void 0,this.queue=[],this.disconnectionDetails=null,this.onDisconnectCallback=null,this.onMessageCallback=null,this.socket=t,this.conversationId=s,this.inputFormat=o,this.outputFormat=r,this.socket.addEventListener("error",a=>{setTimeout(()=>this.disconnect({reason:"error",message:"The connection was closed due to a socket error.",context:a}),0)}),this.socket.addEventListener("close",a=>{this.disconnect(a.code===1e3?{reason:"agent",context:a}:{reason:"error",message:a.reason||"The connection was closed by the server.",context:a})}),this.socket.addEventListener("message",a=>{try{const l=JSON.parse(a.data);if(!Gt(l))return;this.onMessageCallback?this.onMessageCallback(l):this.queue.push(l)}catch{}})}close(){this.socket.close()}sendMessage(t){this.socket.send(JSON.stringify(t))}onMessage(t){this.onMessageCallback=t;const s=this.queue;this.queue=[],s.length>0&&queueMicrotask(()=>{s.forEach(t)})}onDisconnect(t){this.onDisconnectCallback=t;const s=this.disconnectionDetails;s&&queueMicrotask(()=>{t(s)})}disconnect(t){var s;this.disconnectionDetails||(this.disconnectionDetails=t,(s=this.onDisconnectCallback)==null||s.call(this,t))}};function Bt(e){const[t,s]=e.split("_");if(!["pcm","ulaw"].includes(t))throw new Error(`Invalid format: ${e}`);const o=parseInt(s);if(isNaN(o))throw new Error(`Invalid sample rate: ${s}`);return{format:t,sampleRate:o}}function kn(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}async function Dn(e={default:0,android:3e3}){let t=e.default;var s;if(/android/i.test(navigator.userAgent))t=(s=e.android)!=null?s:t;else if(kn()){var o;t=(o=e.ios)!=null?o:t}t>0&&await new Promise(r=>setTimeout(r,t))}let Ps=class Mn extends ge{static async startSession(t){const s=ge.getFullOptions(t);s.onStatusChange({status:"connecting"}),s.onCanSendFeedbackChange({canSendFeedback:!1});let o=null;try{return await Dn(s.connectionDelay),o=await jn.create(t),new Mn(s,o)}catch(a){var r;throw s.onStatusChange({status:"disconnected"}),(r=o)==null||r.close(),a}}};function Fs(e){const t=new Uint8Array(e);return window.btoa(String.fromCharCode(...t))}function Ls(e){const t=window.atob(e),s=t.length,o=new Uint8Array(s);for(let r=0;r<s;r++)o[r]=t.charCodeAt(r);return o.buffer}const qe=new Map;function _n(e,t){return async s=>{const o=qe.get(e);if(o)return s.addModule(o);const r=new Blob([t],{type:"application/javascript"}),a=URL.createObjectURL(r);try{return await s.addModule(a),void qe.set(e,a)}catch{URL.revokeObjectURL(a)}try{const l=`data:application/javascript;base64,${btoa(t)}`;await s.addModule(l),qe.set(e,l)}catch{throw new Error(`Failed to load the ${e} worklet module. Make sure the browser supports AudioWorklets.`)}}}const Gs=_n("raw-audio-processor",`
const BIAS = 0x84;
const CLIP = 32635;
const encodeTable = [
  0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,
  4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,
  5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
  5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,
  6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,
  6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,
  6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,
  6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,
  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
  7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7
];

function encodeSample(sample) {
  let sign;
  let exponent;
  let mantissa;
  let muLawSample;
  sign = (sample >> 8) & 0x80;
  if (sign !== 0) sample = -sample;
  sample = sample + BIAS;
  if (sample > CLIP) sample = CLIP;
  exponent = encodeTable[(sample>>7) & 0xFF];
  mantissa = (sample >> (exponent+3)) & 0x0F;
  muLawSample = ~(sign | (exponent << 4) | mantissa);
  
  return muLawSample;
}

class RawAudioProcessor extends AudioWorkletProcessor {
  constructor() {
    super();
              
    this.port.onmessage = ({ data }) => {
      switch (data.type) {
        case "setFormat":
          this.isMuted = false;
          this.buffer = []; // Initialize an empty buffer
          this.bufferSize = data.sampleRate / 4;
          this.format = data.format;

          if (globalThis.LibSampleRate && sampleRate !== data.sampleRate) {
            globalThis.LibSampleRate.create(1, sampleRate, data.sampleRate).then(resampler => {
              this.resampler = resampler;
            });
          }
          break;
        case "setMuted":
          this.isMuted = data.isMuted;
          break;
      }
    };
  }
  process(inputs) {
    if (!this.buffer) {
      return true;
    }
    
    const input = inputs[0]; // Get the first input node
    if (input.length > 0) {
      let channelData = input[0]; // Get the first channel's data

      // Resample the audio if necessary
      if (this.resampler) {
        channelData = this.resampler.full(channelData);
      }

      // Add channel data to the buffer
      this.buffer.push(...channelData);
      // Get max volume 
      let sum = 0.0;
      for (let i = 0; i < channelData.length; i++) {
        sum += channelData[i] * channelData[i];
      }
      const maxVolume = Math.sqrt(sum / channelData.length);
      // Check if buffer size has reached or exceeded the threshold
      if (this.buffer.length >= this.bufferSize) {
        const float32Array = this.isMuted 
          ? new Float32Array(this.buffer.length)
          : new Float32Array(this.buffer);

        let encodedArray = this.format === "ulaw"
          ? new Uint8Array(float32Array.length)
          : new Int16Array(float32Array.length);

        // Iterate through the Float32Array and convert each sample to PCM16
        for (let i = 0; i < float32Array.length; i++) {
          // Clamp the value to the range [-1, 1]
          let sample = Math.max(-1, Math.min(1, float32Array[i]));

          // Scale the sample to the range [-32768, 32767]
          let value = sample < 0 ? sample * 32768 : sample * 32767;
          if (this.format === "ulaw") {
            value = encodeSample(Math.round(value));
          }

          encodedArray[i] = value;
        }

        // Send the buffered data to the main script
        this.port.postMessage([encodedArray, maxVolume]);

        // Clear the buffer after sending
        this.buffer = [];
      }
    }
    return true; // Continue processing
  }
}
registerProcessor("raw-audio-processor", RawAudioProcessor);
`);class gt{static async create({sampleRate:t,format:s,preferHeadphonesForIosDevices:o}){let r=null,a=null;try{const u={sampleRate:{ideal:t},echoCancellation:{ideal:!0},noiseSuppression:{ideal:!0}};if(kn()&&o){const h=(await window.navigator.mediaDevices.enumerateDevices()).find(v=>v.kind==="audioinput"&&["airpod","headphone","earphone"].find(m=>v.label.toLowerCase().includes(m)));h&&(u.deviceId={ideal:h.deviceId})}const f=navigator.mediaDevices.getSupportedConstraints().sampleRate;r=new window.AudioContext(f?{sampleRate:t}:{});const g=r.createAnalyser();f||await r.audioWorklet.addModule("https://cdn.jsdelivr.net/npm/@alexanderolsen/libsamplerate-js@2.1.2/dist/libsamplerate.worklet.js"),await Gs(r.audioWorklet),a=await navigator.mediaDevices.getUserMedia({audio:u});const p=r.createMediaStreamSource(a),d=new AudioWorkletNode(r,"raw-audio-processor");return d.port.postMessage({type:"setFormat",format:s,sampleRate:t}),p.connect(g),g.connect(d),await r.resume(),new gt(r,g,d,a)}catch(u){var l,i;throw(l=a)==null||l.getTracks().forEach(f=>f.stop()),(i=r)==null||i.close(),u}}constructor(t,s,o,r){this.context=void 0,this.analyser=void 0,this.worklet=void 0,this.inputStream=void 0,this.context=t,this.analyser=s,this.worklet=o,this.inputStream=r}async close(){this.inputStream.getTracks().forEach(t=>t.stop()),await this.context.close()}setMuted(t){this.worklet.port.postMessage({type:"setMuted",isMuted:t})}}const Bs=_n("audio-concat-processor",`
const decodeTable = [0,132,396,924,1980,4092,8316,16764];

export function decodeSample(muLawSample) {
  let sign;
  let exponent;
  let mantissa;
  let sample;
  muLawSample = ~muLawSample;
  sign = (muLawSample & 0x80);
  exponent = (muLawSample >> 4) & 0x07;
  mantissa = muLawSample & 0x0F;
  sample = decodeTable[exponent] + (mantissa << (exponent+3));
  if (sign !== 0) sample = -sample;

  return sample;
}

class AudioConcatProcessor extends AudioWorkletProcessor {
  constructor() {
    super();
    this.buffers = []; // Initialize an empty buffer
    this.cursor = 0;
    this.currentBuffer = null;
    this.wasInterrupted = false;
    this.finished = false;
    
    this.port.onmessage = ({ data }) => {
      switch (data.type) {
        case "setFormat":
          this.format = data.format;
          break;
        case "buffer":
          this.wasInterrupted = false;
          this.buffers.push(
            this.format === "ulaw"
              ? new Uint8Array(data.buffer)
              : new Int16Array(data.buffer)
          );
          break;
        case "interrupt":
          this.wasInterrupted = true;
          break;
        case "clearInterrupted":
          if (this.wasInterrupted) {
            this.wasInterrupted = false;
            this.buffers = [];
            this.currentBuffer = null;
          }
      }
    };
  }
  process(_, outputs) {
    let finished = false;
    const output = outputs[0][0];
    for (let i = 0; i < output.length; i++) {
      if (!this.currentBuffer) {
        if (this.buffers.length === 0) {
          finished = true;
          break;
        }
        this.currentBuffer = this.buffers.shift();
        this.cursor = 0;
      }

      let value = this.currentBuffer[this.cursor];
      if (this.format === "ulaw") {
        value = decodeSample(value);
      }
      output[i] = value / 32768;
      this.cursor++;

      if (this.cursor >= this.currentBuffer.length) {
        this.currentBuffer = null;
      }
    }

    if (this.finished !== finished) {
      this.finished = finished;
      this.port.postMessage({ type: "process", finished });
    }

    return true; // Continue processing
  }
}

registerProcessor("audio-concat-processor", AudioConcatProcessor);
`);class pt{static async create({sampleRate:t,format:s}){let o=null;try{o=new AudioContext({sampleRate:t});const a=o.createAnalyser(),l=o.createGain();l.connect(a),a.connect(o.destination),await Bs(o.audioWorklet);const i=new AudioWorkletNode(o,"audio-concat-processor");return i.port.postMessage({type:"setFormat",format:s}),i.connect(l),await o.resume(),new pt(o,a,l,i)}catch(a){var r;throw(r=o)==null||r.close(),a}}constructor(t,s,o,r){this.context=void 0,this.analyser=void 0,this.gain=void 0,this.worklet=void 0,this.context=t,this.analyser=s,this.gain=o,this.worklet=r}async close(){await this.context.close()}}class xt extends ge{static async startSession(t){var s;const o=ge.getFullOptions(t);o.onStatusChange({status:"connecting"}),o.onCanSendFeedbackChange({canSendFeedback:!1});let r=null,a=null,l=null,i=null,u=null;if((s=t.useWakeLock)==null||s)try{u=await navigator.wakeLock.request("screen")}catch{}try{var f;return i=await navigator.mediaDevices.getUserMedia({audio:!0}),await Dn(o.connectionDelay),a=await jn.create(t),[r,l]=await Promise.all([gt.create(Te({},a.inputFormat,{preferHeadphonesForIosDevices:t.preferHeadphonesForIosDevices})),pt.create(a.outputFormat)]),(f=i)==null||f.getTracks().forEach(m=>m.stop()),i=null,new xt(o,a,r,l,u)}catch(m){var g,p,d,h;o.onStatusChange({status:"disconnected"}),(g=i)==null||g.getTracks().forEach(b=>b.stop()),(p=a)==null||p.close(),await((d=r)==null?void 0:d.close()),await((h=l)==null?void 0:h.close());try{var v;await((v=u)==null?void 0:v.release()),u=null}catch{}throw m}}constructor(t,s,o,r,a){super(t,s),this.input=void 0,this.output=void 0,this.wakeLock=void 0,this.inputFrequencyData=void 0,this.outputFrequencyData=void 0,this.onInputWorkletMessage=l=>{this.status==="connected"&&this.connection.sendMessage({user_audio_chunk:Fs(l.data[0].buffer)})},this.onOutputWorkletMessage=({data:l})=>{l.type==="process"&&this.updateMode(l.finished?"listening":"speaking")},this.addAudioBase64Chunk=l=>{this.output.gain.gain.value=this.volume,this.output.worklet.port.postMessage({type:"clearInterrupted"}),this.output.worklet.port.postMessage({type:"buffer",buffer:Ls(l)})},this.fadeOutAudio=()=>{this.updateMode("listening"),this.output.worklet.port.postMessage({type:"interrupt"}),this.output.gain.gain.exponentialRampToValueAtTime(1e-4,this.output.context.currentTime+2),setTimeout(()=>{this.output.gain.gain.value=this.volume,this.output.worklet.port.postMessage({type:"clearInterrupted"})},2e3)},this.calculateVolume=l=>{if(l.length===0)return 0;let i=0;for(let u=0;u<l.length;u++)i+=l[u]/255;return i/=l.length,i<0?0:i>1?1:i},this.input=o,this.output=r,this.wakeLock=a,this.input.worklet.port.onmessage=this.onInputWorkletMessage,this.output.worklet.port.onmessage=this.onOutputWorkletMessage}async handleEndSession(){await super.handleEndSession();try{var t;await((t=this.wakeLock)==null?void 0:t.release()),this.wakeLock=null}catch{}await this.input.close(),await this.output.close()}handleInterruption(t){super.handleInterruption(t),this.fadeOutAudio()}handleAudio(t){this.lastInterruptTimestamp<=t.audio_event.event_id&&(this.options.onAudio(t.audio_event.audio_base_64),this.addAudioBase64Chunk(t.audio_event.audio_base_64),this.currentEventId=t.audio_event.event_id,this.updateCanSendFeedback(),this.updateMode("speaking"))}setMicMuted(t){this.input.setMuted(t)}getInputByteFrequencyData(){return this.inputFrequencyData!=null||(this.inputFrequencyData=new Uint8Array(this.input.analyser.frequencyBinCount)),this.input.analyser.getByteFrequencyData(this.inputFrequencyData),this.inputFrequencyData}getOutputByteFrequencyData(){return this.outputFrequencyData!=null||(this.outputFrequencyData=new Uint8Array(this.output.analyser.frequencyBinCount)),this.output.analyser.getByteFrequencyData(this.outputFrequencyData),this.outputFrequencyData}getInputVolume(){return this.calculateVolume(this.getInputByteFrequencyData())}getOutputVolume(){return this.calculateVolume(this.getOutputByteFrequencyData())}}class Us extends ge{static startSession(t){return t.textOnly?Ps.startSession(t):xt.startSession(t)}}function lt(){return lt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)({}).hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},lt.apply(null,arguments)}const Ws=["micMuted","volume"];function On(e={}){const{micMuted:t,volume:s}=e,o=(function(d,h){if(d==null)return{};var v={};for(var m in d)if({}.hasOwnProperty.call(d,m)){if(h.includes(m))continue;v[m]=d[m]}return v})(e,Ws),r=c.useRef(null),a=c.useRef(null),[l,i]=c.useState("disconnected"),[u,f]=c.useState(!1),[g,p]=c.useState("listening");return c.useEffect(()=>{var d;t!==void 0&&(r==null||(d=r.current)==null||d.setMicMuted(t))},[t]),c.useEffect(()=>{var d;s!==void 0&&(r==null||(d=r.current)==null||d.setVolume({volume:s}))},[s]),c.useEffect(()=>()=>{var d;(d=r.current)==null||d.endSession()},[]),{startSession:async d=>{var h;if((h=r.current)!=null&&h.isOpen())return r.current.getId();if(a.current)return(await a.current).getId();try{return a.current=Us.startSession(lt({},o??{},d??{},{onModeChange:({mode:v})=>{p(v)},onStatusChange:({status:v})=>{i(v)},onCanSendFeedbackChange:({canSendFeedback:v})=>{f(v)}})),r.current=await a.current,t!==void 0&&r.current.setMicMuted(t),s!==void 0&&r.current.setVolume({volume:s}),r.current.getId()}finally{a.current=null}},endSession:async()=>{const d=r.current;r.current=null,await d?.endSession()},setVolume:({volume:d})=>{var h;(h=r.current)==null||h.setVolume({volume:d})},getInputByteFrequencyData:()=>{var d;return(d=r.current)==null?void 0:d.getInputByteFrequencyData()},getOutputByteFrequencyData:()=>{var d;return(d=r.current)==null?void 0:d.getOutputByteFrequencyData()},getInputVolume:()=>{var d,h;return(d=(h=r.current)==null?void 0:h.getInputVolume())!=null?d:0},getOutputVolume:()=>{var d,h;return(d=(h=r.current)==null?void 0:h.getOutputVolume())!=null?d:0},sendFeedback:d=>{var h;(h=r.current)==null||h.sendFeedback(d)},getId:()=>{var d;return(d=r.current)==null?void 0:d.getId()},sendContextualUpdate:d=>{var h;(h=r.current)==null||h.sendContextualUpdate(d)},sendUserMessage:d=>{var h;(h=r.current)==null||h.sendUserMessage(d)},sendUserActivity:()=>{var d;(d=r.current)==null||d.sendUserActivity()},sendMCPToolApprovalResult:(d,h)=>{var v;(v=r.current)==null||v.sendMCPToolApprovalResult(d,h)},status:l,canSendFeedback:u,micMuted:t,isSpeaking:g==="speaking"}}const $s=D("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);const zs=D("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const X=D("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Ut=D("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const Ks=D("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const Hs=D("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const ct=D("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const Vs=D("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);const Wt=D("MicVocal",[["path",{d:"m11 7.601-5.994 8.19a1 1 0 0 0 .1 1.298l.817.818a1 1 0 0 0 1.314.087L15.09 12",key:"80a601"}],["path",{d:"M16.5 21.174C15.5 20.5 14.372 20 13 20c-2.058 0-3.928 2.356-6 2-2.072-.356-2.775-3.369-1.5-4.5",key:"j0ngtp"}],["circle",{cx:"16",cy:"7",r:"5",key:"d08jfb"}]]);const qs=D("Music2",[["circle",{cx:"8",cy:"18",r:"4",key:"1fc0mg"}],["path",{d:"M12 18V2l7 4",key:"g04rme"}]]);const Ye=D("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);const Ys=D("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]);const $t=D("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);const Zs=D("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);const Js=D("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const Ze=D("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Xs=D("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);const Pe=D("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const Qs=D("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);const zt=D("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const eo=D("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);const dt=D("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const to=D("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function q(e,t,{checkForDefaultPrevented:s=!0}={}){return function(r){if(e?.(r),s===!1||!r.defaultPrevented)return t?.(r)}}function Kt(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Rn(...e){return t=>{let s=!1;const o=e.map(r=>{const a=Kt(r,t);return!s&&typeof a=="function"&&(s=!0),a});if(s)return()=>{for(let r=0;r<o.length;r++){const a=o[r];typeof a=="function"?a():Kt(e[r],null)}}}}function se(...e){return c.useCallback(Rn(...e),e)}function no(e,t){const s=c.createContext(t),o=a=>{const{children:l,...i}=a,u=c.useMemo(()=>i,Object.values(i));return n.jsx(s.Provider,{value:u,children:l})};o.displayName=e+"Provider";function r(a){const l=c.useContext(s);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[o,r]}function so(e,t=[]){let s=[];function o(a,l){const i=c.createContext(l),u=s.length;s=[...s,l];const f=p=>{const{scope:d,children:h,...v}=p,m=d?.[e]?.[u]||i,b=c.useMemo(()=>v,Object.values(v));return n.jsx(m.Provider,{value:b,children:h})};f.displayName=a+"Provider";function g(p,d){const h=d?.[e]?.[u]||i,v=c.useContext(h);if(v)return v;if(l!==void 0)return l;throw new Error(`\`${p}\` must be used within \`${a}\``)}return[f,g]}const r=()=>{const a=s.map(l=>c.createContext(l));return function(i){const u=i?.[e]||a;return c.useMemo(()=>({[`__scope${e}`]:{...i,[e]:u}}),[i,u])}};return r.scopeName=e,[o,oo(r,...t)]}function oo(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const o=e.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(a){const l=o.reduce((i,{useScope:u,scopeName:f})=>{const p=u(a)[`__scope${f}`];return{...i,...p}},{});return c.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return s.scopeName=t.scopeName,s}var pe=globalThis?.document?c.useLayoutEffect:()=>{},ro=An[" useId ".trim().toString()]||(()=>{}),ao=0;function Je(e){const[t,s]=c.useState(ro());return pe(()=>{s(o=>o??String(ao++))},[e]),e||(t?`radix-${t}`:"")}var io=An[" useInsertionEffect ".trim().toString()]||pe;function lo({prop:e,defaultProp:t,onChange:s=()=>{},caller:o}){const[r,a,l]=co({defaultProp:t,onChange:s}),i=e!==void 0,u=i?e:r;{const g=c.useRef(e!==void 0);c.useEffect(()=>{const p=g.current;p!==i&&console.warn(`${o} is changing from ${p?"controlled":"uncontrolled"} to ${i?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=i},[i,o])}const f=c.useCallback(g=>{if(i){const p=uo(g)?g(e):g;p!==e&&l.current?.(p)}else a(g)},[i,e,a,l]);return[u,f]}function co({defaultProp:e,onChange:t}){const[s,o]=c.useState(e),r=c.useRef(s),a=c.useRef(t);return io(()=>{a.current=t},[t]),c.useEffect(()=>{r.current!==s&&(a.current?.(s),r.current=s)},[s,r]),[s,o,a]}function uo(e){return typeof e=="function"}var Tn=Ms();const ho=Ds(Tn);function Pn(e){const t=fo(e),s=c.forwardRef((o,r)=>{const{children:a,...l}=o,i=c.Children.toArray(a),u=i.find(go);if(u){const f=u.props.children,g=i.map(p=>p===u?c.Children.count(f)>1?c.Children.only(null):c.isValidElement(f)?f.props.children:null:p);return n.jsx(t,{...l,ref:r,children:c.isValidElement(f)?c.cloneElement(f,void 0,g):null})}return n.jsx(t,{...l,ref:r,children:a})});return s.displayName=`${e}.Slot`,s}function fo(e){const t=c.forwardRef((s,o)=>{const{children:r,...a}=s;if(c.isValidElement(r)){const l=xo(r),i=po(a,r.props);return r.type!==c.Fragment&&(i.ref=o?Rn(o,l):l),c.cloneElement(r,i)}return c.Children.count(r)>1?c.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var mo=Symbol("radix.slottable");function go(e){return c.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===mo}function po(e,t){const s={...t};for(const o in t){const r=e[o],a=t[o];/^on[A-Z]/.test(o)?r&&a?s[o]=(...i)=>{const u=a(...i);return r(...i),u}:r&&(s[o]=r):o==="style"?s[o]={...r,...a}:o==="className"&&(s[o]=[r,a].filter(Boolean).join(" "))}return{...e,...s}}function xo(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var vo=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],z=vo.reduce((e,t)=>{const s=Pn(`Primitive.${t}`),o=c.forwardRef((r,a)=>{const{asChild:l,...i}=r,u=l?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(u,{...i,ref:a})});return o.displayName=`Primitive.${t}`,{...e,[t]:o}},{});function bo(e,t){e&&Tn.flushSync(()=>e.dispatchEvent(t))}function xe(e){const t=c.useRef(e);return c.useEffect(()=>{t.current=e}),c.useMemo(()=>(...s)=>t.current?.(...s),[])}function yo(e,t=globalThis?.document){const s=xe(e);c.useEffect(()=>{const o=r=>{r.key==="Escape"&&s(r)};return t.addEventListener("keydown",o,{capture:!0}),()=>t.removeEventListener("keydown",o,{capture:!0})},[s,t])}var wo="DismissableLayer",ut="dismissableLayer.update",No="dismissableLayer.pointerDownOutside",Eo="dismissableLayer.focusOutside",Ht,Fn=c.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ln=c.forwardRef((e,t)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:o,onPointerDownOutside:r,onFocusOutside:a,onInteractOutside:l,onDismiss:i,...u}=e,f=c.useContext(Fn),[g,p]=c.useState(null),d=g?.ownerDocument??globalThis?.document,[,h]=c.useState({}),v=se(t,j=>p(j)),m=Array.from(f.layers),[b]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),w=m.indexOf(b),S=g?m.indexOf(g):-1,y=f.layersWithOutsidePointerEventsDisabled.size>0,N=S>=w,I=Io(j=>{const P=j.target,$=[...f.branches].some(he=>he.contains(P));!N||$||(r?.(j),l?.(j),j.defaultPrevented||i?.())},d),_=jo(j=>{const P=j.target;[...f.branches].some(he=>he.contains(P))||(a?.(j),l?.(j),j.defaultPrevented||i?.())},d);return yo(j=>{S===f.layers.size-1&&(o?.(j),!j.defaultPrevented&&i&&(j.preventDefault(),i()))},d),c.useEffect(()=>{if(g)return s&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(Ht=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(g)),f.layers.add(g),Vt(),()=>{s&&f.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=Ht)}},[g,d,s,f]),c.useEffect(()=>()=>{g&&(f.layers.delete(g),f.layersWithOutsidePointerEventsDisabled.delete(g),Vt())},[g,f]),c.useEffect(()=>{const j=()=>h({});return document.addEventListener(ut,j),()=>document.removeEventListener(ut,j)},[]),n.jsx(z.div,{...u,ref:v,style:{pointerEvents:y?N?"auto":"none":void 0,...e.style},onFocusCapture:q(e.onFocusCapture,_.onFocusCapture),onBlurCapture:q(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:q(e.onPointerDownCapture,I.onPointerDownCapture)})});Ln.displayName=wo;var So="DismissableLayerBranch",Ao=c.forwardRef((e,t)=>{const s=c.useContext(Fn),o=c.useRef(null),r=se(t,o);return c.useEffect(()=>{const a=o.current;if(a)return s.branches.add(a),()=>{s.branches.delete(a)}},[s.branches]),n.jsx(z.div,{...e,ref:r})});Ao.displayName=So;function Io(e,t=globalThis?.document){const s=xe(e),o=c.useRef(!1),r=c.useRef(()=>{});return c.useEffect(()=>{const a=i=>{if(i.target&&!o.current){let u=function(){Gn(No,s,f,{discrete:!0})};const f={originalEvent:i};i.pointerType==="touch"?(t.removeEventListener("click",r.current),r.current=u,t.addEventListener("click",r.current,{once:!0})):u()}else t.removeEventListener("click",r.current);o.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",a),t.removeEventListener("click",r.current)}},[t,s]),{onPointerDownCapture:()=>o.current=!0}}function jo(e,t=globalThis?.document){const s=xe(e),o=c.useRef(!1);return c.useEffect(()=>{const r=a=>{a.target&&!o.current&&Gn(Eo,s,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",r),()=>t.removeEventListener("focusin",r)},[t,s]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function Vt(){const e=new CustomEvent(ut);document.dispatchEvent(e)}function Gn(e,t,s,{discrete:o}){const r=s.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&r.addEventListener(e,t,{once:!0}),o?bo(r,a):r.dispatchEvent(a)}var Xe="focusScope.autoFocusOnMount",Qe="focusScope.autoFocusOnUnmount",qt={bubbles:!1,cancelable:!0},Co="FocusScope",Bn=c.forwardRef((e,t)=>{const{loop:s=!1,trapped:o=!1,onMountAutoFocus:r,onUnmountAutoFocus:a,...l}=e,[i,u]=c.useState(null),f=xe(r),g=xe(a),p=c.useRef(null),d=se(t,m=>u(m)),h=c.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;c.useEffect(()=>{if(o){let m=function(y){if(h.paused||!i)return;const N=y.target;i.contains(N)?p.current=N:H(p.current,{select:!0})},b=function(y){if(h.paused||!i)return;const N=y.relatedTarget;N!==null&&(i.contains(N)||H(p.current,{select:!0}))},w=function(y){if(document.activeElement===document.body)for(const I of y)I.removedNodes.length>0&&H(i)};document.addEventListener("focusin",m),document.addEventListener("focusout",b);const S=new MutationObserver(w);return i&&S.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",b),S.disconnect()}}},[o,i,h.paused]),c.useEffect(()=>{if(i){Zt.add(h);const m=document.activeElement;if(!i.contains(m)){const w=new CustomEvent(Xe,qt);i.addEventListener(Xe,f),i.dispatchEvent(w),w.defaultPrevented||(ko(Ro(Un(i)),{select:!0}),document.activeElement===m&&H(i))}return()=>{i.removeEventListener(Xe,f),setTimeout(()=>{const w=new CustomEvent(Qe,qt);i.addEventListener(Qe,g),i.dispatchEvent(w),w.defaultPrevented||H(m??document.body,{select:!0}),i.removeEventListener(Qe,g),Zt.remove(h)},0)}}},[i,f,g,h]);const v=c.useCallback(m=>{if(!s&&!o||h.paused)return;const b=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,w=document.activeElement;if(b&&w){const S=m.currentTarget,[y,N]=Do(S);y&&N?!m.shiftKey&&w===N?(m.preventDefault(),s&&H(y,{select:!0})):m.shiftKey&&w===y&&(m.preventDefault(),s&&H(N,{select:!0})):w===S&&m.preventDefault()}},[s,o,h.paused]);return n.jsx(z.div,{tabIndex:-1,...l,ref:d,onKeyDown:v})});Bn.displayName=Co;function ko(e,{select:t=!1}={}){const s=document.activeElement;for(const o of e)if(H(o,{select:t}),document.activeElement!==s)return}function Do(e){const t=Un(e),s=Yt(t,e),o=Yt(t.reverse(),e);return[s,o]}function Un(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const r=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||r?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function Yt(e,t){for(const s of e)if(!Mo(s,{upTo:t}))return s}function Mo(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function _o(e){return e instanceof HTMLInputElement&&"select"in e}function H(e,{select:t=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&_o(e)&&t&&e.select()}}var Zt=Oo();function Oo(){let e=[];return{add(t){const s=e[0];t!==s&&s?.pause(),e=Jt(e,t),e.unshift(t)},remove(t){e=Jt(e,t),e[0]?.resume()}}}function Jt(e,t){const s=[...e],o=s.indexOf(t);return o!==-1&&s.splice(o,1),s}function Ro(e){return e.filter(t=>t.tagName!=="A")}var To="Portal",Wn=c.forwardRef((e,t)=>{const{container:s,...o}=e,[r,a]=c.useState(!1);pe(()=>a(!0),[]);const l=s||r&&globalThis?.document?.body;return l?ho.createPortal(n.jsx(z.div,{...o,ref:t}),l):null});Wn.displayName=To;function Po(e,t){return c.useReducer((s,o)=>t[s][o]??s,e)}var Ue=e=>{const{present:t,children:s}=e,o=Fo(t),r=typeof s=="function"?s({present:o.isPresent}):c.Children.only(s),a=se(o.ref,Lo(r));return typeof s=="function"||o.isPresent?c.cloneElement(r,{ref:a}):null};Ue.displayName="Presence";function Fo(e){const[t,s]=c.useState(),o=c.useRef(null),r=c.useRef(e),a=c.useRef("none"),l=e?"mounted":"unmounted",[i,u]=Po(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return c.useEffect(()=>{const f=je(o.current);a.current=i==="mounted"?f:"none"},[i]),pe(()=>{const f=o.current,g=r.current;if(g!==e){const d=a.current,h=je(f);e?u("MOUNT"):h==="none"||f?.display==="none"?u("UNMOUNT"):u(g&&d!==h?"ANIMATION_OUT":"UNMOUNT"),r.current=e}},[e,u]),pe(()=>{if(t){let f;const g=t.ownerDocument.defaultView??window,p=h=>{const m=je(o.current).includes(CSS.escape(h.animationName));if(h.target===t&&m&&(u("ANIMATION_END"),!r.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",f=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},d=h=>{h.target===t&&(a.current=je(o.current))};return t.addEventListener("animationstart",d),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{g.clearTimeout(f),t.removeEventListener("animationstart",d),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:c.useCallback(f=>{o.current=f?getComputedStyle(f):null,s(f)},[])}}function je(e){return e?.animationName||"none"}function Lo(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var et=0;function Go(){c.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Xt()),document.body.insertAdjacentElement("beforeend",e[1]??Xt()),et++,()=>{et===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),et--}},[])}function Xt(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var W=function(){return W=Object.assign||function(t){for(var s,o=1,r=arguments.length;o<r;o++){s=arguments[o];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},W.apply(this,arguments)};function $n(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(s[o[r]]=e[o[r]]);return s}function Bo(e,t,s){if(s||arguments.length===2)for(var o=0,r=t.length,a;o<r;o++)(a||!(o in t))&&(a||(a=Array.prototype.slice.call(t,0,o)),a[o]=t[o]);return e.concat(a||Array.prototype.slice.call(t))}var _e="right-scroll-bar-position",Oe="width-before-scroll-bar",Uo="with-scroll-bars-hidden",Wo="--removed-body-scroll-bar-size";function tt(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function $o(e,t){var s=c.useState(function(){return{value:e,callback:t,facade:{get current(){return s.value},set current(o){var r=s.value;r!==o&&(s.value=o,s.callback(o,r))}}}})[0];return s.callback=t,s.facade}var zo=typeof window<"u"?c.useLayoutEffect:c.useEffect,Qt=new WeakMap;function Ko(e,t){var s=$o(null,function(o){return e.forEach(function(r){return tt(r,o)})});return zo(function(){var o=Qt.get(s);if(o){var r=new Set(o),a=new Set(e),l=s.current;r.forEach(function(i){a.has(i)||tt(i,null)}),a.forEach(function(i){r.has(i)||tt(i,l)})}Qt.set(s,e)},[e]),s}function Ho(e){return e}function Vo(e,t){t===void 0&&(t=Ho);var s=[],o=!1,r={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(a){var l=t(a,o);return s.push(l),function(){s=s.filter(function(i){return i!==l})}},assignSyncMedium:function(a){for(o=!0;s.length;){var l=s;s=[],l.forEach(a)}s={push:function(i){return a(i)},filter:function(){return s}}},assignMedium:function(a){o=!0;var l=[];if(s.length){var i=s;s=[],i.forEach(a),l=s}var u=function(){var g=l;l=[],g.forEach(a)},f=function(){return Promise.resolve().then(u)};f(),s={push:function(g){l.push(g),f()},filter:function(g){return l=l.filter(g),s}}}};return r}function qo(e){e===void 0&&(e={});var t=Vo(null);return t.options=W({async:!0,ssr:!1},e),t}var zn=function(e){var t=e.sideCar,s=$n(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=t.read();if(!o)throw new Error("Sidecar medium not found");return c.createElement(o,W({},s))};zn.isSideCarExport=!0;function Yo(e,t){return e.useMedium(t),zn}var Kn=qo(),nt=function(){},We=c.forwardRef(function(e,t){var s=c.useRef(null),o=c.useState({onScrollCapture:nt,onWheelCapture:nt,onTouchMoveCapture:nt}),r=o[0],a=o[1],l=e.forwardProps,i=e.children,u=e.className,f=e.removeScrollBar,g=e.enabled,p=e.shards,d=e.sideCar,h=e.noRelative,v=e.noIsolation,m=e.inert,b=e.allowPinchZoom,w=e.as,S=w===void 0?"div":w,y=e.gapMode,N=$n(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=d,_=Ko([s,t]),j=W(W({},N),r);return c.createElement(c.Fragment,null,g&&c.createElement(I,{sideCar:Kn,removeScrollBar:f,shards:p,noRelative:h,noIsolation:v,inert:m,setCallbacks:a,allowPinchZoom:!!b,lockRef:s,gapMode:y}),l?c.cloneElement(c.Children.only(i),W(W({},j),{ref:_})):c.createElement(S,W({},j,{className:u,ref:_}),i))});We.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};We.classNames={fullWidth:Oe,zeroRight:_e};var Zo=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Jo(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Zo();return t&&e.setAttribute("nonce",t),e}function Xo(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Qo(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var er=function(){var e=0,t=null;return{add:function(s){e==0&&(t=Jo())&&(Xo(t,s),Qo(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},tr=function(){var e=er();return function(t,s){c.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&s])}},Hn=function(){var e=tr(),t=function(s){var o=s.styles,r=s.dynamic;return e(o,r),null};return t},nr={left:0,top:0,right:0,gap:0},st=function(e){return parseInt(e||"",10)||0},sr=function(e){var t=window.getComputedStyle(document.body),s=t[e==="padding"?"paddingLeft":"marginLeft"],o=t[e==="padding"?"paddingTop":"marginTop"],r=t[e==="padding"?"paddingRight":"marginRight"];return[st(s),st(o),st(r)]},or=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return nr;var t=sr(e),s=document.documentElement.clientWidth,o=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,o-s+t[2]-t[0])}},rr=Hn(),de="data-scroll-locked",ar=function(e,t,s,o){var r=e.left,a=e.top,l=e.right,i=e.gap;return s===void 0&&(s="margin"),`
  .`.concat(Uo,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(i,"px ").concat(o,`;
  }
  body[`).concat(de,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(o,";"),s==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(i,"px ").concat(o,`;
    `),s==="padding"&&"padding-right: ".concat(i,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(_e,` {
    right: `).concat(i,"px ").concat(o,`;
  }
  
  .`).concat(Oe,` {
    margin-right: `).concat(i,"px ").concat(o,`;
  }
  
  .`).concat(_e," .").concat(_e,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(Oe," .").concat(Oe,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(de,`] {
    `).concat(Wo,": ").concat(i,`px;
  }
`)},en=function(){var e=parseInt(document.body.getAttribute(de)||"0",10);return isFinite(e)?e:0},ir=function(){c.useEffect(function(){return document.body.setAttribute(de,(en()+1).toString()),function(){var e=en()-1;e<=0?document.body.removeAttribute(de):document.body.setAttribute(de,e.toString())}},[])},lr=function(e){var t=e.noRelative,s=e.noImportant,o=e.gapMode,r=o===void 0?"margin":o;ir();var a=c.useMemo(function(){return or(r)},[r]);return c.createElement(rr,{styles:ar(a,!t,r,s?"":"!important")})},ht=!1;if(typeof window<"u")try{var Ce=Object.defineProperty({},"passive",{get:function(){return ht=!0,!0}});window.addEventListener("test",Ce,Ce),window.removeEventListener("test",Ce,Ce)}catch{ht=!1}var ae=ht?{passive:!1}:!1,cr=function(e){return e.tagName==="TEXTAREA"},Vn=function(e,t){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return s[t]!=="hidden"&&!(s.overflowY===s.overflowX&&!cr(e)&&s[t]==="visible")},dr=function(e){return Vn(e,"overflowY")},ur=function(e){return Vn(e,"overflowX")},tn=function(e,t){var s=t.ownerDocument,o=t;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var r=qn(e,o);if(r){var a=Yn(e,o),l=a[1],i=a[2];if(l>i)return!0}o=o.parentNode}while(o&&o!==s.body);return!1},hr=function(e){var t=e.scrollTop,s=e.scrollHeight,o=e.clientHeight;return[t,s,o]},fr=function(e){var t=e.scrollLeft,s=e.scrollWidth,o=e.clientWidth;return[t,s,o]},qn=function(e,t){return e==="v"?dr(t):ur(t)},Yn=function(e,t){return e==="v"?hr(t):fr(t)},mr=function(e,t){return e==="h"&&t==="rtl"?-1:1},gr=function(e,t,s,o,r){var a=mr(e,window.getComputedStyle(t).direction),l=a*o,i=s.target,u=t.contains(i),f=!1,g=l>0,p=0,d=0;do{if(!i)break;var h=Yn(e,i),v=h[0],m=h[1],b=h[2],w=m-b-a*v;(v||w)&&qn(e,i)&&(p+=w,d+=v);var S=i.parentNode;i=S&&S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?S.host:S}while(!u&&i!==document.body||u&&(t.contains(i)||t===i));return(g&&Math.abs(p)<1||!g&&Math.abs(d)<1)&&(f=!0),f},ke=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},nn=function(e){return[e.deltaX,e.deltaY]},sn=function(e){return e&&"current"in e?e.current:e},pr=function(e,t){return e[0]===t[0]&&e[1]===t[1]},xr=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},vr=0,ie=[];function br(e){var t=c.useRef([]),s=c.useRef([0,0]),o=c.useRef(),r=c.useState(vr++)[0],a=c.useState(Hn)[0],l=c.useRef(e);c.useEffect(function(){l.current=e},[e]),c.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(r));var m=Bo([e.lockRef.current],(e.shards||[]).map(sn),!0).filter(Boolean);return m.forEach(function(b){return b.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),m.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(r))})}}},[e.inert,e.lockRef.current,e.shards]);var i=c.useCallback(function(m,b){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!l.current.allowPinchZoom;var w=ke(m),S=s.current,y="deltaX"in m?m.deltaX:S[0]-w[0],N="deltaY"in m?m.deltaY:S[1]-w[1],I,_=m.target,j=Math.abs(y)>Math.abs(N)?"h":"v";if("touches"in m&&j==="h"&&_.type==="range")return!1;var P=tn(j,_);if(!P)return!0;if(P?I=j:(I=j==="v"?"h":"v",P=tn(j,_)),!P)return!1;if(!o.current&&"changedTouches"in m&&(y||N)&&(o.current=I),!I)return!0;var $=o.current||I;return gr($,b,m,$==="h"?y:N)},[]),u=c.useCallback(function(m){var b=m;if(!(!ie.length||ie[ie.length-1]!==a)){var w="deltaY"in b?nn(b):ke(b),S=t.current.filter(function(I){return I.name===b.type&&(I.target===b.target||b.target===I.shadowParent)&&pr(I.delta,w)})[0];if(S&&S.should){b.cancelable&&b.preventDefault();return}if(!S){var y=(l.current.shards||[]).map(sn).filter(Boolean).filter(function(I){return I.contains(b.target)}),N=y.length>0?i(b,y[0]):!l.current.noIsolation;N&&b.cancelable&&b.preventDefault()}}},[]),f=c.useCallback(function(m,b,w,S){var y={name:m,delta:b,target:w,should:S,shadowParent:yr(w)};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(N){return N!==y})},1)},[]),g=c.useCallback(function(m){s.current=ke(m),o.current=void 0},[]),p=c.useCallback(function(m){f(m.type,nn(m),m.target,i(m,e.lockRef.current))},[]),d=c.useCallback(function(m){f(m.type,ke(m),m.target,i(m,e.lockRef.current))},[]);c.useEffect(function(){return ie.push(a),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:d}),document.addEventListener("wheel",u,ae),document.addEventListener("touchmove",u,ae),document.addEventListener("touchstart",g,ae),function(){ie=ie.filter(function(m){return m!==a}),document.removeEventListener("wheel",u,ae),document.removeEventListener("touchmove",u,ae),document.removeEventListener("touchstart",g,ae)}},[]);var h=e.removeScrollBar,v=e.inert;return c.createElement(c.Fragment,null,v?c.createElement(a,{styles:xr(r)}):null,h?c.createElement(lr,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function yr(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const wr=Yo(Kn,br);var Zn=c.forwardRef(function(e,t){return c.createElement(We,W({},e,{ref:t,sideCar:wr}))});Zn.classNames=We.classNames;var Nr=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},le=new WeakMap,De=new WeakMap,Me={},ot=0,Jn=function(e){return e&&(e.host||Jn(e.parentNode))},Er=function(e,t){return t.map(function(s){if(e.contains(s))return s;var o=Jn(s);return o&&e.contains(o)?o:(console.error("aria-hidden",s,"in not contained inside",e,". Doing nothing"),null)}).filter(function(s){return!!s})},Sr=function(e,t,s,o){var r=Er(t,Array.isArray(e)?e:[e]);Me[s]||(Me[s]=new WeakMap);var a=Me[s],l=[],i=new Set,u=new Set(r),f=function(p){!p||i.has(p)||(i.add(p),f(p.parentNode))};r.forEach(f);var g=function(p){!p||u.has(p)||Array.prototype.forEach.call(p.children,function(d){if(i.has(d))g(d);else try{var h=d.getAttribute(o),v=h!==null&&h!=="false",m=(le.get(d)||0)+1,b=(a.get(d)||0)+1;le.set(d,m),a.set(d,b),l.push(d),m===1&&v&&De.set(d,!0),b===1&&d.setAttribute(s,"true"),v||d.setAttribute(o,"true")}catch(w){console.error("aria-hidden: cannot operate on ",d,w)}})};return g(t),i.clear(),ot++,function(){l.forEach(function(p){var d=le.get(p)-1,h=a.get(p)-1;le.set(p,d),a.set(p,h),d||(De.has(p)||p.removeAttribute(o),De.delete(p)),h||p.removeAttribute(s)}),ot--,ot||(le=new WeakMap,le=new WeakMap,De=new WeakMap,Me={})}},Ar=function(e,t,s){s===void 0&&(s="data-aria-hidden");var o=Array.from(Array.isArray(e)?e:[e]),r=Nr(e);return r?(o.push.apply(o,Array.from(r.querySelectorAll("[aria-live], script"))),Sr(o,r,s,"aria-hidden")):function(){return null}},$e="Dialog",[Xn]=so($e),[Ir,G]=Xn($e),Qn=e=>{const{__scopeDialog:t,children:s,open:o,defaultOpen:r,onOpenChange:a,modal:l=!0}=e,i=c.useRef(null),u=c.useRef(null),[f,g]=lo({prop:o,defaultProp:r??!1,onChange:a,caller:$e});return n.jsx(Ir,{scope:t,triggerRef:i,contentRef:u,contentId:Je(),titleId:Je(),descriptionId:Je(),open:f,onOpenChange:g,onOpenToggle:c.useCallback(()=>g(p=>!p),[g]),modal:l,children:s})};Qn.displayName=$e;var es="DialogTrigger",ts=c.forwardRef((e,t)=>{const{__scopeDialog:s,...o}=e,r=G(es,s),a=se(t,r.triggerRef);return n.jsx(z.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":yt(r.open),...o,ref:a,onClick:q(e.onClick,r.onOpenToggle)})});ts.displayName=es;var vt="DialogPortal",[jr,ns]=Xn(vt,{forceMount:void 0}),ss=e=>{const{__scopeDialog:t,forceMount:s,children:o,container:r}=e,a=G(vt,t);return n.jsx(jr,{scope:t,forceMount:s,children:c.Children.map(o,l=>n.jsx(Ue,{present:s||a.open,children:n.jsx(Wn,{asChild:!0,container:r,children:l})}))})};ss.displayName=vt;var Fe="DialogOverlay",os=c.forwardRef((e,t)=>{const s=ns(Fe,e.__scopeDialog),{forceMount:o=s.forceMount,...r}=e,a=G(Fe,e.__scopeDialog);return a.modal?n.jsx(Ue,{present:o||a.open,children:n.jsx(kr,{...r,ref:t})}):null});os.displayName=Fe;var Cr=Pn("DialogOverlay.RemoveScroll"),kr=c.forwardRef((e,t)=>{const{__scopeDialog:s,...o}=e,r=G(Fe,s);return n.jsx(Zn,{as:Cr,allowPinchZoom:!0,shards:[r.contentRef],children:n.jsx(z.div,{"data-state":yt(r.open),...o,ref:t,style:{pointerEvents:"auto",...o.style}})})}),te="DialogContent",rs=c.forwardRef((e,t)=>{const s=ns(te,e.__scopeDialog),{forceMount:o=s.forceMount,...r}=e,a=G(te,e.__scopeDialog);return n.jsx(Ue,{present:o||a.open,children:a.modal?n.jsx(Dr,{...r,ref:t}):n.jsx(Mr,{...r,ref:t})})});rs.displayName=te;var Dr=c.forwardRef((e,t)=>{const s=G(te,e.__scopeDialog),o=c.useRef(null),r=se(t,s.contentRef,o);return c.useEffect(()=>{const a=o.current;if(a)return Ar(a)},[]),n.jsx(as,{...e,ref:r,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:q(e.onCloseAutoFocus,a=>{a.preventDefault(),s.triggerRef.current?.focus()}),onPointerDownOutside:q(e.onPointerDownOutside,a=>{const l=a.detail.originalEvent,i=l.button===0&&l.ctrlKey===!0;(l.button===2||i)&&a.preventDefault()}),onFocusOutside:q(e.onFocusOutside,a=>a.preventDefault())})}),Mr=c.forwardRef((e,t)=>{const s=G(te,e.__scopeDialog),o=c.useRef(!1),r=c.useRef(!1);return n.jsx(as,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{e.onCloseAutoFocus?.(a),a.defaultPrevented||(o.current||s.triggerRef.current?.focus(),a.preventDefault()),o.current=!1,r.current=!1},onInteractOutside:a=>{e.onInteractOutside?.(a),a.defaultPrevented||(o.current=!0,a.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const l=a.target;s.triggerRef.current?.contains(l)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&r.current&&a.preventDefault()}})}),as=c.forwardRef((e,t)=>{const{__scopeDialog:s,trapFocus:o,onOpenAutoFocus:r,onCloseAutoFocus:a,...l}=e,i=G(te,s),u=c.useRef(null),f=se(t,u);return Go(),n.jsxs(n.Fragment,{children:[n.jsx(Bn,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:r,onUnmountAutoFocus:a,children:n.jsx(Ln,{role:"dialog",id:i.contentId,"aria-describedby":i.descriptionId,"aria-labelledby":i.titleId,"data-state":yt(i.open),...l,ref:f,onDismiss:()=>i.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(_r,{titleId:i.titleId}),n.jsx(Rr,{contentRef:u,descriptionId:i.descriptionId})]})]})}),bt="DialogTitle",is=c.forwardRef((e,t)=>{const{__scopeDialog:s,...o}=e,r=G(bt,s);return n.jsx(z.h2,{id:r.titleId,...o,ref:t})});is.displayName=bt;var ls="DialogDescription",cs=c.forwardRef((e,t)=>{const{__scopeDialog:s,...o}=e,r=G(ls,s);return n.jsx(z.p,{id:r.descriptionId,...o,ref:t})});cs.displayName=ls;var ds="DialogClose",us=c.forwardRef((e,t)=>{const{__scopeDialog:s,...o}=e,r=G(ds,s);return n.jsx(z.button,{type:"button",...o,ref:t,onClick:q(e.onClick,()=>r.onOpenChange(!1))})});us.displayName=ds;function yt(e){return e?"open":"closed"}var hs="DialogTitleWarning",[xa,fs]=no(hs,{contentName:te,titleName:bt,docsSlug:"dialog"}),_r=({titleId:e})=>{const t=fs(hs),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return c.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},Or="DialogDescriptionWarning",Rr=({contentRef:e,descriptionId:t})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${fs(Or).contentName}}.`;return c.useEffect(()=>{const r=e.current?.getAttribute("aria-describedby");t&&r&&(document.getElementById(t)||console.warn(o))},[o,e,t]),null},wt=Qn,Tr=ts,ms=ss,Le=os,ve=rs,Ge=is,Be=cs,ft=us;console.log(" [DIALOG] Dialog UI component module loaded");console.log(" [DIALOG] React:",{forwardRef:typeof c.forwardRef,useCallback:typeof c.useCallback,createElement:typeof c.createElement});console.log(" [DIALOG] DialogPrimitive:",{Root:typeof wt,Trigger:typeof Tr,Portal:typeof ms,Close:typeof ft,Overlay:typeof Le,Content:typeof ve,Title:typeof Ge,Description:typeof Be});console.log(" [DIALOG] DialogPrimitive.Root details:",wt);console.log(" [DIALOG] DialogPrimitive.Content details:",ve);const Q=c.forwardRef(({onOpenChange:e,...t},s)=>{console.log(" [DIALOG] Dialog component render"),console.log(" [DIALOG] Props:",{open:t.open,onOpenChange:typeof e,hasChildren:!!t.children});const o=c.useCallback(r=>{console.log(" [DIALOG] onOpenChange triggered with:",r),console.log(" [DIALOG] typeof onOpenChange:",typeof e),e?(console.log(" [DIALOG] Calling provided onOpenChange"),e(r)):console.warn(" [DIALOG] No onOpenChange handler provided")},[e]);return n.jsx(wt,{onOpenChange:o,...t})});Q.displayName="Dialog";const rt=ms,gs=c.forwardRef(({className:e,...t},s)=>(console.log(" [DIALOG_OVERLAY] DialogOverlay render"),console.log(" [DIALOG_OVERLAY] DialogPrimitive.Overlay:",typeof Le),n.jsx(Le,{ref:s,className:ue("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t})));gs.displayName=Le.displayName;const ee=c.forwardRef(({className:e,children:t,...s},o)=>(console.log(" [DIALOG_CONTENT] DialogContent render"),console.log(" [DIALOG_CONTENT] DialogPortal:",typeof rt,rt),console.log(" [DIALOG_CONTENT] DialogPrimitive.Content:",typeof ve),console.log(" [DIALOG_CONTENT] DialogPrimitive.Close:",typeof ft),console.log(" [DIALOG_CONTENT] X icon:",typeof dt),n.jsxs(rt,{children:[n.jsx(gs,{}),n.jsxs(ve,{ref:o,className:ue("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-lg",e),...s,children:[t,n.jsxs(ft,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(dt,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Schlieen"})]})]})]})));ee.displayName=ve.displayName;const be=({className:e,...t})=>n.jsx("div",{className:ue("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});be.displayName="DialogHeader";const ye=({className:e,...t})=>n.jsx("div",{className:ue("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ye.displayName="DialogFooter";const we=c.forwardRef(({className:e,...t},s)=>(console.log(" [DIALOG_TITLE] DialogTitle render"),console.log(" [DIALOG_TITLE] DialogPrimitive.Title:",typeof Ge),n.jsx(Ge,{ref:s,className:ue("text-lg font-semibold leading-none tracking-tight",e),...t})));we.displayName=Ge.displayName;const Ne=c.forwardRef(({className:e,...t},s)=>(console.log(" [DIALOG_DESC] DialogDescription render"),console.log(" [DIALOG_DESC] DialogPrimitive.Description:",typeof Be),n.jsx(Be,{ref:s,className:ue("text-sm text-muted-foreground",e),...t})));Ne.displayName=Be.displayName;console.log(" [FEEDBACK_MODAL] FeedbackModal module loaded");const mt=({isOpen:e,onClose:t,feedbackContent:s,audioAnalysisContent:o,isLoading:r})=>{console.log(" [FEEDBACK_MODAL] FeedbackModal component render"),console.log(" [FEEDBACK_MODAL] Props:",{isOpen:e,onClose:typeof t,feedbackContent:s?`${s.length} chars`:"NULL",audioAnalysisContent:o?`${o.length} chars`:"NULL",isLoading:r});const a=c.useCallback(d=>{console.log(" [FEEDBACK_MODAL] handleOpenChange called with:",d),console.log(" [FEEDBACK_MODAL] typeof open:",typeof d),console.log(" [FEEDBACK_MODAL] onClose:",typeof t),d||(console.log(" [FEEDBACK_MODAL] Closing modal, calling onClose"),t())},[t]),l=c.useMemo(()=>{if(!s)return null;try{let d=s.trim();return d.startsWith("```json")?d=d.replace(/```json\s*/g,"").replace(/```\s*$/g,""):d.startsWith("```")&&(d=d.replace(/```\s*/g,"").replace(/```\s*$/g,"")),JSON.parse(d)}catch(d){return console.error("Error parsing feedback JSON:",d),null}},[s]),i=c.useMemo(()=>{if(!o)return null;try{let d=o.trim();return d.startsWith("```json")?d=d.replace(/```json\s*/g,"").replace(/```\s*$/g,""):d.startsWith("```")&&(d=d.replace(/```\s*/g,"").replace(/```\s*$/g,"")),JSON.parse(d)}catch(d){return console.error("Error parsing audio analysis JSON:",d),null}},[o]),u=d=>{const h=Math.floor(d),v=d%1>=.5;return n.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(10)].map((m,b)=>n.jsx(_s,{className:`w-4 h-4 ${b<h?"fill-yellow-400 text-yellow-400":b===h&&v?"fill-yellow-200 text-yellow-400":"text-gray-300"}`},b)),n.jsxs("span",{className:"ml-2 text-sm font-semibold text-slate-700",children:[d,"/10"]})]})},f=()=>l?n.jsxs("div",{className:"space-y-6",children:[l.summary&&n.jsx("div",{className:"p-4 bg-blue-50 border-l-4 border-blue-500 rounded-r-lg",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(ct,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-1"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Gesamteindruck"}),n.jsx("p",{className:"text-sm text-blue-800 leading-relaxed",children:l.summary})]})]})}),l.rating&&n.jsx("div",{className:"p-4 bg-gradient-to-br from-purple-50 to-pink-50 border border-purple-200 rounded-lg",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(He,{className:"w-5 h-5 text-purple-600 flex-shrink-0 mt-1"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-sm font-semibold text-purple-900 mb-3",children:"Bewertung"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.rating.overall!==void 0&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-purple-700 mb-1",children:"Gesamt"}),u(l.rating.overall)]}),l.rating.communication!==void 0&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-purple-700 mb-1",children:"Kommunikation"}),u(l.rating.communication)]}),l.rating.motivation!==void 0&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-purple-700 mb-1",children:"Motivation"}),u(l.rating.motivation)]}),l.rating.professionalism!==void 0&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-purple-700 mb-1",children:"Professionalitt"}),u(l.rating.professionalism)]})]})]})]})}),l.strengths&&l.strengths.length>0&&n.jsx("div",{className:"p-4 bg-green-50 border-l-4 border-green-500 rounded-r-lg",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Ut,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-1"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-sm font-semibold text-green-900 mb-3",children:"Das hast du gut gemacht"}),n.jsx("ul",{className:"space-y-2",children:l.strengths.map((d,h)=>n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-green-600 mt-0.5",children:""}),n.jsx("span",{className:"text-sm text-green-800 leading-relaxed",children:d})]},h))})]})]})}),l.improvements&&l.improvements.length>0&&n.jsx("div",{className:"p-4 bg-orange-50 border-l-4 border-orange-500 rounded-r-lg",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(In,{className:"w-5 h-5 text-orange-600 flex-shrink-0 mt-1"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-sm font-semibold text-orange-900 mb-3",children:"Das kann noch besser werden"}),n.jsx("ul",{className:"space-y-2",children:l.improvements.map((d,h)=>n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-orange-600 mt-0.5",children:""}),n.jsx("span",{className:"text-sm text-orange-800 leading-relaxed",children:d})]},h))})]})]})}),l.tips&&l.tips.length>0&&n.jsx("div",{className:"p-4 bg-indigo-50 border-l-4 border-indigo-500 rounded-r-lg",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Dt,{className:"w-5 h-5 text-indigo-600 flex-shrink-0 mt-1"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-sm font-semibold text-indigo-900 mb-3",children:"Praktische Tipps fr dich"}),n.jsx("ul",{className:"space-y-2",children:l.tips.map((d,h)=>n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(Pe,{className:"w-4 h-4 text-indigo-600 flex-shrink-0 mt-1"}),n.jsx("span",{className:"text-sm text-indigo-800 leading-relaxed",children:d})]},h))})]})]})})]}):n.jsx("div",{className:"space-y-4",children:n.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(X,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-1"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm text-yellow-800 font-medium mb-2",children:"Feedback konnte nicht strukturiert werden"}),n.jsx("div",{className:"text-sm text-yellow-700 whitespace-pre-wrap",children:s})]})]})})}),g=()=>i?i.error?n.jsxs("div",{className:"space-y-4 mt-8",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b-2 border-orange-300",children:[n.jsx(Wt,{className:"w-6 h-6 text-orange-600"}),n.jsx("h2",{className:"text-xl font-bold text-orange-900",children:"Audio-Analyse"})]}),n.jsx("div",{className:"p-4 bg-orange-50 border-l-4 border-orange-500 rounded-r-lg",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(zt,{className:"w-5 h-5 text-orange-600 flex-shrink-0 mt-1"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-sm font-semibold text-orange-900 mb-2",children:"Audio-Analyse nicht verfgbar"}),n.jsx("p",{className:"text-sm text-orange-800 leading-relaxed",children:i.summary}),i.errorMessage&&n.jsxs("div",{className:"text-xs text-orange-700 mt-3 p-3 bg-orange-100 rounded",children:[n.jsx("span",{className:"font-semibold",children:"Details:"}),n.jsx("pre",{className:"mt-1 whitespace-pre-wrap text-xs",children:i.errorMessage})]}),i.troubleshooting&&i.troubleshooting.length>0&&n.jsxs("div",{className:"mt-4",children:[n.jsx("p",{className:"text-xs font-semibold text-orange-900 mb-2",children:" Lsungsvorschlge:"}),n.jsx("ul",{className:"space-y-1",children:i.troubleshooting.map((d,h)=>n.jsxs("li",{className:"flex items-start gap-2 text-xs text-orange-800",children:[n.jsx("span",{className:"text-orange-600 mt-0.5",children:""}),n.jsx("span",{children:d})]},h))})]}),!i.troubleshooting&&n.jsxs("p",{className:"text-xs text-orange-600 mt-3",children:[" ",n.jsx("span",{className:"font-semibold",children:"Tipp:"})," Dies kann passieren, wenn das Mikrofon bereits von ElevenLabs verwendet wird. Versuche das Gesprch erneut zu starten."]})]})]})})]}):n.jsxs("div",{className:"space-y-6 mt-8",children:[n.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b-2 border-blue-300",children:[n.jsx(Wt,{className:"w-6 h-6 text-blue-600"}),n.jsx("h2",{className:"text-xl font-bold text-blue-900",children:"Audio-Analyse deiner Sprechweise"})]}),i.summary&&n.jsx("div",{className:"p-4 bg-blue-50 border-l-4 border-blue-500 rounded-r-lg",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(qs,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-1"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Gesamteindruck"}),n.jsx("p",{className:"text-sm text-blue-800 leading-relaxed",children:i.summary})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.clarity&&n.jsx("div",{className:"p-4 bg-slate-50 border border-slate-200 rounded-lg",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(eo,{className:"w-5 h-5 text-slate-600 flex-shrink-0 mt-1"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Deutlichkeit"}),u(i.clarity.rating),n.jsx("p",{className:"text-xs text-slate-700 mt-2",children:i.clarity.feedback})]})]})}),i.pace&&n.jsx("div",{className:"p-4 bg-slate-50 border border-slate-200 rounded-lg",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Qs,{className:"w-5 h-5 text-slate-600 flex-shrink-0 mt-1"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Sprechgeschwindigkeit"}),u(i.pace.rating),i.pace.wordsPerMinute&&n.jsxs("p",{className:"text-xs text-slate-600 mt-1",children:["~",i.pace.wordsPerMinute," Wrter/Min"]}),n.jsx("p",{className:"text-xs text-slate-700 mt-2",children:i.pace.feedback})]})]})}),i.fillerWords&&n.jsx("div",{className:"p-4 bg-orange-50 border border-orange-200 rounded-lg",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(zt,{className:"w-5 h-5 text-orange-600 flex-shrink-0 mt-1"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"text-sm font-semibold text-orange-900 mb-2",children:"Fllwrter"}),u(i.fillerWords.rating),i.fillerWords.count!==void 0&&n.jsxs("p",{className:"text-xs text-orange-700 mt-1",children:["Anzahl: ",i.fillerWords.count]}),i.fillerWords.examples&&i.fillerWords.examples.length>0&&n.jsxs("p",{className:"text-xs text-orange-600 mt-1",children:["Beispiele: ",i.fillerWords.examples.join(", ")]}),n.jsx("p",{className:"text-xs text-orange-800 mt-2",children:i.fillerWords.feedback})]})]})}),i.nervousness&&n.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx($s,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-1"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"text-sm font-semibold text-red-900 mb-2",children:"Nervositt"}),u(i.nervousness.rating),i.nervousness.indicators&&i.nervousness.indicators.length>0&&n.jsx("ul",{className:"text-xs text-red-700 mt-2 space-y-1",children:i.nervousness.indicators.map((d,h)=>n.jsxs("li",{children:[" ",d]},h))}),n.jsx("p",{className:"text-xs text-red-800 mt-2",children:i.nervousness.feedback})]})]})}),i.confidence&&n.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(He,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-1"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"text-sm font-semibold text-green-900 mb-2",children:"Selbstsicherheit"}),u(i.confidence.rating),n.jsx("p",{className:"text-xs text-green-700 mt-2",children:i.confidence.feedback})]})]})}),i.tonalModulation&&n.jsx("div",{className:"p-4 bg-purple-50 border border-purple-200 rounded-lg",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(zs,{className:"w-5 h-5 text-purple-600 flex-shrink-0 mt-1"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"text-sm font-semibold text-purple-900 mb-2",children:"Tonmodulation"}),u(i.tonalModulation.rating),n.jsx("p",{className:"text-xs text-purple-700 mt-2",children:i.tonalModulation.feedback})]})]})})]}),i.strengths&&i.strengths.length>0&&n.jsx("div",{className:"p-4 bg-green-50 border-l-4 border-green-500 rounded-r-lg",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Ut,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-1"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-sm font-semibold text-green-900 mb-3",children:"Strken deiner Sprechweise"}),n.jsx("ul",{className:"space-y-2",children:i.strengths.map((d,h)=>n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-green-600 mt-0.5",children:""}),n.jsx("span",{className:"text-sm text-green-800 leading-relaxed",children:d})]},h))})]})]})}),i.overallImprovement&&i.overallImprovement.length>0&&n.jsx("div",{className:"p-4 bg-indigo-50 border-l-4 border-indigo-500 rounded-r-lg",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Dt,{className:"w-5 h-5 text-indigo-600 flex-shrink-0 mt-1"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-sm font-semibold text-indigo-900 mb-3",children:"Verbesserungsvorschlge"}),n.jsx("ul",{className:"space-y-2",children:i.overallImprovement.map((d,h)=>n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(Pe,{className:"w-4 h-4 text-indigo-600 flex-shrink-0 mt-1"}),n.jsx("span",{className:"text-sm text-indigo-800 leading-relaxed",children:d})]},h))})]})]})})]}):null,p=()=>r?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),n.jsx("p",{className:"mt-4 text-slate-600",children:"Feedback wird generiert..."}),n.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Das kann einen Moment dauern"})]}):s?n.jsxs("div",{className:"space-y-6 max-h-[65vh] overflow-y-auto pr-2",children:[f(),g()]}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx(X,{className:"w-12 h-12 text-slate-400 mx-auto mb-3"}),n.jsx("p",{className:"text-slate-600",children:"Kein Feedback verfgbar."})]});return console.log(" [FEEDBACK_MODAL] Rendering Dialog with:",{isOpen:e,handleOpenChange:typeof a}),console.log(" [FEEDBACK_MODAL] Component check before render:",{Dialog:typeof Q,DialogContent:typeof ee,DialogHeader:typeof be,DialogTitle:typeof we,DialogDescription:typeof Ne,DialogFooter:typeof ye,Button:typeof L}),n.jsx(Q,{open:e,onOpenChange:a,children:n.jsxs(ee,{className:"max-w-3xl max-h-[90vh]",children:[n.jsxs(be,{children:[n.jsxs(we,{className:"text-2xl flex items-center gap-2",children:[n.jsx(He,{className:"w-6 h-6 text-blue-600"}),"Dein Bewerbungsgesprch-Feedback"]}),n.jsx(Ne,{children:"Hier ist deine persnliche Auswertung basierend auf dem gefhrten Gesprch"})]}),n.jsx("div",{className:"py-2",children:p()}),n.jsx(ye,{children:n.jsx(L,{onClick:t,className:"w-full sm:w-auto",children:"Schlieen"})})]})})},on=[{id:"friendly",label:"Freundlich",icon:Xs,description:"Ermutigendes, untersttzendes Gesprch",gradient:"from-green-500 to-emerald-600",bgGradient:"from-green-50 to-emerald-50",borderColor:"border-slate-200",hoverBorder:"hover:border-green-500",selectedBorder:"border-green-500",iconColor:"text-green-600",shadowColor:"shadow-green-500/30",emoji:""},{id:"critical",label:"Kritisch",icon:Js,description:"Anspruchsvolle, herausfordernde Fragen",gradient:"from-orange-500 to-red-600",bgGradient:"from-orange-50 to-red-50",borderColor:"border-slate-200",hoverBorder:"hover:border-orange-500",selectedBorder:"border-orange-500",iconColor:"text-orange-600",shadowColor:"shadow-orange-500/30",emoji:""},{id:"professional",label:"Sachlich",icon:Ks,description:"Professionell, neutral, strukturiert",gradient:"from-blue-600 to-indigo-600",bgGradient:"from-blue-50 to-indigo-50",borderColor:"border-slate-200",hoverBorder:"hover:border-blue-600",selectedBorder:"border-blue-600",iconColor:"text-blue-600",shadowColor:"shadow-blue-500/30",emoji:""}];function ps({selectedStyle:e,onStyleChange:t,compact:s=!1,className:o=""}){return s?n.jsx("div",{className:`flex gap-2 ${o}`,children:on.map(r=>{const a=r.icon,l=e===r.id;return n.jsx("button",{onClick:()=>t(r.id),className:`
                flex-1 px-3 py-2 rounded-2xl border-2 transition-all duration-200 font-bold
                ${l?`${r.selectedBorder} bg-gradient-to-br ${r.bgGradient} shadow-lg ${r.shadowColor}`:`${r.borderColor} ${r.hoverBorder} bg-white hover:bg-slate-50 hover:shadow-md`}
              `,title:r.description,children:n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx(a,{className:`w-4 h-4 ${l?r.iconColor:"text-slate-400"}`,strokeWidth:2}),n.jsx("span",{className:`text-sm ${l?r.iconColor:"text-slate-700"}`,children:r.label})]})},r.id)})}):n.jsx("div",{className:`grid grid-cols-1 md:grid-cols-3 gap-8 ${o}`,children:on.map(r=>{const a=r.icon,l=e===r.id;return n.jsxs("button",{onClick:()=>t(r.id),className:`
              relative p-8 rounded-3xl border-2 transition-all duration-300 group
              ${l?`${r.selectedBorder} shadow-xl ${r.shadowColor} bg-gradient-to-br ${r.bgGradient} -translate-y-2`:`${r.borderColor} bg-white hover:shadow-lg hover:-translate-y-2 hover:${r.hoverBorder}`}
            `,children:[l&&n.jsx("div",{className:"absolute top-4 right-4",children:n.jsx("div",{className:`w-8 h-8 rounded-full bg-gradient-to-br ${r.gradient} flex items-center justify-center shadow-lg`,children:n.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})}),n.jsx("div",{className:`
              w-14 h-14 mx-auto mb-6 rounded-2xl flex items-center justify-center shadow-lg transition-transform duration-300
              ${l?`bg-gradient-to-br ${r.gradient} ${r.shadowColor}`:"bg-slate-100 group-hover:scale-110"}
            `,children:n.jsx(a,{className:`w-7 h-7 ${l?"text-white":"text-slate-400"}`,strokeWidth:2})}),n.jsxs("h3",{className:"text-xl font-bold text-center mb-3 text-slate-900",children:[n.jsx("span",{className:"mr-2",children:r.emoji}),r.label]}),n.jsx("p",{className:"text-sm text-center leading-relaxed text-slate-600",children:r.description})]},r.id)})})}console.log(" [USER_WIZARD] UserWizard module loaded");function xs({onComplete:e,initialData:t=null}){console.log(" [USER_WIZARD] UserWizard component render"),console.log(" [USER_WIZARD] Props:",{onComplete:typeof e,initialData:t});const o=F.isWordPress()?F.getCurrentUser():null,a=o?.id&&o.id>0&&(o?.firstName||o?.name)||"",l=1,i=4,[u,f]=c.useState(l),[g,p]=c.useState(t||{user_name:a,position:"",company:"",conversation_style:"professional"}),[d,h]=c.useState({}),v=y=>{const N={};return y===1&&!g.user_name.trim()&&(N.user_name="Bitte gib deinen Namen ein"),y===2&&!g.position.trim()&&(N.position="Bitte gib die Position ein"),y===3&&!g.company.trim()&&(N.company="Bitte gib das Unternehmen ein"),h(N),Object.keys(N).length===0},m=(y,N)=>{p(I=>({...I,[y]:N})),d[y]&&h(I=>({...I,[y]:""}))},b=c.useCallback(()=>{console.log(" [USER_WIZARD] handleNext called, step:",u),v(u)?u<i?(console.log(" [USER_WIZARD] Moving to step:",u+1),f(u+1)):(console.log(" [USER_WIZARD] Final step - calling onComplete"),console.log(" [USER_WIZARD] formData:",g),console.log(" [USER_WIZARD] onComplete type:",typeof e),e(g)):console.log(" [USER_WIZARD] Validation failed for step:",u)},[u,i,g,e,v]),w=()=>{u>l&&f(u-1)},S=y=>{y.key==="Enter"&&b()};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-ocean-blue-100 via-ocean-blue-200 to-ocean-blue-300 flex items-center justify-center p-4",children:[n.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[n.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-ocean-deep-300/20 rounded-full blur-3xl animate-pulse"}),n.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-ocean-blue-400/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}})]}),n.jsxs("div",{className:"w-full max-w-2xl relative z-10",children:[n.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-2xl overflow-hidden border border-white/60",children:[n.jsxs("div",{className:"relative bg-gradient-to-br from-ocean-blue-600 via-ocean-deep-600 to-ocean-teal-500 text-white px-6 py-10 overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/10 to-transparent"}),n.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-white/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),n.jsxs("div",{className:"relative flex items-center gap-4 mb-4",children:[n.jsx("div",{className:"w-16 h-16 rounded-2xl bg-white/20 backdrop-blur-sm border border-white/30 flex items-center justify-center",children:n.jsx(Mt,{className:"w-8 h-8 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-1",children:"Willkommen!"}),n.jsxs("p",{className:"text-ocean-blue-100 flex items-center gap-2",children:[n.jsx(Pe,{className:"w-4 h-4"}),t?"Mchtest du deine Daten aktualisieren?":"Erzhl uns ein bisschen ber dich"]})]})]}),n.jsxs("div",{className:"relative flex flex-wrap gap-2 mt-6",children:[n.jsxs("div",{className:"px-3 py-1.5 bg-white/20 backdrop-blur-sm rounded-full border border-white/30 text-xs font-medium flex items-center gap-1.5",children:[n.jsx(to,{className:"w-3 h-3"}),"KI-gesttztes Feedback"]}),n.jsxs("div",{className:"px-3 py-1.5 bg-white/20 backdrop-blur-sm rounded-full border border-white/30 text-xs font-medium flex items-center gap-1.5",children:[n.jsx(Ve,{className:"w-3 h-3"}),"Realistische Gesprche"]}),n.jsxs("div",{className:"px-3 py-1.5 bg-white/20 backdrop-blur-sm rounded-full border border-white/30 text-xs font-medium flex items-center gap-1.5",children:[n.jsx(Pe,{className:"w-3 h-3"}),"Personalisiert"]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-ocean-blue-50/50 to-ocean-teal-50/50 px-6 py-5 border-b border-ocean-blue-100/50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("span",{className:"text-sm font-semibold text-ocean-deep-900 flex items-center gap-2",children:[n.jsx("div",{className:"w-6 h-6 rounded-full bg-ocean-blue-100 flex items-center justify-center text-xs font-bold text-ocean-blue-600",children:u}),"Schritt ",u," von ",i]}),n.jsxs("span",{className:"text-sm font-medium text-ocean-deep-600 bg-ocean-blue-100 px-3 py-1 rounded-full",children:[Math.round(u/i*100),"%"]})]}),n.jsx("div",{className:"relative w-full bg-ocean-blue-200/50 rounded-full h-3 overflow-hidden",children:n.jsx("div",{className:"absolute inset-y-0 left-0 bg-gradient-to-r from-ocean-blue-500 via-ocean-deep-500 to-ocean-teal-500 rounded-full transition-all duration-500 ease-out shadow-lg",style:{width:`${u/i*100}%`},children:n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/30 to-transparent"})})})]}),n.jsxs("div",{className:"px-6 py-8",children:[u===1&&n.jsxs("div",{className:"space-y-6 animate-fade-in",children:[n.jsx("div",{className:"flex items-center justify-center mb-6",children:n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-24 h-24 rounded-2xl bg-gradient-to-br from-ocean-blue-500 to-ocean-deep-600 flex items-center justify-center shadow-xl",children:n.jsx(_t,{className:"w-12 h-12 text-white",strokeWidth:2})}),n.jsx("div",{className:"absolute -bottom-2 -right-2 w-10 h-10 bg-gradient-to-br from-ocean-teal-400 to-ocean-teal-500 rounded-xl flex items-center justify-center shadow-lg",children:n.jsx("span",{className:"text-white font-bold text-sm",children:"1"})})]})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold text-slate-800 text-center mb-2 bg-gradient-to-r from-ocean-blue-600 to-ocean-deep-600 bg-clip-text text-transparent",children:"Wie heit du?"}),n.jsx("p",{className:"text-slate-600 text-center mb-8",children:"Dein Name wird im Bewerbungsgesprch verwendet"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Vollstndiger Name"}),n.jsx("input",{type:"text",value:g.user_name,onChange:y=>m("user_name",y.target.value),onKeyPress:S,placeholder:"z.B. Max Mustermann",className:`w-full px-5 py-4 border-2 rounded-xl text-lg focus:outline-none focus:ring-4 transition-all duration-200 ${d.user_name?"border-red-400 bg-red-50 focus:ring-red-200":"border-ocean-blue-200 bg-white hover:border-ocean-blue-300 focus:border-ocean-blue-500 focus:ring-ocean-blue-100"}`,autoFocus:!0}),d.user_name&&n.jsxs("p",{className:"text-red-500 text-sm mt-2 flex items-center gap-1",children:[n.jsx("span",{className:"font-semibold",children:""})," ",d.user_name]})]})]})]}),u===2&&n.jsxs("div",{className:"space-y-6 animate-fade-in",children:[n.jsx("div",{className:"flex items-center justify-center mb-6",children:n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-24 h-24 rounded-2xl bg-gradient-to-br from-ocean-teal-400 to-ocean-teal-600 flex items-center justify-center shadow-xl",children:n.jsx(Ot,{className:"w-12 h-12 text-white",strokeWidth:2})}),n.jsx("div",{className:"absolute -bottom-2 -right-2 w-10 h-10 bg-gradient-to-br from-ocean-deep-400 to-ocean-deep-500 rounded-xl flex items-center justify-center shadow-lg",children:n.jsx("span",{className:"text-white font-bold text-sm",children:"2"})})]})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold text-slate-800 text-center mb-2 bg-gradient-to-r from-ocean-teal-600 to-ocean-teal-700 bg-clip-text text-transparent",children:"Fr welche Position?"}),n.jsx("p",{className:"text-slate-600 text-center mb-8",children:"Gib die Stelle an, auf die du dich bewirbst"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Stellenbezeichnung"}),n.jsx("input",{type:"text",value:g.position,onChange:y=>m("position",y.target.value),onKeyPress:S,placeholder:"z.B. Ausbildung zum Mechatroniker",className:`w-full px-5 py-4 border-2 rounded-xl text-lg focus:outline-none focus:ring-4 transition-all duration-200 ${d.position?"border-red-400 bg-red-50 focus:ring-red-200":"border-ocean-teal-200 bg-white hover:border-ocean-teal-300 focus:border-ocean-teal-500 focus:ring-ocean-teal-100"}`,autoFocus:!0}),d.position&&n.jsxs("p",{className:"text-red-500 text-sm mt-2 flex items-center gap-1",children:[n.jsx("span",{className:"font-semibold",children:""})," ",d.position]}),n.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[n.jsx("span",{className:"text-xs text-slate-500",children:"Vorschlge:"}),["Ausbildung","Praktikum","Werkstudent","Junior Position"].map(y=>n.jsx("button",{type:"button",onClick:()=>m("position",y),className:"text-xs px-2.5 py-1 bg-ocean-teal-50 text-ocean-teal-700 rounded-full hover:bg-ocean-teal-100 transition-colors border border-ocean-teal-200",children:y},y))]})]})]})]}),u===3&&n.jsxs("div",{className:"space-y-6 animate-fade-in",children:[n.jsx("div",{className:"flex items-center justify-center mb-6",children:n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-24 h-24 rounded-2xl bg-gradient-to-br from-ocean-deep-500 to-ocean-deep-600 flex items-center justify-center shadow-xl",children:n.jsx(Rt,{className:"w-12 h-12 text-white",strokeWidth:2})}),n.jsx("div",{className:"absolute -bottom-2 -right-2 w-10 h-10 bg-gradient-to-br from-ocean-teal-400 to-ocean-teal-500 rounded-xl flex items-center justify-center shadow-lg",children:n.jsx("span",{className:"text-white font-bold text-sm",children:"3"})})]})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold text-slate-800 text-center mb-2 bg-gradient-to-r from-ocean-deep-600 to-ocean-blue-600 bg-clip-text text-transparent",children:"Bei welchem Unternehmen?"}),n.jsx("p",{className:"text-slate-600 text-center mb-8",children:"Gib den Namen des Unternehmens ein"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Unternehmensname"}),n.jsx("input",{type:"text",value:g.company,onChange:y=>m("company",y.target.value),onKeyPress:S,placeholder:"z.B. BMW AG, Siemens, etc.",className:`w-full px-5 py-4 border-2 rounded-xl text-lg focus:outline-none focus:ring-4 transition-all duration-200 ${d.company?"border-red-400 bg-red-50 focus:ring-red-200":"border-ocean-blue-200 bg-white hover:border-ocean-blue-300 focus:border-ocean-blue-500 focus:ring-ocean-blue-100"}`,autoFocus:!0}),d.company&&n.jsxs("p",{className:"text-red-500 text-sm mt-2 flex items-center gap-1",children:[n.jsx("span",{className:"font-semibold",children:""})," ",d.company]})]})]})]}),u===4&&n.jsxs("div",{className:"space-y-6 animate-fade-in",children:[n.jsx("div",{className:"flex items-center justify-center mb-6",children:n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-24 h-24 rounded-2xl bg-gradient-to-br from-blue-600 to-indigo-600 flex items-center justify-center shadow-xl shadow-blue-500/30",children:n.jsx(Tt,{className:"w-12 h-12 text-white",strokeWidth:2})}),n.jsx("div",{className:"absolute -bottom-2 -right-2 w-10 h-10 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl flex items-center justify-center shadow-lg",children:n.jsx("span",{className:"text-white font-bold text-sm",children:"4"})})]})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold text-slate-900 text-center mb-2 bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Wie soll das Gesprch sein?"}),n.jsx("p",{className:"text-slate-600 text-center mb-8 text-base",children:"Whle den Gesprchsstil, der am besten zu deiner Vorbereitung passt"}),n.jsx(ps,{selectedStyle:g.conversation_style,onStyleChange:y=>m("conversation_style",y)}),n.jsxs("div",{className:"mt-6 relative overflow-hidden rounded-2xl border-2 border-ocean-blue-200/60",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-ocean-blue-50 to-ocean-teal-50"}),n.jsxs("div",{className:"relative p-4 flex items-start gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-ocean-blue-500 to-ocean-deep-600 flex items-center justify-center flex-shrink-0",children:n.jsx(Mt,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-semibold text-ocean-deep-800 mb-1",children:" Tipp"}),n.jsx("p",{className:"text-sm text-ocean-deep-700",children:"Du kannst den Gesprchsstil auch whrend des Interviews anpassen, falls du mehr Herausforderung oder Untersttzung brauchst."})]})]})]})]}),n.jsxs("div",{className:"mt-8 relative overflow-hidden rounded-2xl border-2 border-gradient",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-ocean-blue-50 via-ocean-blue-100 to-ocean-teal-50"}),n.jsxs("div",{className:"relative p-6",children:[n.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-ocean-teal-400 to-ocean-teal-500 flex items-center justify-center",children:n.jsx(Ve,{className:"w-5 h-5 text-white"})}),"Zusammenfassung"]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/60 backdrop-blur-sm rounded-xl border border-white/60",children:[n.jsx(_t,{className:"w-5 h-5 text-ocean-blue-600"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("span",{className:"text-xs text-slate-500 block",children:"Name"}),n.jsx("span",{className:"font-semibold text-slate-800",children:g.user_name})]})]}),n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/60 backdrop-blur-sm rounded-xl border border-white/60",children:[n.jsx(Ot,{className:"w-5 h-5 text-ocean-teal-600"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("span",{className:"text-xs text-slate-500 block",children:"Position"}),n.jsx("span",{className:"font-semibold text-slate-800",children:g.position})]})]}),n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/60 backdrop-blur-sm rounded-xl border border-white/60",children:[n.jsx(Rt,{className:"w-5 h-5 text-ocean-deep-600"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("span",{className:"text-xs text-slate-500 block",children:"Unternehmen"}),n.jsx("span",{className:"font-semibold text-slate-800",children:g.company})]})]}),n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/60 backdrop-blur-sm rounded-xl border border-white/60",children:[n.jsx(Tt,{className:"w-5 h-5 text-blue-600"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("span",{className:"text-xs text-slate-500 block",children:"Gesprchsstil"}),n.jsx("span",{className:"font-semibold text-slate-900 capitalize",children:g.conversation_style==="friendly"?" Freundlich":g.conversation_style==="critical"?" Kritisch":" Sachlich"})]})]})]})]})]})]})]}),n.jsxs("div",{className:"px-6 py-6 bg-gradient-to-r from-ocean-blue-50 to-ocean-teal-50/30 border-t border-ocean-blue-100/50 flex justify-between gap-4",children:[n.jsxs(L,{onClick:w,disabled:u===l,variant:"outline",className:"min-w-[120px] border-2 border-slate-300 hover:border-ocean-blue-400 hover:bg-ocean-blue-50 transition-all duration-200 disabled:opacity-40",children:[n.jsx(Pt,{className:"w-4 h-4 mr-2 rotate-180"}),"Zurck"]}),n.jsx(L,{onClick:b,className:"min-w-[120px] bg-gradient-to-r from-ocean-blue-600 via-ocean-deep-600 to-ocean-teal-500 hover:from-ocean-blue-700 hover:via-ocean-deep-700 hover:to-ocean-teal-600 text-white shadow-lg hover:shadow-xl transition-all duration-200",children:u===i?n.jsxs(n.Fragment,{children:[n.jsx(Ve,{className:"w-4 h-4 mr-2"}),"Los geht's!"]}):n.jsxs(n.Fragment,{children:["Weiter",n.jsx(Pt,{className:"w-4 h-4 ml-2"})]})})]})]}),n.jsx("div",{className:"mt-6 text-center",children:n.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-white/60 backdrop-blur-sm rounded-full border border-white/60 shadow-sm",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Deine Daten bleiben privat und sicher"})]})})]})]})}var rn;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(rn||(rn={}));var an;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(an||(an={}));var ln;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(ln||(ln={}));const cn=["user","model","function","system"];var dn;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT"})(dn||(dn={}));var un;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(un||(un={}));var hn;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(hn||(hn={}));var fn;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(fn||(fn={}));var me;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER"})(me||(me={}));var mn;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(mn||(mn={}));var gn;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(gn||(gn={}));var pn;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(pn||(pn={}));class R extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class ce extends R{constructor(t,s){super(t),this.response=s}}class vs extends R{constructor(t,s,o,r){super(t),this.status=s,this.statusText=o,this.errorDetails=r}}class Y extends R{}const Pr="https://generativelanguage.googleapis.com",Fr="v1beta",Lr="0.21.0",Gr="genai-js";var ne;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(ne||(ne={}));class Br{constructor(t,s,o,r,a){this.model=t,this.task=s,this.apiKey=o,this.stream=r,this.requestOptions=a}toString(){var t,s;const o=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||Fr;let a=`${((s=this.requestOptions)===null||s===void 0?void 0:s.baseUrl)||Pr}/${o}/${this.model}:${this.task}`;return this.stream&&(a+="?alt=sse"),a}}function Ur(e){const t=[];return e?.apiClient&&t.push(e.apiClient),t.push(`${Gr}/${Lr}`),t.join(" ")}async function Wr(e){var t;const s=new Headers;s.append("Content-Type","application/json"),s.append("x-goog-api-client",Ur(e.requestOptions)),s.append("x-goog-api-key",e.apiKey);let o=(t=e.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(o){if(!(o instanceof Headers))try{o=new Headers(o)}catch(r){throw new Y(`unable to convert customHeaders value ${JSON.stringify(o)} to Headers: ${r.message}`)}for(const[r,a]of o.entries()){if(r==="x-goog-api-key")throw new Y(`Cannot set reserved header name ${r}`);if(r==="x-goog-api-client")throw new Y(`Header name ${r} can only be set using the apiClient field`);s.append(r,a)}}return s}async function $r(e,t,s,o,r,a){const l=new Br(e,t,s,o,a);return{url:l.toString(),fetchOptions:Object.assign(Object.assign({},Vr(a)),{method:"POST",headers:await Wr(l),body:r})}}async function Ae(e,t,s,o,r,a={},l=fetch){const{url:i,fetchOptions:u}=await $r(e,t,s,o,r,a);return zr(i,u,l)}async function zr(e,t,s=fetch){let o;try{o=await s(e,t)}catch(r){Kr(r,e)}return o.ok||await Hr(o,e),o}function Kr(e,t){let s=e;throw e instanceof vs||e instanceof Y||(s=new R(`Error fetching from ${t.toString()}: ${e.message}`),s.stack=e.stack),s}async function Hr(e,t){let s="",o;try{const r=await e.json();s=r.error.message,r.error.details&&(s+=` ${JSON.stringify(r.error.details)}`,o=r.error.details)}catch{}throw new vs(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${s}`,e.status,e.statusText,o)}function Vr(e){const t={};if(e?.signal!==void 0||e?.timeout>=0){const s=new AbortController;e?.timeout>=0&&setTimeout(()=>s.abort(),e.timeout),e?.signal&&e.signal.addEventListener("abort",()=>{s.abort()}),t.signal=s.signal}return t}function Nt(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Re(e.candidates[0]))throw new ce(`${V(e)}`,e);return qr(e)}else if(e.promptFeedback)throw new ce(`Text not available. ${V(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Re(e.candidates[0]))throw new ce(`${V(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),xn(e)[0]}else if(e.promptFeedback)throw new ce(`Function call not available. ${V(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Re(e.candidates[0]))throw new ce(`${V(e)}`,e);return xn(e)}else if(e.promptFeedback)throw new ce(`Function call not available. ${V(e)}`,e)},e}function qr(e){var t,s,o,r;const a=[];if(!((s=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||s===void 0)&&s.parts)for(const l of(r=(o=e.candidates)===null||o===void 0?void 0:o[0].content)===null||r===void 0?void 0:r.parts)l.text&&a.push(l.text),l.executableCode&&a.push("\n```"+l.executableCode.language+`
`+l.executableCode.code+"\n```\n"),l.codeExecutionResult&&a.push("\n```\n"+l.codeExecutionResult.output+"\n```\n");return a.length>0?a.join(""):""}function xn(e){var t,s,o,r;const a=[];if(!((s=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||s===void 0)&&s.parts)for(const l of(r=(o=e.candidates)===null||o===void 0?void 0:o[0].content)===null||r===void 0?void 0:r.parts)l.functionCall&&a.push(l.functionCall);if(a.length>0)return a}const Yr=[me.RECITATION,me.SAFETY,me.LANGUAGE];function Re(e){return!!e.finishReason&&Yr.includes(e.finishReason)}function V(e){var t,s,o;let r="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)r+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(r+=` due to ${e.promptFeedback.blockReason}`),!((s=e.promptFeedback)===null||s===void 0)&&s.blockReasonMessage&&(r+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((o=e.candidates)===null||o===void 0)&&o[0]){const a=e.candidates[0];Re(a)&&(r+=`Candidate was blocked due to ${a.finishReason}`,a.finishMessage&&(r+=`: ${a.finishMessage}`))}return r}function Ee(e){return this instanceof Ee?(this.v=e,this):new Ee(e)}function Zr(e,t,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=s.apply(e,t||[]),r,a=[];return r={},l("next"),l("throw"),l("return"),r[Symbol.asyncIterator]=function(){return this},r;function l(d){o[d]&&(r[d]=function(h){return new Promise(function(v,m){a.push([d,h,v,m])>1||i(d,h)})})}function i(d,h){try{u(o[d](h))}catch(v){p(a[0][3],v)}}function u(d){d.value instanceof Ee?Promise.resolve(d.value.v).then(f,g):p(a[0][2],d)}function f(d){i("next",d)}function g(d){i("throw",d)}function p(d,h){d(h),a.shift(),a.length&&i(a[0][0],a[0][1])}}const vn=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function Jr(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),s=ea(t),[o,r]=s.tee();return{stream:Qr(o),response:Xr(r)}}async function Xr(e){const t=[],s=e.getReader();for(;;){const{done:o,value:r}=await s.read();if(o)return Nt(ta(t));t.push(r)}}function Qr(e){return Zr(this,arguments,function*(){const s=e.getReader();for(;;){const{value:o,done:r}=yield Ee(s.read());if(r)break;yield yield Ee(Nt(o))}})}function ea(e){const t=e.getReader();return new ReadableStream({start(o){let r="";return a();function a(){return t.read().then(({value:l,done:i})=>{if(i){if(r.trim()){o.error(new R("Failed to parse stream"));return}o.close();return}r+=l;let u=r.match(vn),f;for(;u;){try{f=JSON.parse(u[1])}catch{o.error(new R(`Error parsing JSON response: "${u[1]}"`));return}o.enqueue(f),r=r.substring(u[0].length),u=r.match(vn)}return a()})}}})}function ta(e){const t=e[e.length-1],s={promptFeedback:t?.promptFeedback};for(const o of e){if(o.candidates)for(const r of o.candidates){const a=r.index;if(s.candidates||(s.candidates=[]),s.candidates[a]||(s.candidates[a]={index:r.index}),s.candidates[a].citationMetadata=r.citationMetadata,s.candidates[a].groundingMetadata=r.groundingMetadata,s.candidates[a].finishReason=r.finishReason,s.candidates[a].finishMessage=r.finishMessage,s.candidates[a].safetyRatings=r.safetyRatings,r.content&&r.content.parts){s.candidates[a].content||(s.candidates[a].content={role:r.content.role||"user",parts:[]});const l={};for(const i of r.content.parts)i.text&&(l.text=i.text),i.functionCall&&(l.functionCall=i.functionCall),i.executableCode&&(l.executableCode=i.executableCode),i.codeExecutionResult&&(l.codeExecutionResult=i.codeExecutionResult),Object.keys(l).length===0&&(l.text=""),s.candidates[a].content.parts.push(l)}}o.usageMetadata&&(s.usageMetadata=o.usageMetadata)}return s}async function bs(e,t,s,o){const r=await Ae(t,ne.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(s),o);return Jr(r)}async function ys(e,t,s,o){const a=await(await Ae(t,ne.GENERATE_CONTENT,e,!1,JSON.stringify(s),o)).json();return{response:Nt(a)}}function ws(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function Se(e){let t=[];if(typeof e=="string")t=[{text:e}];else for(const s of e)typeof s=="string"?t.push({text:s}):t.push(s);return na(t)}function na(e){const t={role:"user",parts:[]},s={role:"function",parts:[]};let o=!1,r=!1;for(const a of e)"functionResponse"in a?(s.parts.push(a),r=!0):(t.parts.push(a),o=!0);if(o&&r)throw new R("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!o&&!r)throw new R("No content is provided for sending chat message.");return o?t:s}function sa(e,t){var s;let o={model:t?.model,generationConfig:t?.generationConfig,safetySettings:t?.safetySettings,tools:t?.tools,toolConfig:t?.toolConfig,systemInstruction:t?.systemInstruction,cachedContent:(s=t?.cachedContent)===null||s===void 0?void 0:s.name,contents:[]};const r=e.generateContentRequest!=null;if(e.contents){if(r)throw new Y("CountTokensRequest must have one of contents or generateContentRequest, not both.");o.contents=e.contents}else if(r)o=Object.assign(Object.assign({},o),e.generateContentRequest);else{const a=Se(e);o.contents=[a]}return{generateContentRequest:o}}function bn(e){let t;return e.contents?t=e:t={contents:[Se(e)]},e.systemInstruction&&(t.systemInstruction=ws(e.systemInstruction)),t}function oa(e){return typeof e=="string"||Array.isArray(e)?{content:Se(e)}:e}const yn=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],ra={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function aa(e){let t=!1;for(const s of e){const{role:o,parts:r}=s;if(!t&&o!=="user")throw new R(`First content should be with role 'user', got ${o}`);if(!cn.includes(o))throw new R(`Each item should include role field. Got ${o} but valid roles are: ${JSON.stringify(cn)}`);if(!Array.isArray(r))throw new R("Content should have 'parts' property with an array of Parts");if(r.length===0)throw new R("Each Content should have at least one part");const a={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const i of r)for(const u of yn)u in i&&(a[u]+=1);const l=ra[o];for(const i of yn)if(!l.includes(i)&&a[i]>0)throw new R(`Content with role '${o}' can't contain '${i}' part`);t=!0}}const wn="SILENT_ERROR";class ia{constructor(t,s,o,r={}){this.model=s,this.params=o,this._requestOptions=r,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,o?.history&&(aa(o.history),this._history=o.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,s={}){var o,r,a,l,i,u;await this._sendPromise;const f=Se(t),g={safetySettings:(o=this.params)===null||o===void 0?void 0:o.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,tools:(a=this.params)===null||a===void 0?void 0:a.tools,toolConfig:(l=this.params)===null||l===void 0?void 0:l.toolConfig,systemInstruction:(i=this.params)===null||i===void 0?void 0:i.systemInstruction,cachedContent:(u=this.params)===null||u===void 0?void 0:u.cachedContent,contents:[...this._history,f]},p=Object.assign(Object.assign({},this._requestOptions),s);let d;return this._sendPromise=this._sendPromise.then(()=>ys(this._apiKey,this.model,g,p)).then(h=>{var v;if(h.response.candidates&&h.response.candidates.length>0){this._history.push(f);const m=Object.assign({parts:[],role:"model"},(v=h.response.candidates)===null||v===void 0?void 0:v[0].content);this._history.push(m)}else{const m=V(h.response);m&&console.warn(`sendMessage() was unsuccessful. ${m}. Inspect response object for details.`)}d=h}),await this._sendPromise,d}async sendMessageStream(t,s={}){var o,r,a,l,i,u;await this._sendPromise;const f=Se(t),g={safetySettings:(o=this.params)===null||o===void 0?void 0:o.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,tools:(a=this.params)===null||a===void 0?void 0:a.tools,toolConfig:(l=this.params)===null||l===void 0?void 0:l.toolConfig,systemInstruction:(i=this.params)===null||i===void 0?void 0:i.systemInstruction,cachedContent:(u=this.params)===null||u===void 0?void 0:u.cachedContent,contents:[...this._history,f]},p=Object.assign(Object.assign({},this._requestOptions),s),d=bs(this._apiKey,this.model,g,p);return this._sendPromise=this._sendPromise.then(()=>d).catch(h=>{throw new Error(wn)}).then(h=>h.response).then(h=>{if(h.candidates&&h.candidates.length>0){this._history.push(f);const v=Object.assign({},h.candidates[0].content);v.role||(v.role="model"),this._history.push(v)}else{const v=V(h);v&&console.warn(`sendMessageStream() was unsuccessful. ${v}. Inspect response object for details.`)}}).catch(h=>{h.message!==wn&&console.error(h)}),d}}async function la(e,t,s,o){return(await Ae(t,ne.COUNT_TOKENS,e,!1,JSON.stringify(s),o)).json()}async function ca(e,t,s,o){return(await Ae(t,ne.EMBED_CONTENT,e,!1,JSON.stringify(s),o)).json()}async function da(e,t,s,o){const r=s.requests.map(l=>Object.assign(Object.assign({},l),{model:t}));return(await Ae(t,ne.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:r}),o)).json()}class Nn{constructor(t,s,o={}){this.apiKey=t,this._requestOptions=o,s.model.includes("/")?this.model=s.model:this.model=`models/${s.model}`,this.generationConfig=s.generationConfig||{},this.safetySettings=s.safetySettings||[],this.tools=s.tools,this.toolConfig=s.toolConfig,this.systemInstruction=ws(s.systemInstruction),this.cachedContent=s.cachedContent}async generateContent(t,s={}){var o;const r=bn(t),a=Object.assign(Object.assign({},this._requestOptions),s);return ys(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(o=this.cachedContent)===null||o===void 0?void 0:o.name},r),a)}async generateContentStream(t,s={}){var o;const r=bn(t),a=Object.assign(Object.assign({},this._requestOptions),s);return bs(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(o=this.cachedContent)===null||o===void 0?void 0:o.name},r),a)}startChat(t){var s;return new ia(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},t),this._requestOptions)}async countTokens(t,s={}){const o=sa(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),r=Object.assign(Object.assign({},this._requestOptions),s);return la(this.apiKey,this.model,o,r)}async embedContent(t,s={}){const o=oa(t),r=Object.assign(Object.assign({},this._requestOptions),s);return ca(this.apiKey,this.model,o,r)}async batchEmbedContents(t,s={}){const o=Object.assign(Object.assign({},this._requestOptions),s);return da(this.apiKey,this.model,t,o)}}class Et{constructor(t){this.apiKey=t}getGenerativeModel(t,s){if(!t.model)throw new R("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new Nn(this.apiKey,t,s)}getGenerativeModelFromCachedContent(t,s,o){if(!t.name)throw new Y("Cached content must contain a `name` field.");if(!t.model)throw new Y("Cached content must contain a `model` field.");const r=["model","systemInstruction"];for(const l of r)if(s?.[l]&&t[l]&&s?.[l]!==t[l]){if(l==="model"){const i=s.model.startsWith("models/")?s.model.replace("models/",""):s.model,u=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(i===u)continue}throw new Y(`Different value for "${l}" specified in modelParams (${s[l]}) and cachedContent (${t[l]})`)}const a=Object.assign(Object.assign({},s),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new Nn(this.apiKey,a,o)}}async function ua(e){if(console.log(" [GEMINI] Listing available models..."),!e)throw console.error(" [GEMINI] API key is required to list models"),new Error("Gemini API key is required");try{const s=await new Et(e).listModels();return console.log(" [GEMINI] Available models:",s),console.log(" [GEMINI] Model count:",s.length),s.forEach((o,r)=>{console.log(`  ${r+1}. ${o.name} - ${o.displayName}`),console.log("     Supported methods:",o.supportedGenerationMethods)}),s}catch(t){throw console.error(" [GEMINI] Error listing models:",t),t}}async function En(e,t,s="gemini-1.5-flash"){if(console.log(" [GEMINI] Starting feedback generation..."),!t)throw console.error(" [GEMINI] API key is missing"),new Error("Gemini API key is required");const o=t.substring(0,8)+"..."+t.substring(t.length-4);if(console.log(` [GEMINI] API Key: ${o}`),console.log(` [GEMINI] Transcript length: ${e.length} characters`),!e||e.trim().length===0)throw console.error(" [GEMINI] Transcript is empty"),new Error("Transcript is empty");const r=[s,"gemini-1.5-flash","gemini-pro","gemini-1.5-pro","gemini-2.0-flash-exp"];console.log(` [GEMINI] Primary model: ${s}`),console.log(` [GEMINI] Fallback models: ${r.slice(1).join(", ")}`);let a=null;for(const i of r)try{console.log(`
 [GEMINI] Attempting with model: ${i}`);const u=new Et(t);console.log(" [GEMINI] GoogleGenerativeAI instance created");const f=u.getGenerativeModel({model:i});console.log(" [GEMINI] Model instance created"),console.log(" [GEMINI] Model config:",{model:i});const g=`Du bist ein professioneller Karriere-Coach. Analysiere das folgende Bewerbungsgesprch-Transkript und gib konstruktives Feedback in "Du"-Form.

SEHR WICHTIG: Bewerte AUSSCHLIESSLICH den BEWERBER/die BEWERBERIN!
- Die Aussagen des Interviewers (z.B. "H. Mller", "Interviewer", oder hnliche Kennzeichnungen) dienen NUR als Kontext fr die Fragen.
- Dein gesamtes Feedback, alle Strken, Verbesserungen, Tipps und Bewertungen beziehen sich NUR auf die Antworten und das Verhalten des Bewerbers.
- Bewerte NICHT die Qualitt der Fragen oder das Verhalten des Interviewers.

WICHTIG: Antworte NUR mit einem JSON-Objekt in folgendem Format (keine zustzlichen Erklrungen):

{
  "summary": "Eine kurze Zusammenfassung des Gesamteindrucks des BEWERBERS (2-3 Stze)",
  "strengths": [
    "Strke 1: Konkrete positive Beobachtung beim Bewerber",
    "Strke 2: Was der Bewerber gut gemacht hat",
    "Strke 3: Weitere Strken des Bewerbers"
  ],
  "improvements": [
    "Verbesserung 1: Konkreter Bereich, den der Bewerber verbessern kann",
    "Verbesserung 2: Was der Bewerber besser machen knnte",
    "Verbesserung 3: Weitere Verbesserungspotenziale fr den Bewerber"
  ],
  "tips": [
    "Tipp 1: Konkrete, umsetzbare Empfehlung fr den Bewerber",
    "Tipp 2: Praktischer Ratschlag fr den Bewerber",
    "Tipp 3: Weitere hilfreiche Tipps fr den Bewerber"
  ],
  "rating": {
    "overall": 7,
    "communication": 6,
    "motivation": 7,
    "professionalism": 8
  }
}

Bewertungsskala: 1-10 (1=sehr schwach, 10=exzellent)

Analysiere diese Aspekte der BEWERBER-Antworten:
- Struktur & Klarheit der Antworten des Bewerbers
- Inhalt & Beispiele, die der Bewerber nennt
- Motivation & Begeisterung des Bewerbers
- Professionalitt & Selbstbewusstsein des Bewerbers

Sei konstruktiv, ehrlich und motivierend. Fokussiere auf umsetzbare Verbesserungen fr den Bewerber.

Transkript:
${e}

JSON Feedback:`;console.log(" [GEMINI] Sending request to Gemini API..."),console.log(` [GEMINI] Prompt length: ${g.length} characters`);const p=await f.generateContent(g);console.log(" [GEMINI] Request successful, processing response..."),console.log(" [GEMINI] Raw result:",JSON.stringify(p,null,2));const d=await p.response;console.log(" [GEMINI] Response received"),console.log(" [GEMINI] Response object:",JSON.stringify(d,null,2));const h=d.text();return console.log(` [GEMINI] Feedback generated successfully (${h.length} characters)`),console.log(` [GEMINI] Feedback preview: ${h.substring(0,100)}...`),console.log(` [GEMINI] Successfully used model: ${i}`),h}catch(u){if(console.error(` [GEMINI] Error with model ${i}:`,u),console.error(" [GEMINI] Error type:",u.constructor.name),console.error(" [GEMINI] Error message:",u.message),u.response&&console.error(" [GEMINI] Error response:",u.response),u.status&&console.error(" [GEMINI] Error status:",u.status),u.statusText&&console.error(" [GEMINI] Error status text:",u.statusText),a=u,u.message.includes("404")||u.message.includes("not found")){console.log(` [GEMINI] Model ${i} not found, trying next model...`);continue}console.error(" [GEMINI] Non-404 error, not trying other models");break}console.error(" [GEMINI] All models failed");let l=a?a.message:"Unknown error";throw a&&(a.message.includes("404")||a.message.includes("not found"))?l=`Kein Gemini-Modell verfgbar. Versuchte Modelle: ${r.join(", ")}

Mgliche Lsungen:
1. berprfe, ob dein API Key gltig ist und Zugriff auf Gemini-Modelle hat
2. Stelle sicher, dass die Gemini API in deinem Google Cloud Projekt aktiviert ist
3. berprfe, ob du ein kostenloses API-Kontingent hast
4. Besuche https://ai.google.dev/ um deinen API-Key zu berprfen

Letzter Fehler: ${a.message}`:a&&a.message.includes("API key")&&(l=`API Key Problem: ${a.message}

Stelle sicher, dass:
1. VITE_GEMINI_API_KEY korrekt in der .env Datei gesetzt ist
2. Der API Key gltig ist (berprfe auf https://ai.google.dev/)
3. Der API Key nicht abgelaufen ist`),new Error(`Fehler bei der Feedback-Generierung: ${l}`)}async function ha(e){return new Promise((t,s)=>{const o=new FileReader;o.onloadend=()=>{const r=o.result.split(",")[1];t({inlineData:{data:r,mimeType:e.type||"audio/webm"}})},o.onerror=s,o.readAsDataURL(e)})}async function fa(e,t,s="gemini-1.5-flash"){if(console.log(" [GEMINI AUDIO] Starting audio analysis..."),!t)throw console.error(" [GEMINI AUDIO] API key is missing"),new Error("Gemini API key is required");if(!e)throw console.error(" [GEMINI AUDIO] Audio file is missing"),new Error("Audio file is required");const o=t.substring(0,8)+"..."+t.substring(t.length-4);console.log(` [GEMINI AUDIO] API Key: ${o}`),console.log(` [GEMINI AUDIO] Audio file size: ${e.size} bytes`),console.log(` [GEMINI AUDIO] Audio file type: ${e.type}`);const r=[s,"gemini-1.5-flash","gemini-1.5-pro","gemini-2.0-flash-exp"];console.log(` [GEMINI AUDIO] Primary model: ${s}`),console.log(` [GEMINI AUDIO] Fallback models: ${r.slice(1).join(", ")}`);let a=null;console.log(" [GEMINI AUDIO] Converting audio to base64...");const l=await ha(e);console.log(" [GEMINI AUDIO] Audio converted successfully");for(const u of r)try{console.log(`
 [GEMINI AUDIO] Attempting with model: ${u}`);const f=new Et(t);console.log(" [GEMINI AUDIO] GoogleGenerativeAI instance created");const g=f.getGenerativeModel({model:u});console.log(" [GEMINI AUDIO] Model instance created");const p=`Du bist ein professioneller Sprech- und Kommunikations-Coach. Analysiere die folgende Audio-Aufnahme eines Bewerbungsgesprchs.

SEHR WICHTIG: Analysiere AUSSCHLIESSLICH die Sprechweise des BEWERBERS/der BEWERBERIN!
- Die Stimme des Interviewers (z.B. "H. Mller") dient NUR als Kontext fr die Fragen.
- Dein gesamtes Feedback zur Sprechweise, alle Bewertungen und Verbesserungsvorschlge beziehen sich NUR auf die Stimme und Sprechweise des Bewerbers.
- Analysiere NICHT die Sprechweise des Interviewers.

WICHTIG: Antworte NUR mit einem JSON-Objekt in folgendem Format (keine zustzlichen Erklrungen):

{
  "summary": "Kurze Zusammenfassung der Sprech-Performance (2-3 Stze)",
  "clarity": {
    "rating": 7,
    "feedback": "Detailliertes Feedback zur Deutlichkeit der Aussprache"
  },
  "pace": {
    "rating": 6,
    "feedback": "Feedback zur Sprechgeschwindigkeit (zu schnell/langsam/optimal)",
    "wordsPerMinute": 150
  },
  "fillerWords": {
    "rating": 5,
    "feedback": "Feedback zu Fllwrtern (hm, h, also, sozusagen, quasi, etc.)",
    "count": 12,
    "examples": ["hm", "h", "also"]
  },
  "nervousness": {
    "rating": 6,
    "feedback": "Einschtzung zu Nervositt (Zittern, unruhige Stimme, schnelles Sprechen)",
    "indicators": ["Leichtes Zittern am Anfang", "Schnelles Sprechen bei schwierigen Fragen"]
  },
  "pauses": {
    "rating": 7,
    "feedback": "Feedback zur Nutzung von Pausen (zu viele/wenige, strategisch eingesetzt)",
    "quality": "Pausen werden gut genutzt"
  },
  "tonalModulation": {
    "rating": 6,
    "feedback": "Feedback zur Variation in Tonhhe und Betonung",
    "quality": "Etwas monoton, mehr Variation wrde helfen"
  },
  "confidence": {
    "rating": 7,
    "feedback": "Einschtzung der Selbstsicherheit basierend auf Stimmqualitt",
    "quality": "berwiegend selbstsicher"
  },
  "volume": {
    "rating": 8,
    "feedback": "Lautstrke und Projektion der Stimme",
    "quality": "Gut verstndlich und angenehm"
  },
  "articulation": {
    "rating": 7,
    "feedback": "Wie klar werden einzelne Wrter ausgesprochen",
    "quality": "Sehr klar, gute Artikulation"
  },
  "overallImprovement": [
    "Konkreter Verbesserungsvorschlag 1",
    "Konkreter Verbesserungsvorschlag 2",
    "Konkreter Verbesserungsvorschlag 3"
  ],
  "strengths": [
    "Strke 1 der Sprechweise",
    "Strke 2 der Sprechweise"
  ]
}

Bewertungsskala: 1-10 (1=sehr schwach, 10=exzellent)

Analysiere diese Aspekte der Sprache:
- **Deutlichkeit**: Wie klar und verstndlich wird gesprochen?
- **Sprechgeschwindigkeit**: Zu schnell, zu langsam oder optimal?
- **Fllwrter**: Wie hufig werden Fllwrter wie "hm", "h", "also", "sozusagen" verwendet?
- **Nervositt**: Zeichen von Nervositt (Zittern, unruhige Stimme, Hektik)?
- **Pausen**: Werden strategische Pausen eingesetzt oder gibt es zu viele Denkpausen?
- **Tonmodulation**: Wird die Stimme variiert oder klingt sie monoton?
- **Selbstsicherheit**: Klingt die Person selbstsicher und berzeugend?
- **Lautstrke**: Ist die Lautstrke angemessen?
- **Artikulation**: Wie deutlich werden einzelne Wrter ausgesprochen?

Sei konstruktiv, ehrlich und motivierend. Fokussiere auf umsetzbare Verbesserungen und gib konkrete Beispiele.

JSON Analyse:`;console.log(" [GEMINI AUDIO] Sending request to Gemini API..."),console.log(` [GEMINI AUDIO] Prompt length: ${p.length} characters`);const d=await g.generateContent([p,l]);console.log(" [GEMINI AUDIO] Request successful, processing response...");const h=await d.response;console.log(" [GEMINI AUDIO] Response received");const v=h.text();return console.log(` [GEMINI AUDIO] Audio analysis generated successfully (${v.length} characters)`),console.log(` [GEMINI AUDIO] Analysis preview: ${v.substring(0,100)}...`),console.log(` [GEMINI AUDIO] Successfully used model: ${u}`),v}catch(f){if(console.error(` [GEMINI AUDIO] Error with model ${u}:`,f),console.error(" [GEMINI AUDIO] Error type:",f.constructor.name),console.error(" [GEMINI AUDIO] Error message:",f.message),f.response&&console.error(" [GEMINI AUDIO] Error response:",f.response),f.status&&console.error(" [GEMINI AUDIO] Error status:",f.status),f.statusText&&console.error(" [GEMINI AUDIO] Error status text:",f.statusText),a=f,f.message.includes("404")||f.message.includes("not found")){console.log(` [GEMINI AUDIO] Model ${u} not found, trying next model...`);continue}console.error(" [GEMINI AUDIO] Non-404 error, not trying other models");break}console.error(" [GEMINI AUDIO] All models failed");let i=a?a.message:"Unknown error";throw a&&(a.message.includes("404")||a.message.includes("not found"))?i=`Kein Gemini-Modell mit Audio-Untersttzung verfgbar. Versuchte Modelle: ${r.join(", ")}

Mgliche Lsungen:
1. berprfe, ob dein API Key gltig ist und Zugriff auf multimodale Gemini-Modelle hat
2. Stelle sicher, dass die Gemini API in deinem Google Cloud Projekt aktiviert ist
3. berprfe, ob du ein kostenloses API-Kontingent hast
4. Besuche https://ai.google.dev/ um deinen API-Key zu berprfen

Letzter Fehler: ${a.message}`:a&&a.message.includes("API key")&&(i=`API Key Problem: ${a.message}

Stelle sicher, dass:
1. VITE_GEMINI_API_KEY korrekt in der .env Datei gesetzt ist
2. Der API Key gltig ist (berprfe auf https://ai.google.dev/)
3. Der API Key nicht abgelaufen ist`),new Error(`Fehler bei der Audio-Analyse: ${i}`)}console.log(" [APP] App.jsx module loaded");console.log(" [APP] Imports loaded:",{React:typeof Os,useConversation:typeof On,Header:typeof it,FeedbackModal:typeof mt,UserWizard:typeof xs,Button:typeof L,Dialog:typeof Q,DialogContent:typeof ee});function ma(){console.log(" [APP] App component function called - starting render"),console.log(" [APP] Timestamp:",new Date().toISOString()),console.log(" [APP] Initializing state hooks...");const[e,t]=c.useState(!0),[s,o]=c.useState(null),[r,a]=c.useState(!1),[l,i]=c.useState(""),[u,f]=c.useState(!1),[g,p]=c.useState([]),[d,h]=c.useState(null),[v,m]=c.useState(""),[b,w]=c.useState(null),[S,y]=c.useState(!1),[N,I]=c.useState(0),[_,j]=c.useState("professional"),[P,$]=c.useState(!1),[he,Ns]=c.useState(""),[ze,Es]=c.useState(null),[Z,Ss]=c.useState(!1);console.log(" [APP] State hooks initialized:",{showWizard:e,userData:s,showFeedbackModal:r,showSettingsDialog:S,conversationCount:N}),c.useEffect(()=>{console.log(" [STATE_CHANGE] showFeedbackModal changed to:",r),console.log(" [STATE_CHANGE] Timestamp:",new Date().toISOString()),console.log(" [STATE_CHANGE] Stack trace:",new Error().stack)},[r]),c.useEffect(()=>{console.log(" [STATE_CHANGE] isRequestingFeedback changed to:",u),console.log(" [STATE_CHANGE] Timestamp:",new Date().toISOString())},[u]);const K=c.useRef(!1),oe=c.useRef(null),J=c.useRef(null);console.log(" [APP] Getting API keys from wordpressAPI...");const re=F.getElevenLabsAgentId(),B=F.getGeminiApiKey(),Ke=F.getElevenLabsApiKey();console.log(" [APP] API keys loaded:",{ELEVENLABS_AGENT_ID:re?`${re.substring(0,8)}...`:"NOT SET",GEMINI_API_KEY:B?"SET":"NOT SET",ELEVENLABS_API_KEY:Ke?"SET":"NOT SET"}),console.log(" [APP] Initializing useConversation hook...");const A=On({overrides:{agent:{language:"de"}},onConnect:()=>{const x=Date.now(),E=oe.current?x-oe.current:0;console.log(" [CONNECTED] ElevenLabs WebSocket connected"),console.log(`   Time since start: ${E}ms`),K.current=!1},onDisconnect:x=>{const E=Date.now(),C=oe.current?E-oe.current:0;console.log(" [DISCONNECTED] ElevenLabs WebSocket disconnected"),console.log(`   Time since start: ${C}ms`),console.log("   Disconnect event:",x),console.log("   Close code:",x?.code),console.log("   Close reason:",x?.reason),console.log("   Was clean:",x?.wasClean),K.current=!1,x?.code===1002||x?.code===1003?h("Agent-Konfigurationsfehler: Bitte berprfe die Agent-Einstellungen im ElevenLabs Dashboard."):x?.code===1006?h("Verbindung unerwartet getrennt. Mglicherweise stimmt die Agent-Konfiguration nicht."):x?.reason&&h(`Verbindung getrennt: ${x.reason}`)},onMessage:x=>{console.log(" [MESSAGE] Received:",{source:x.source,message:x.message,timestamp:new Date().toISOString()}),p(E=>[...E,x])},onError:x=>{console.error(" [ERROR] Conversation error:",{error:x,errorType:x?.constructor?.name,errorMessage:x?.message,errorStack:x?.stack,timestamp:new Date().toISOString()}),K.current=!1,h(x?.message||"Unknown error occurred")},onModeChange:x=>{console.log(" [MODE_CHANGE] New mode:",x)}});console.log(" [APP] useConversation hook initialized:",{conversation:typeof A,status:A?.status,isSpeaking:A?.isSpeaking,micMuted:A?.micMuted,startSession:typeof A?.startSession,endSession:typeof A?.endSession});const As=async(x,E=5,C=2e3)=>{if(console.log(" [AUDIO DOWNLOAD] Downloading conversation audio from ElevenLabs..."),console.log(` [AUDIO DOWNLOAD] Conversation ID: ${x}`),console.log(` [AUDIO DOWNLOAD] Max retries: ${E}, Initial delay: ${C}ms`),!Ke)return console.error(" [AUDIO DOWNLOAD] ElevenLabs API key is missing"),w("ElevenLabs API key ist nicht konfiguriert."),null;const O=`https://api.elevenlabs.io/v1/convai/conversations/${x}/audio`;for(let M=0;M<=E;M++)try{if(M>0){const U=C*Math.pow(2,M-1);console.log(` [AUDIO DOWNLOAD] Waiting ${U}ms before retry attempt ${M}/${E}...`),await new Promise(ks=>setTimeout(ks,U))}console.log(` [AUDIO DOWNLOAD] Attempt ${M+1}/${E+1}: Fetching audio from API...`);const k=await fetch(O,{method:"GET",headers:{"xi-api-key":Ke}});if(k.ok){const U=await k.blob();return console.log(` [AUDIO DOWNLOAD] Audio downloaded successfully on attempt ${M+1}: ${U.size} bytes`),w(null),U}const T=await k.text();console.warn(` [AUDIO DOWNLOAD] Attempt ${M+1} failed with status ${k.status}:`,T);let Ie=T;try{const U=JSON.parse(T);Ie=U.detail?.message||U.message||T}catch{}if(k.status===404&&T.includes("missing_conversation_audio")){if(console.log(" [AUDIO DOWNLOAD] Audio not ready yet (still processing). Will retry..."),M===E)return w("Das Gesprchsaudio ist noch nicht verfgbar. Mglicherweise ist die Aufzeichnung in den Agent-Einstellungen nicht aktiviert, oder die Verarbeitung dauert lnger als erwartet."),console.error(" [AUDIO DOWNLOAD] Max retries reached. Audio still not available."),null;continue}throw new Error(`API-Fehler (${k.status}): ${Ie}`)}catch(k){if(console.error(` [AUDIO DOWNLOAD] Error on attempt ${M+1}:`,k),M===E){const T=`Audio-Download fehlgeschlagen nach ${E+1} Versuchen: ${k.message}`;return w(T),null}if(k.message.includes("fetch")||k.message.includes("network")){console.log(" [AUDIO DOWNLOAD] Network error, will retry...");continue}return w(`Audio-Download fehlgeschlagen: ${k.message}`),null}return console.error(" [AUDIO DOWNLOAD] Unexpected end of retry loop"),null},Is=async()=>{console.log(" [HANDLE_END_INTERVIEW] handleEndInterview called"),console.log(" [HANDLE_END_INTERVIEW] Conversation status:",A.status),A.status==="connected"&&(console.log(" [HANDLE_END_INTERVIEW] Ending session..."),await A.endSession(),console.log(" [HANDLE_END_INTERVIEW] Session ended")),console.log(" [HANDLE_END_INTERVIEW] Setting feedback modal open..."),f(!0),a(!0),console.log(" [HANDLE_END_INTERVIEW] Modal should now be open"),i(""),m("");try{let x="";g.length>0&&(x=g.map(k=>`${k.source==="ai"?"Herr Mller":"Bewerber"}: ${k.message}`).join(`

`)),(!x||x.trim().length===0)&&(x=`
Herr Mller: Guten Tag! Schn, dass Sie da sind. Erzhlen Sie mir doch bitte zunchst etwas ber sich selbst.

Bewerber: [Ihre Antworten wurden hier aufgezeichnet]

Herr Mller: Das klingt interessant. Warum haben Sie sich fr eine Ausbildung zum Mechatroniker bei BMW entschieden?

Bewerber: [Ihre Antworten wurden hier aufgezeichnet]

Herr Mller: Knnen Sie mir von einer Situation erzhlen, in der Sie ein technisches Problem gelst haben?

Bewerber: [Ihre Antworten wurden hier aufgezeichnet]
        `.trim());const E=En(x,B);let C=Promise.resolve(null);J.current?(console.log(" [FEEDBACK] Preparing to download conversation audio from ElevenLabs..."),console.log(` [FEEDBACK] Conversation ID: ${J.current}`),console.log(" [FEEDBACK] Waiting for audio to be processed by ElevenLabs..."),C=(async()=>{console.log(" [FEEDBACK] Waiting 3000ms for audio processing..."),await new Promise(Ie=>setTimeout(Ie,3e3));const T=await As(J.current);return T&&T.size>0?(console.log(" [FEEDBACK] Analyzing conversation audio..."),console.log(` [FEEDBACK] Audio blob size: ${T.size} bytes`),fa(T,B)):(console.warn(" [FEEDBACK] No audio downloaded, skipping analysis"),JSON.stringify({summary:"Audio-Analyse nicht verfgbar: Das Gesprch konnte nicht heruntergeladen werden.",error:!0,errorMessage:"Audio-Download fehlgeschlagen - mglicherweise ist die Aufzeichnung im Agent nicht aktiviert."}))})().catch(k=>(console.error(" [FEEDBACK] Audio analysis failed:",k),JSON.stringify({summary:"Die Audio-Analyse konnte leider nicht durchgefhrt werden.",error:!0,errorMessage:k.message})))):(console.warn(" [FEEDBACK] No conversation ID available, skipping audio analysis"),C=Promise.resolve(JSON.stringify({summary:"Audio-Analyse nicht verfgbar: Keine Gesprchs-ID gefunden.",error:!0,errorMessage:"Keine Gesprchs-ID vorhanden"})));const[O,M]=await Promise.all([E,C]);if(i(O),M?(console.log(" [FEEDBACK] Audio analysis result received"),console.log(` [FEEDBACK] Audio analysis length: ${M.length} characters`),m(M)):console.log(" [FEEDBACK] No audio analysis available"),Z&&ze)try{if(console.log(" [WORDPRESS] Saving session data to database..."),await F.updateSession(ze.id,{transcript:x,feedback_json:O,audio_analysis_json:M}),J.current){console.log(" [WORDPRESS] Saving audio from ElevenLabs...");try{await F.saveAudioFromElevenLabs(J.current,ze.id),console.log(" [WORDPRESS] Audio saved successfully")}catch(k){console.error(" [WORDPRESS] Failed to save audio:",k)}}console.log(" [WORDPRESS] Session data saved successfully")}catch(k){console.error(" [WORDPRESS] Failed to save session:",k)}}catch(x){console.error("Error generating feedback:",x),i(`Entschuldigung, es gab einen Fehler bei der Feedback-Generierung:

${x.message}

Bitte stelle sicher, dass der GEMINI_API_KEY korrekt konfiguriert ist.`)}finally{f(!1)}},St=async()=>{console.log(" [MIC_CHECK] Checking microphone permissions...");try{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("Browser does not support microphone access");console.log(" [MIC_CHECK] Requesting microphone permission...");const x=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}});return console.log(" [MIC_CHECK]  Microphone permission granted"),console.log("   Audio tracks:",x.getAudioTracks().length),console.log("   Track settings:",x.getAudioTracks()[0]?.getSettings()),x.getTracks().forEach(E=>{E.stop(),console.log(" [MIC_CHECK] Stopped test track:",E.label)}),h(null),!0}catch(x){return console.error(" [MIC_CHECK]  Microphone access denied or failed:",{error:x,errorName:x?.name,errorMessage:x?.message}),h(x.message),!1}},fe=c.useCallback(async()=>{if(console.log(" [START] Beginning conversation start sequence..."),console.log(`   Agent ID: ${re}`),console.log(`   Current status: ${A.status}`),!re){console.error(" [START] Agent ID is missing");return}if(K.current||A.status==="connected"||A.status==="connecting"){console.log(" [START] Session already starting or connected, skipping..."),console.log(`   isStartingSession: ${K.current}`),console.log(`   conversation.status: ${A.status}`);return}try{if(console.log(" [START] Step 1: Checking microphone permissions..."),!await St()){console.error(" [START] Cannot start without microphone permission"),alert("Mikrofon-Zugriff erforderlich! Bitte erlaube den Zugriff auf dein Mikrofon, um das Gesprch zu starten.");return}K.current=!0,oe.current=Date.now(),p([]),h(null),w(null),J.current=null,console.log(" [START] Step 2: Initiating ElevenLabs session..."),console.log(`   Timestamp: ${new Date(oe.current).toISOString()}`),console.log(" [START] Current userData:",s),console.log(" [START] Variables being passed to ElevenLabs:"),console.log(`   user_name: "${s?.user_name||""}" (type: ${typeof s?.user_name})`),console.log(`   position: "${s?.position||""}" (type: ${typeof s?.position})`),console.log(`   company: "${s?.company||""}" (type: ${typeof s?.company})`),console.log(`   conversation_style: "${s?.conversation_style||"professional"}" (type: ${typeof s?.conversation_style})`);const E=await A.startSession({agentId:re,dynamicVariables:{user_name:s?.user_name||"",position:s?.position||"",company:s?.company||"",conversation_style:s?.conversation_style||"professional"}});if(J.current=E,console.log(" [START] Session started successfully"),console.log(` [START] Conversation ID: ${E}`),Z&&s)try{console.log(" [WORDPRESS] Creating session in database...");const C=await F.createSession({user_name:s.user_name,position:s.position,company:s.company,conversation_id:E});C.success&&C.data&&(Es(C.data),console.log(" [WORDPRESS] Session created:",C.data.id))}catch(C){console.error(" [WORDPRESS] Failed to create session:",C)}I(C=>C+1),Z||localStorage.setItem("bewerbungstrainer_conversation_count",String(N+1))}catch(x){console.error(" [START] Error starting conversation:",{error:x,errorName:x?.name,errorMessage:x?.message,errorStack:x?.stack}),K.current=!1,alert(`Fehler beim Starten des Gesprchs: ${x.message}

Bitte berprfe:
- Mikrofon-Berechtigung
- ElevenLabs Agent ID
- Internetverbindung`)}},[A,s,Z,N,St]),At=c.useCallback(x=>{console.log(" [WIZARD] handleWizardComplete called"),console.log(" [WIZARD] User data collected:",x),console.log(" [WIZARD] typeof data:",typeof x),o(x),t(!1),j(x.conversation_style||"professional"),Z||localStorage.setItem("bewerbungstrainer_user_data",JSON.stringify(x)),console.log(" [WIZARD] handleWizardComplete completed")},[Z]),js=c.useCallback(x=>{console.log(" [STYLE] Changing conversation style to:",x),j(x);const E={friendly:"Knnten Sie bitte etwas freundlicher und ermutigender sein?",critical:"Knnten Sie bitte kritischer und anspruchsvoller sein? Stellen Sie mir herausfordernde Fragen.",professional:"Knnten wir bitte zu einem sachlicheren und professionelleren Ton wechseln?"};Ns(E[x]||E.professional),$(!0),setTimeout(()=>{$(!1)},8e3)},[]),Cs=c.useCallback(()=>{console.log(" [APP] handleNewConversation called"),console.log(" [APP] userData:",s),console.log(" [APP] conversationCount:",N),s&&N>0?(console.log(" [APP] Showing settings dialog"),y(!0)):(console.log(" [APP] Starting first conversation"),fe())},[s,N,fe]),It=c.useCallback(()=>{console.log(" [APP] handleKeepDataAndStart called"),y(!1),fe()},[fe]),jt=c.useCallback(()=>{console.log(" [APP] handleChangeData called"),y(!1),t(!0)},[]),Ct=c.useCallback(x=>{console.log(" [APP] handleSettingsDialogOpenChange called with:",x),console.log(" [APP] typeof open:",typeof x),console.log(" [APP] setShowSettingsDialog:",typeof y),y(x)},[]),kt=c.useCallback(()=>{console.log(" [APP] handleFeedbackModalClose called"),a(!1)},[]);return c.useEffect(()=>{const x=F.isWordPress();if(Ss(x),console.log(` [INIT] WordPress mode: ${x}`),x){const E=F.getCurrentUser(),C=E?.id&&E.id>0;console.log(" [WORDPRESS] Current user:",E),console.log(" [WORDPRESS] Is logged in:",C),t(!0),C&&F.getSessions({limit:1}).then(O=>{O.success&&O.pagination&&I(O.pagination.total)}).catch(O=>{console.error(" [WORDPRESS] Failed to load session count:",O)})}else{const E=localStorage.getItem("bewerbungstrainer_user_data");if(E)try{const O=JSON.parse(E);o(O),t(!1)}catch(O){console.error("Error parsing stored user data:",O)}const C=localStorage.getItem("bewerbungstrainer_conversation_count");C&&I(parseInt(C,10))}},[]),c.useEffect(()=>(window.debugGemini={listModels:async()=>{if(!B){console.error(" GEMINI_API_KEY is not set");return}try{const x=await ua(B);return console.log("Available Gemini models:",x),x}catch(x){console.error("Error listing models:",x)}},testFeedback:async(x="Test transcript")=>{if(!B){console.error(" GEMINI_API_KEY is not set");return}try{const E=await En(x,B);return console.log("Generated feedback:",E),E}catch(E){console.error("Error generating feedback:",E)}},apiKey:B?"Set ":"Not set "},console.log(`
 Debug-Funktionen verfgbar:
  - window.debugGemini.listModels() - Liste verfgbare Gemini-Modelle
  - window.debugGemini.testFeedback() - Teste Feedback-Generierung
  - window.debugGemini.apiKey - Zeige API-Key Status
    `),()=>{delete window.debugGemini}),[B]),e?(console.log(" [APP] Rendering UserWizard"),console.log(" [APP] handleWizardComplete type:",typeof At),n.jsx(xs,{onComplete:At})):(console.log(" [APP] Starting main render..."),console.log(" [APP] State at render time:",{showWizard:e,userData:s?"SET":"NULL",showFeedbackModal:r,showSettingsDialog:S,conversationCount:N,conversationStatus:A?.status}),console.log(" [APP] Callback functions:",{handleSettingsDialogOpenChange:typeof Ct,handleFeedbackModalClose:typeof kt,handleKeepDataAndStart:typeof It,handleChangeData:typeof jt}),console.log(" [APP] Component check before render:",{Dialog:typeof Q,DialogContent:typeof ee,DialogHeader:typeof be,DialogTitle:typeof we,DialogDescription:typeof Ne,DialogFooter:typeof ye,FeedbackModal:typeof mt,Header:typeof it,Button:typeof L,Settings:typeof Ze,Edit3:typeof Ye,RotateCcw:typeof Ft}),console.log(" [APP] Dialog component details:",Q),console.log(" [APP] DialogContent component details:",ee),n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-ocean-blue-100 via-ocean-blue-200 to-ocean-blue-300 flex items-center justify-center p-4 relative overflow-hidden",children:[n.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[n.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-ocean-blue-400/20 rounded-full blur-3xl animate-pulse"}),n.jsx("div",{className:"absolute bottom-20 right-10 w-[500px] h-[500px] bg-ocean-deep-500/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),n.jsx("div",{className:"absolute top-1/2 left-1/2 w-96 h-96 bg-ocean-teal-300/15 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}})]}),n.jsxs("div",{className:"w-full max-w-5xl relative z-10",children:[n.jsxs("div",{className:"bg-white/90 backdrop-blur-xl rounded-3xl shadow-2xl overflow-hidden border border-white/60",children:[n.jsx(it,{userName:s?.user_name,position:s?.position,company:s?.company}),n.jsxs("div",{className:"p-6 md:p-8 space-y-6",children:[s&&N>0&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx("div",{className:"bg-gradient-to-br from-ocean-blue-50 to-ocean-blue-100 rounded-2xl p-4 border border-ocean-blue-200",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-ocean-blue-500 to-ocean-blue-600 flex items-center justify-center",children:n.jsx(Hs,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-ocean-deep-600",children:"Gesprche"}),n.jsx("p",{className:"text-2xl font-bold text-ocean-deep-800",children:N})]})]})}),n.jsx("div",{className:"bg-gradient-to-br from-ocean-teal-50 to-ocean-teal-100 rounded-2xl p-4 border border-ocean-teal-200",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-ocean-teal-400 to-ocean-teal-600 flex items-center justify-center",children:n.jsx(In,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-ocean-deep-600",children:"Fortschritt"}),n.jsxs("p",{className:"text-2xl font-bold text-ocean-deep-800",children:[N>0?Math.min(N*15,100):0,"%"]})]})]})}),n.jsx("div",{className:"bg-gradient-to-br from-ocean-blue-50 to-ocean-teal-50 rounded-2xl p-4 border border-ocean-blue-200",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-ocean-deep-500 to-ocean-deep-600 flex items-center justify-center",children:n.jsx(Ze,{className:"w-6 h-6 text-white"})}),n.jsx("div",{className:"flex-1",children:n.jsxs(L,{onClick:()=>{confirm("Mchtest du deine Profildaten wirklich ndern?")&&(Z||localStorage.removeItem("bewerbungstrainer_user_data"),o(null),t(!0),A.status==="connected"&&A.endSession())},variant:"ghost",size:"sm",className:"w-full text-xs",children:[n.jsx(Ye,{className:"w-3 h-3 mr-1"}),"Profil ndern"]})})]})})]}),n.jsxs("div",{className:"relative overflow-hidden rounded-2xl border-2 border-ocean-blue-200/60",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-ocean-blue-50 via-ocean-blue-100 to-ocean-teal-50"}),n.jsxs("div",{className:"relative p-5 flex items-start gap-4",children:[n.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-ocean-blue-500 to-ocean-deep-600 flex items-center justify-center flex-shrink-0 shadow-lg",children:n.jsx(ct,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-bold text-ocean-deep-800 mb-2 text-lg",children:"So funktioniert's"}),n.jsxs("ul",{className:"space-y-2 text-sm text-ocean-deep-700",children:[n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-ocean-blue-600 font-bold mt-0.5",children:"1."}),n.jsx("span",{children:'Klicke auf "Gesprch starten" und fhre ein realistisches Bewerbungsgesprch'})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-ocean-deep-600 font-bold mt-0.5",children:"2."}),n.jsx("span",{children:"Antworte natrlich und ehrlich auf alle Fragen"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-ocean-teal-600 font-bold mt-0.5",children:"3."}),n.jsx("span",{children:"Erhalte detailliertes KI-Feedback zu deiner Performance und Sprechweise"})]})]})]})]})]}),n.jsx("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-ocean-blue-50 to-ocean-deep-100/30 p-8 min-h-[450px] border-2 border-ocean-blue-200/60",children:re?n.jsxs("div",{className:"flex flex-col items-center justify-center h-full space-y-6",children:[n.jsx("div",{className:"text-center",children:n.jsxs("div",{className:"inline-flex items-center gap-3 px-5 py-3 bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/60",children:[n.jsx("div",{className:`w-4 h-4 rounded-full ${A.status==="connected"?"bg-gradient-to-r from-green-400 to-emerald-500 animate-pulse shadow-lg shadow-green-400/50":A.status==="connecting"?"bg-gradient-to-r from-yellow-400 to-orange-500 animate-pulse shadow-lg shadow-yellow-400/50":"bg-slate-300"}`}),n.jsx("span",{className:"text-sm font-semibold",children:A.status==="connected"?" Verbunden":A.status==="connecting"?" Verbinde...":" Bereit"})]})}),A.status!=="connected"?n.jsxs("div",{className:"text-center space-y-6",children:[n.jsxs("div",{className:"relative inline-block",children:[n.jsx("div",{className:"w-24 h-24 rounded-2xl bg-gradient-to-br from-ocean-blue-500 to-ocean-deep-600 flex items-center justify-center shadow-2xl",children:n.jsx($t,{className:"w-12 h-12 text-white",strokeWidth:2.5})}),n.jsx("div",{className:"absolute -bottom-2 -right-2 w-10 h-10 bg-gradient-to-br from-ocean-teal-400 to-ocean-teal-500 rounded-xl flex items-center justify-center shadow-lg",children:n.jsx(Zs,{className:"w-5 h-5 text-white"})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-2xl font-bold text-ocean-deep-800 mb-2",children:"Bereit fr dein Interview?"}),n.jsx("p",{className:"text-sm text-ocean-deep-600 mb-6 max-w-md mx-auto",children:"Starte jetzt dein Bewerbungsgesprch mit Herrn Mller und erhalte professionelles Feedback"}),n.jsxs(L,{onClick:N>0?Cs:fe,size:"lg",className:"bg-gradient-to-r from-ocean-blue-600 via-ocean-deep-600 to-ocean-teal-500 hover:from-ocean-blue-700 hover:via-ocean-deep-700 hover:to-ocean-teal-600 text-white shadow-xl hover:shadow-2xl transition-all duration-300 text-base px-8 py-6",disabled:A.status==="connecting"||K.current,children:[n.jsx($t,{className:"w-5 h-5 mr-2"}),A.status==="connecting"?"Verbinde...":"Gesprch starten"]})]})]}):n.jsxs("div",{className:"text-center space-y-6 w-full",children:[P&&n.jsxs("div",{className:"mb-4 relative overflow-hidden rounded-3xl border-2 border-blue-100 bg-white/80 backdrop-blur-xl shadow-2xl shadow-blue-500/20 animate-fade-in",children:[n.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-blue-400/20 rounded-full blur-2xl -mr-10 -mt-10"}),n.jsxs("div",{className:"p-4 flex items-start gap-3 relative z-10",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("p",{className:"font-bold text-slate-900 mb-2 flex items-center gap-2",children:[n.jsx(ct,{className:"w-5 h-5 text-blue-600",strokeWidth:2})," Sage dem Interviewer:"]}),n.jsxs("p",{className:"text-slate-700 bg-blue-50 px-4 py-3 rounded-2xl border border-blue-200 italic font-medium",children:['"',he,'"']})]}),n.jsx("button",{onClick:()=>$(!1),className:"text-slate-400 hover:text-slate-600 transition-colors",children:n.jsx(dt,{className:"w-5 h-5"})})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("p",{className:"text-xs font-bold uppercase tracking-wider text-slate-500 mb-3",children:"Gesprchsstil anpassen"}),n.jsx(ps,{selectedStyle:_,onStyleChange:js,compact:!0})]}),n.jsxs("div",{className:"flex flex-col items-center",children:[A.isSpeaking&&n.jsxs("div",{className:"mb-4",children:[n.jsx("div",{className:"flex gap-2 items-end h-16 mb-3",children:[...Array(7)].map((x,E)=>n.jsx("div",{className:"w-3 bg-gradient-to-t from-ocean-blue-500 to-ocean-deep-600 rounded-full animate-pulse shadow-lg",style:{height:`${Math.random()*100}%`,animationDelay:`${E*.1}s`}},E))}),n.jsx("p",{className:"text-sm text-ocean-deep-700 font-medium",children:A.isSpeaking?" Herr Mller spricht...":" Du bist dran"})]}),n.jsxs("div",{className:"relative group",children:[n.jsx("div",{className:`w-28 h-28 rounded-3xl flex items-center justify-center transition-all duration-300 shadow-2xl ${A.micMuted?"bg-gradient-to-br from-red-400 to-pink-500":"bg-gradient-to-br from-ocean-blue-500 to-ocean-deep-600 animate-pulse"}`,children:A.micMuted?n.jsx(Vs,{className:"w-14 h-14 text-white",strokeWidth:2}):n.jsx(Rs,{className:"w-14 h-14 text-white",strokeWidth:2})}),n.jsx("div",{className:`absolute -inset-2 rounded-3xl blur-xl opacity-50 ${A.micMuted?"bg-red-400":"bg-ocean-deep-500"}`})]}),n.jsx("p",{className:`text-sm font-medium mt-3 px-4 py-2 rounded-full ${A.micMuted?"bg-red-100 text-red-700":"bg-ocean-blue-100 text-ocean-blue-700"}`,children:A.micMuted?" Mikrofon aus":" Spreche klar und deutlich"})]}),n.jsxs(L,{onClick:Is,disabled:u,className:"bg-gradient-to-r from-red-500 to-pink-500 hover:from-red-600 hover:to-pink-600 text-white shadow-xl hover:shadow-2xl transition-all duration-300 px-8 py-6 text-base",size:"lg",children:[n.jsx(Ys,{className:"w-5 h-5 mr-2"}),"Gesprch beenden & Feedback erhalten"]})]})]}):n.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center py-12",children:[n.jsx("div",{className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-red-500 to-pink-500 flex items-center justify-center mb-4 shadow-xl",children:n.jsx(X,{className:"w-10 h-10 text-white"})}),n.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:"Konfiguration fehlt"}),n.jsxs("p",{className:"text-sm text-slate-600 max-w-md",children:["Bitte setze die ",n.jsx("code",{className:"bg-indigo-100 text-indigo-700 px-2.5 py-1 rounded-lg font-mono text-xs",children:"VITE_ELEVENLABS_AGENT_ID"})," ","in der .env Datei, um das Interview zu starten."]})]})}),d&&n.jsxs("div",{className:"relative overflow-hidden rounded-2xl border-2 border-red-200/60",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-50 to-pink-50"}),n.jsxs("div",{className:"relative p-4 flex items-start gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-red-500 to-pink-500 flex items-center justify-center flex-shrink-0",children:n.jsx(X,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-semibold text-red-900 mb-1",children:"Mikrofon-Fehler"}),n.jsx("p",{className:"text-sm text-red-800 mb-2",children:d}),n.jsx("p",{className:"text-xs text-red-700",children:" Bitte stelle sicher, dass dein Browser Zugriff auf das Mikrofon hat. berprfe die Browser-Einstellungen und erlaube den Mikrofonzugriff fr diese Seite."})]})]})]}),b&&n.jsxs("div",{className:"relative overflow-hidden rounded-2xl border-2 border-yellow-200/60",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-50 to-orange-50"}),n.jsxs("div",{className:"relative p-4 flex items-start gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-yellow-500 to-orange-500 flex items-center justify-center flex-shrink-0",children:n.jsx(X,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-semibold text-yellow-900 mb-1",children:"Audio-Aufzeichnung"}),n.jsx("p",{className:"text-sm text-yellow-800 mb-2",children:b}),n.jsxs("p",{className:"text-xs text-yellow-700",children:[" Hinweise zur Fehlerbehebung:",n.jsx("br",{}),' berprfe, ob "Conversation Recording" in den ElevenLabs Agent-Einstellungen aktiviert ist',n.jsx("br",{})," Stelle sicher, dass der VITE_ELEVENLABS_API_KEY in der .env Datei gesetzt ist",n.jsx("br",{})," Die Audio-Verarbeitung kann einige Sekunden nach dem Gesprch dauern"]})]})]})]}),n.jsxs("div",{className:"relative overflow-hidden rounded-2xl border-2 border-yellow-200/60",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-50 to-orange-50"}),n.jsxs("div",{className:"relative p-4 flex items-start gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-yellow-500 to-orange-500 flex items-center justify-center flex-shrink-0",children:n.jsx(X,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-semibold text-yellow-900 mb-1",children:"Hinweis: Audio-Analyse"}),n.jsx("p",{className:"text-sm text-yellow-800 mb-2",children:"Der ElevenLabs API Key ist nicht konfiguriert. Audio-Analyse-Funktion ist nicht verfgbar."}),n.jsxs("p",{className:"text-xs text-yellow-700",children:[" Um die Audio-Analyse zu aktivieren:",n.jsx("br",{}),"1. Setze ",n.jsx("code",{className:"bg-yellow-100 px-1 rounded",children:"VITE_ELEVENLABS_API_KEY"})," in der .env Datei",n.jsx("br",{}),'2. Stelle sicher, dass "Conversation Recording" in den ElevenLabs Agent-Einstellungen aktiviert ist']})]})]})]}),!B&&n.jsxs("div",{className:"relative overflow-hidden rounded-2xl border-2 border-yellow-200/60",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-50 to-orange-50"}),n.jsxs("div",{className:"relative p-4 flex items-start gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-yellow-500 to-orange-500 flex items-center justify-center flex-shrink-0",children:n.jsx(X,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-semibold text-yellow-900 mb-1",children:"Hinweis"}),n.jsx("p",{className:"text-sm text-yellow-800",children:"Der Gemini API Key ist nicht konfiguriert. Feedback-Funktion ist nicht verfgbar."})]})]})]})]})]}),n.jsx("div",{className:"mt-8 text-center",children:n.jsx("div",{className:"inline-flex items-center gap-2 px-6 py-3 bg-white/60 backdrop-blur-sm rounded-full border border-white/60 shadow-sm",children:n.jsxs("p",{className:"text-sm text-ocean-deep-600",children:[n.jsx("span",{className:"font-semibold bg-gradient-to-r from-ocean-blue-600 to-ocean-deep-600 bg-clip-text text-transparent",children:"Dein Bewerbungstrainer"})," "," 2025 | Powered by ElevenLabs & Google Gemini"]})})})]}),n.jsx(Q,{open:S,onOpenChange:Ct,children:n.jsxs(ee,{className:"sm:max-w-lg",children:[n.jsxs(be,{children:[n.jsxs(we,{className:"text-2xl flex items-center gap-2",children:[n.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-ocean-blue-500 to-ocean-deep-600 flex items-center justify-center",children:n.jsx(Ze,{className:"w-5 h-5 text-white"})}),"Neues Gesprch starten"]}),n.jsx(Ne,{className:"text-base pt-2",children:"Mchtest du die gleichen Daten verwenden oder neue eingeben?"})]}),n.jsx("div",{className:"py-6 space-y-4",children:n.jsxs("div",{className:"relative overflow-hidden rounded-2xl border-2",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-ocean-blue-50 via-ocean-blue-100 to-ocean-teal-50"}),n.jsxs("div",{className:"relative p-4",children:[n.jsx("p",{className:"text-sm font-semibold text-ocean-deep-700 mb-3",children:"Aktuelle Daten:"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx("span",{className:"text-ocean-deep-600",children:"Name:"}),n.jsx("span",{className:"font-medium text-ocean-deep-800",children:s?.user_name})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx("span",{className:"text-ocean-deep-600",children:"Position:"}),n.jsx("span",{className:"font-medium text-ocean-deep-800",children:s?.position})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx("span",{className:"text-ocean-deep-600",children:"Unternehmen:"}),n.jsx("span",{className:"font-medium text-ocean-deep-800",children:s?.company})]})]})]})]})}),n.jsxs(ye,{className:"flex-col sm:flex-row gap-3",children:[n.jsxs(L,{onClick:jt,variant:"outline",className:"flex-1 border-2 border-ocean-blue-200 hover:border-ocean-blue-400 hover:bg-ocean-blue-50",children:[n.jsx(Ye,{className:"w-4 h-4 mr-2"}),"Daten ndern"]}),n.jsxs(L,{onClick:It,className:"flex-1 bg-gradient-to-r from-ocean-blue-600 via-ocean-deep-600 to-ocean-teal-500 hover:from-ocean-blue-700 hover:via-ocean-deep-700 hover:to-ocean-teal-600 text-white",children:[n.jsx(Ft,{className:"w-4 h-4 mr-2"}),"Gleiche Daten verwenden"]})]})]})}),n.jsx(mt,{isOpen:r,onClose:kt,feedbackContent:l,audioAnalysisContent:v,isLoading:u})]}))}console.log(" [MAIN] Script loaded - starting initialization");console.log(" [MAIN] Document readyState:",document.readyState);console.log(" [MAIN] Window location:",window.location.href);console.log(" [MAIN] User agent:",navigator.userAgent);let Sn=!1;function at(){if(Sn){console.log(" Bewerbungstrainer: App already mounted, skipping...");return}const e=document.getElementById("bewerbungstrainer-app")||document.getElementById("root");if(!e){console.error(" Bewerbungstrainer: Root element not found! Looking for #bewerbungstrainer-app or #root"),console.log("Document ready state:",document.readyState),console.log("Available IDs:",Array.from(document.querySelectorAll("[id]")).map(t=>t.id));return}(e._reactRootContainer||e._reactRoot)&&(console.warn(" Bewerbungstrainer: Root element already has a React root, clearing..."),e.innerHTML="");try{console.log(" Bewerbungstrainer: Mounting React app on:",e.id),Ts.createRoot(e).render(n.jsx(c.StrictMode,{children:n.jsx(ma,{})})),Sn=!0,console.log(" Bewerbungstrainer: React app mounted successfully")}catch(t){console.error(" Bewerbungstrainer: Failed to mount React app:",t)}}function ga(){if(document.getElementById("bewerbungstrainer-app")||document.getElementById("root")){console.log(" Bewerbungstrainer: Element found immediately, mounting..."),at();return}if(document.readyState==="loading")console.log(" Bewerbungstrainer: Waiting for DOMContentLoaded..."),document.addEventListener("DOMContentLoaded",at);else{console.log(" Bewerbungstrainer: DOM loaded, waiting for element...");let e=0;const t=50,s=setInterval(()=>{e++,document.getElementById("bewerbungstrainer-app")||document.getElementById("root")?(clearInterval(s),console.log(` Bewerbungstrainer: Element found after ${e*100}ms`),at()):e>=t&&(clearInterval(s),console.error(" Bewerbungstrainer: Element not found after 5 seconds"),console.log("Available elements:",Array.from(document.querySelectorAll("[id]")).map(o=>o.id)))},100)}}ga();
