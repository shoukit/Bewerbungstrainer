import{j as e,m as s,ad as q,s as U,a0 as X,ae as J,b as H,L as E,a as T,f as _,X as D,A as le,aZ as de,a_ as ce,B as pe,a1 as xe,G as K,l as he,a4 as ge,h as ue,aD as ye,t as me}from"./ui-vendor-Dm6q_mjH.js";import{a as w,d as be}from"./react-vendor-uDOJF2jQ.js";import{b as Q,C as Z,w as V}from"./FeatureInfoButton-DP9rw1S0.js";import{u as Y}from"./useMobile-YxjH166V.js";import"./card-DJ81HJlf.js";import{B as L}from"./button-BJJ4Phrm.js";import{A as fe}from"./AudioRecorder-B-GUao9Z.js";import{D as je}from"./DeviceSettingsDialog-qbuiGPOe.js";const W={love:J,talent:X,need:U,market:q},ve=({progress:f,size:x=100,strokeWidth:z=6})=>{const $=(x-z)/2,g=$*2*Math.PI,t=g-f/4*g;return e.jsxs("svg",{width:x,height:x,style:{transform:"rotate(-90deg)"},children:[e.jsx("circle",{cx:x/2,cy:x/2,r:$,fill:"none",stroke:"rgba(255,255,255,0.1)",strokeWidth:z}),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"progressGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:"#F43F5E"}),e.jsx("stop",{offset:"33%",stopColor:"#F59E0B"}),e.jsx("stop",{offset:"66%",stopColor:"#10B981"}),e.jsx("stop",{offset:"100%",stopColor:"#8B5CF6"})]})}),e.jsx("circle",{cx:x/2,cy:x/2,r:$,fill:"none",stroke:"url(#progressGradient)",strokeWidth:z,strokeLinecap:"round",strokeDasharray:g,strokeDashoffset:t,style:{transition:"stroke-dashoffset 0.6s ease-out"}})]})},Be=({dimensions:f,DIMENSIONS:x,onExtractKeywords:z,onUpdateDimension:$,onRemoveTag:g,allDimensionsFilled:t,onSynthesize:y,isSynthesizing:j,selectedMicrophoneId:F,onMicrophoneChange:M})=>{const i=Q(),C=Y(768),[u,d]=w.useState(null),[n,h]=w.useState(""),[o,p]=w.useState(!1),[S,I]=w.useState(!1),[N,ee]=w.useState(null),G=F??N,te=M??ee,A=w.useRef(null);w.useEffect(()=>{u&&A.current&&A.current.focus()},[u]);const m=u?x[u]:null,R=a=>{d(a),h(f[a]?.input||"")},re=async()=>{if(!(!n.trim()||!u||o)){p(!0);try{const a=await z(u,n.trim());if(a&&a.length>0){const r=f[u]?.tags||[],b=[...new Set([...r,...a])];await $(u,n.trim(),b)}d(null),h("")}catch(a){console.error("[IkigaiCompass] Extraction failed:",a)}finally{p(!1)}}},ie=w.useCallback(a=>{h(r=>r.trim()?r.trim()+`

`+a:a)},[]),B=a=>f[a]?.tags?.length>0,P=Object.keys(f).filter(a=>B(a)).length,ae=(a,r)=>{const b=W[a],l=B(a),c=f[a]?.tags||[];return e.jsxs(s.div,{whileTap:{scale:.98},whileHover:{scale:1.01},onClick:()=>R(a),animate:l?{boxShadow:`0 4px 20px ${r.color}20`}:{},style:{background:l?`linear-gradient(135deg, ${r.color}10 0%, ${r.color}05 100%)`:"linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(248,250,252,0.9) 100%)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)",borderRadius:"20px",padding:"18px",cursor:"pointer",border:`2px solid ${l?r.color:"rgba(0,0,0,0.06)"}`,boxShadow:l?`0 4px 20px ${r.color}20, inset 0 0 20px ${r.color}05`:"0 2px 12px rgba(0,0,0,0.06)",transition:"all 0.3s ease",position:"relative",overflow:"hidden"},children:[l&&e.jsx("div",{style:{position:"absolute",top:0,right:0,width:"100px",height:"100px",background:`radial-gradient(circle at top right, ${r.color}15 0%, transparent 70%)`,pointerEvents:"none"}}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"14px",marginBottom:c.length>0||!l?"14px":0,position:"relative",zIndex:1},children:[e.jsx(s.div,{animate:l?{scale:[1,1.05,1]}:{},transition:{duration:2,repeat:1/0,ease:"easeInOut"},style:{width:"48px",height:"48px",borderRadius:"14px",background:l?`linear-gradient(135deg, ${r.color}30 0%, ${r.color}15 100%)`:`linear-gradient(135deg, ${r.color}15 0%, ${r.color}08 100%)`,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,boxShadow:l?`0 4px 12px ${r.color}25`:"none"},children:e.jsx(b,{size:24,style:{color:r.color,filter:l?`drop-shadow(0 0 4px ${r.color}40)`:"none"}})}),e.jsxs("div",{style:{flex:1},children:[e.jsx("h3",{style:{fontSize:"16px",fontWeight:700,color:l?r.color:i.textMain,marginBottom:"3px",textShadow:l?`0 0 20px ${r.color}20`:"none"},children:r.label}),e.jsx("p",{style:{fontSize:"12px",color:i.textMuted,lineHeight:1.4},children:r.description})]}),l&&e.jsx(s.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:500,damping:25},style:{width:"26px",height:"26px",borderRadius:"50%",background:r.color,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:`0 2px 8px ${r.color}40`},children:e.jsx(H,{size:14,color:"white",strokeWidth:3})})]}),c.length>0?e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px",position:"relative",zIndex:1},children:[c.slice(0,4).map((k,v)=>e.jsx(s.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:v*.05},style:{padding:"5px 12px",borderRadius:"12px",fontSize:"12px",fontWeight:600,background:`linear-gradient(135deg, white 0%, ${r.color}08 100%)`,border:`1.5px solid ${r.color}`,color:r.color,boxShadow:`0 2px 6px ${r.color}15`},children:k},v)),c.length>4&&e.jsxs("span",{style:{padding:"5px 12px",borderRadius:"12px",fontSize:"12px",fontWeight:600,background:`${r.color}10`,border:`1.5px dashed ${r.color}60`,color:r.color},children:["+",c.length-4]})]}):e.jsxs("p",{style:{fontSize:"13px",color:i.textMuted,fontStyle:"italic",display:"flex",alignItems:"center",gap:"6px"},children:[e.jsx("span",{style:{width:"6px",height:"6px",borderRadius:"50%",background:r.color,opacity:.5}}),"Tippe, um auszufüllen..."]})]},a)},oe=(a,r,b)=>{const l=W[a],c=B(a),k=f[a]?.tags||[],v="min(220px, 24vw)";return e.jsx(s.div,{style:{gridArea:b,width:v,height:v,cursor:"pointer",justifySelf:b==="love"||b==="need"?"end":"start",alignSelf:b==="love"||b==="talent"?"end":"start"},whileHover:{scale:1.05,zIndex:10},whileTap:{scale:.97},onClick:()=>R(a),animate:c?{boxShadow:[`0 0 20px ${r.color}30`,`0 0 40px ${r.color}40`,`0 0 20px ${r.color}30`]}:{},transition:c?{duration:3,repeat:1/0,ease:"easeInOut"}:{},children:e.jsxs("div",{style:{width:"100%",height:"100%",borderRadius:"50%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden",background:c?`linear-gradient(135deg, ${r.color}35 0%, ${r.color}15 100%)`:`linear-gradient(135deg, ${r.color}15 0%, ${r.color}08 100%)`,backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)",border:`2px solid ${c?`${r.color}80`:`${r.color}30`}`,boxShadow:c?`inset 0 0 30px ${r.color}20, 0 8px 32px ${r.color}25`:`inset 0 0 20px ${r.color}08, 0 4px 16px rgba(0,0,0,0.1)`,transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)"},children:[e.jsx("div",{style:{position:"absolute",inset:0,borderRadius:"50%",background:`radial-gradient(circle at 30% 30%, ${r.color}20 0%, transparent 60%)`,pointerEvents:"none"}}),e.jsx(s.div,{style:{position:"relative",zIndex:1,marginBottom:"6px"},animate:c?{scale:[1,1.1,1]}:{},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:e.jsx(l,{size:32,style:{color:r.color,filter:c?`drop-shadow(0 0 8px ${r.color}60)`:"none"}})}),e.jsx("span",{style:{fontWeight:700,fontSize:"15px",color:r.color,textShadow:c?`0 0 10px ${r.color}40`:"none",position:"relative",zIndex:1},children:r.label}),e.jsx("span",{style:{fontSize:"11px",color:c?r.color:`${r.color}90`,textAlign:"center",padding:"0 12px",opacity:.85,position:"relative",zIndex:1},children:r.description}),c&&e.jsxs(s.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"4px",marginTop:"8px",padding:"0 8px",maxHeight:"50px",overflow:"hidden",position:"relative",zIndex:1},children:[k.slice(0,2).map((ne,O)=>e.jsx(s.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:O*.1},style:{padding:"3px 8px",borderRadius:"12px",fontSize:"10px",fontWeight:600,background:`linear-gradient(135deg, white 0%, ${r.color}10 100%)`,border:`1.5px solid ${r.color}`,color:r.color,maxWidth:"75px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",boxShadow:`0 2px 8px ${r.color}20`},children:ne},O)),k.length>2&&e.jsxs("span",{style:{padding:"3px 8px",borderRadius:"12px",fontSize:"10px",fontWeight:600,background:`${r.color}15`,border:`1.5px dashed ${r.color}60`,color:r.color},children:["+",k.length-2]})]}),c&&e.jsx(s.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:25},style:{position:"absolute",top:"12px",right:"12px",width:"24px",height:"24px",borderRadius:"50%",background:r.color,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:`0 2px 8px ${r.color}50`,zIndex:2},children:e.jsx(H,{size:14,color:"white",strokeWidth:3})})]})},a)},se={love:"love",talent:"talent",need:"need",market:"market"};return e.jsxs("div",{style:{padding:C?i.space[4]:i.space[8],maxWidth:"900px",margin:"0 auto"},children:[e.jsx("div",{style:{textAlign:"center",marginBottom:i.space[6]},children:e.jsx("p",{style:{fontSize:i.fontSize.sm,color:i.textMuted},children:"Fülle die 4 Kreise mit deinen Gedanken. Dein KI-Coach extrahiert daraus automatisch deine Stärken und Ziele."})}),e.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"10px",marginBottom:i.space[6],flexWrap:"wrap"},children:Object.entries(x).map(([a,r])=>{const b=W[a],l=B(a);return e.jsxs(s.div,{initial:!1,animate:{scale:1,boxShadow:l?`0 4px 16px ${r.color}25`:"0 2px 8px rgba(0,0,0,0.05)"},whileHover:{scale:1.05},style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",borderRadius:"20px",fontSize:"14px",fontWeight:600,cursor:"pointer",background:l?`linear-gradient(135deg, ${r.color}20 0%, ${r.color}10 100%)`:"rgba(255,255,255,0.8)",color:l?r.color:i.textMuted,border:`2px solid ${l?r.color:"rgba(0,0,0,0.08)"}`,backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)",transition:"all 0.3s ease"},onClick:()=>R(a),children:[e.jsx(b,{size:16,style:{opacity:l?1:.6}}),e.jsx("span",{children:r.label}),l&&e.jsx(s.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:500,damping:25},style:{width:"18px",height:"18px",borderRadius:"50%",background:r.color,display:"flex",alignItems:"center",justifyContent:"center",marginLeft:"2px"},children:e.jsx(H,{size:11,color:"white",strokeWidth:3})})]},a)})}),C?e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:i.space[3],marginBottom:i.space[4]},children:Object.entries(x).map(([a,r])=>ae(a,r))}),t&&e.jsx(s.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{type:"spring",stiffness:200,damping:20},style:{display:"flex",justifyContent:"center",marginBottom:i.space[6]},children:e.jsxs(s.button,{onClick:y,disabled:j,whileHover:{scale:1.02},whileTap:{scale:.98},style:{background:"linear-gradient(135deg, #8B5CF6 0%, #6366F1 50%, #4F46E5 100%)",color:"white",padding:"16px 24px",fontSize:"16px",fontWeight:700,borderRadius:"18px",border:"none",boxShadow:"0 8px 32px rgba(139,92,246,0.35), inset 0 1px 0 rgba(255,255,255,0.2)",display:"flex",alignItems:"center",gap:"10px",width:"100%",justifyContent:"center",cursor:j?"wait":"pointer",opacity:j?.85:1,position:"relative",overflow:"hidden"},children:[!j&&e.jsx(s.div,{animate:{x:["-100%","200%"]},transition:{duration:2,repeat:1/0,ease:"easeInOut",repeatDelay:1},style:{position:"absolute",top:0,left:0,width:"50%",height:"100%",background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent)",pointerEvents:"none"}}),j?e.jsxs(e.Fragment,{children:[e.jsx(E,{className:"animate-spin",size:20}),e.jsx("span",{children:"Analysiere..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(T,{size:20}),e.jsx("span",{children:"Mein Ikigai finden"}),e.jsx(_,{size:20})]})]})})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{display:"grid",gridTemplateAreas:`
                "love talent"
                "center center"
                "need market"
              `,gridTemplateColumns:"1fr 1fr",gridTemplateRows:"auto 1fr auto",gap:"0px",width:"100%",maxWidth:"520px",margin:"0 auto",marginBottom:i.space[4],padding:"0 10px"},children:[Object.entries(x).map(([a,r])=>oe(a,r,se[a])),e.jsxs(s.div,{style:{gridArea:"center",justifySelf:"center",alignSelf:"center",zIndex:10,marginTop:"-60px",marginBottom:"-60px",position:"relative"},animate:t?{scale:[1,1.08,1]}:{},transition:{duration:2.5,repeat:1/0,ease:"easeInOut"},children:[t&&e.jsx(s.div,{animate:{opacity:[.5,.8,.5],scale:[1,1.2,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},style:{position:"absolute",inset:"-20px",borderRadius:"50%",background:"radial-gradient(circle, rgba(139,92,246,0.3) 0%, transparent 70%)",pointerEvents:"none"}}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx(ve,{progress:P,size:100,strokeWidth:5}),e.jsx("div",{style:{position:"absolute",inset:"8px",borderRadius:"50%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:t?"linear-gradient(135deg, #8B5CF6 0%, #6366F1 50%, #4F46E5 100%)":"linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(248,250,252,0.9) 100%)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)",boxShadow:t?"0 8px 32px rgba(139,92,246,0.4), inset 0 0 20px rgba(255,255,255,0.2)":"0 4px 16px rgba(0,0,0,0.1), inset 0 0 20px rgba(255,255,255,0.5)",border:t?"2px solid rgba(255,255,255,0.3)":"2px solid rgba(0,0,0,0.05)",transition:"all 0.5s ease"},children:t?e.jsxs(s.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{type:"spring",stiffness:300},style:{textAlign:"center"},children:[e.jsx(T,{size:18,color:"white",style:{marginBottom:"2px"}}),e.jsx("span",{style:{color:"white",fontWeight:800,fontSize:"13px",letterSpacing:"0.5px",textShadow:"0 2px 8px rgba(0,0,0,0.2)"},children:"Ikigai"})]}):e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("span",{style:{color:i.textMain,fontWeight:800,fontSize:"20px",lineHeight:1},children:P}),e.jsx("span",{style:{color:i.textMuted,fontWeight:600,fontSize:"12px"},children:"/4"})]})})]})]})]}),t&&e.jsx(s.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{type:"spring",stiffness:200,damping:20},style:{display:"flex",justifyContent:"center",marginBottom:i.space[6]},children:e.jsxs(s.button,{onClick:y,disabled:j,whileHover:{scale:1.03,boxShadow:"0 12px 40px rgba(139,92,246,0.4)"},whileTap:{scale:.98},style:{background:"linear-gradient(135deg, #8B5CF6 0%, #6366F1 50%, #4F46E5 100%)",color:"white",padding:"18px 36px",fontSize:"17px",fontWeight:700,borderRadius:"20px",border:"none",boxShadow:"0 8px 32px rgba(139,92,246,0.35), inset 0 1px 0 rgba(255,255,255,0.2)",display:"flex",alignItems:"center",gap:"12px",cursor:j?"wait":"pointer",opacity:j?.85:1,position:"relative",overflow:"hidden"},children:[!j&&e.jsx(s.div,{animate:{x:["-100%","200%"]},transition:{duration:2,repeat:1/0,ease:"easeInOut",repeatDelay:1},style:{position:"absolute",top:0,left:0,width:"50%",height:"100%",background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent)",pointerEvents:"none"}}),j?e.jsxs(e.Fragment,{children:[e.jsx(E,{className:"animate-spin",size:22}),e.jsx("span",{children:"Analysiere dein Ikigai..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(T,{size:22}),e.jsx("span",{children:"Mein Ikigai finden"}),e.jsx(_,{size:22})]})]})})]}),!C&&e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px",marginTop:i.space[4]},children:Object.entries(x).map(([a,r])=>{const b=f[a]?.tags||[];if(b.length===0)return null;const l=W[a];return e.jsxs(s.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.1},style:{background:`linear-gradient(135deg, ${r.color}12 0%, ${r.color}05 100%)`,backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)",border:`1px solid ${r.color}25`,borderRadius:"20px",padding:"20px",boxShadow:`0 4px 24px ${r.color}10`},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"14px"},children:[e.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"10px",background:`linear-gradient(135deg, ${r.color}25 0%, ${r.color}15 100%)`,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(l,{size:18,style:{color:r.color}})}),e.jsx("span",{style:{fontWeight:700,fontSize:"15px",color:r.color},children:r.label})]}),e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[b.map((c,k)=>e.jsxs(s.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:k*.05},whileHover:{scale:1.05},style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 14px",borderRadius:"14px",fontSize:"13px",fontWeight:600,background:`linear-gradient(135deg, white 0%, ${r.color}08 100%)`,border:`1.5px solid ${r.color}`,color:r.color,boxShadow:`0 2px 8px ${r.color}15`,cursor:"default"},children:[e.jsx("span",{children:c}),e.jsx("button",{onClick:v=>{v.stopPropagation(),g(a,c)},style:{background:"none",border:"none",padding:"2px",cursor:"pointer",display:"flex",borderRadius:"50%",transition:"all 0.2s ease"},onMouseEnter:v=>{v.currentTarget.style.background=`${r.color}20`},onMouseLeave:v=>{v.currentTarget.style.background="none"},children:e.jsx(D,{size:14,color:r.color})})]},k)),e.jsx(s.button,{whileHover:{scale:1.05,borderStyle:"solid"},whileTap:{scale:.95},onClick:()=>R(a),style:{padding:"6px 14px",borderRadius:"14px",fontSize:"13px",fontWeight:600,border:`2px dashed ${r.color}50`,background:"transparent",color:r.color,cursor:"pointer",transition:"all 0.2s ease"},children:"+ Mehr"})]})]},a)})}),e.jsx(le,{children:u&&m&&e.jsx(s.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"fixed",inset:0,zIndex:i.zIndex.modal,display:"flex",alignItems:"center",justifyContent:"center",background:i.overlayDark,backdropFilter:"blur(4px)",padding:i.space[4]},onClick:a=>{a.target===a.currentTarget&&!o&&d(null)},children:e.jsxs(s.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},style:{background:i.cardBgColor,borderRadius:i.radius["2xl"],boxShadow:i.shadow.xl,width:"100%",maxWidth:"500px",overflow:"hidden"},children:[e.jsxs("div",{style:{padding:`${i.space[4]} ${i.space[6]}`,display:"flex",alignItems:"center",justifyContent:"space-between",background:`${m.color}10`,borderBottom:`1px solid ${m.color}20`},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:i.space[3]},children:[be.createElement(W[u],{size:28,style:{color:m.color}}),e.jsxs("div",{children:[e.jsx("h3",{style:{fontWeight:i.fontWeight.bold,fontSize:i.fontSize.lg,color:m.color},children:m.title||m.label}),e.jsx("p",{style:{fontSize:i.fontSize.sm,color:i.textSecondary},children:m.description})]})]}),e.jsx("button",{onClick:()=>!o&&d(null),disabled:o,style:{padding:i.space[2],borderRadius:i.radius.lg,background:"transparent",border:"none",cursor:"pointer"},children:e.jsx(D,{size:20,style:{color:i.textMuted}})})]}),e.jsx("div",{style:{padding:`${i.space[4]} ${i.space[6]}`},children:e.jsx("p",{style:{color:i.textMain,fontSize:i.fontSize.base,fontWeight:i.fontWeight.medium,lineHeight:1.5},children:m.question})}),f[u]?.tags?.length>0&&e.jsxs("div",{style:{padding:`0 ${i.space[6]} ${i.space[4]}`},children:[e.jsx("p",{style:{fontSize:i.fontSize.sm,color:i.textMuted,marginBottom:i.space[2]},children:"Bereits erfasst:"}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:i.space[2]},children:f[u].tags.map((a,r)=>e.jsx("span",{style:{padding:`${i.space[1]} ${i.space[3]}`,borderRadius:i.radius.full,fontSize:i.fontSize.sm,fontWeight:i.fontWeight.medium,background:"transparent",border:`1.5px solid ${m.color}`,color:m.color},children:a},r))})]}),e.jsxs("div",{style:{padding:`0 ${i.space[6]} ${i.space[6]}`},children:[e.jsxs("div",{style:{position:"relative"},children:[e.jsx("textarea",{ref:A,value:n,onChange:a=>h(a.target.value),placeholder:m.placeholder,rows:4,disabled:o,style:{width:"100%",padding:i.space[4],paddingRight:i.space[12],borderRadius:i.radius.xl,border:`2px solid ${m.color}30`,resize:"none",fontSize:i.fontSize.base,fontFamily:"inherit",outline:"none",background:i.cardBgColor}}),e.jsx("button",{onClick:re,disabled:!n.trim()||o,style:{position:"absolute",bottom:i.space[4],right:i.space[4],padding:i.space[3],borderRadius:i.radius.full,background:m.color,color:"white",border:"none",cursor:n.trim()&&!o?"pointer":"not-allowed",opacity:n.trim()&&!o?1:.5,display:"flex",alignItems:"center",justifyContent:"center"},children:o?e.jsx(E,{className:"animate-spin",size:20}):e.jsx(de,{size:20})})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:i.space[2],marginTop:i.space[3]},children:[e.jsx(fe,{onTranscriptReady:ie,disabled:o,warmUp:!0,deviceId:G}),e.jsx("button",{onClick:()=>I(!0),title:"Audio-Einstellungen",style:{width:"36px",height:"36px",borderRadius:i.radius.full,border:`1px solid ${i.borderColor}`,background:i.cardBgHover,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},children:e.jsx(ce,{size:18,style:{color:i.textMuted}})})]}),e.jsx("p",{style:{fontSize:i.fontSize.xs,color:i.textMuted,marginTop:i.space[2],textAlign:"center"},children:"Tippe oder sprich deine Gedanken ein"})]})]})})}),e.jsx(je,{isOpen:S,onClose:()=>I(!1),mode:"audio",selectedMicrophoneId:G,onMicrophoneChange:te})]})},we={love:J,talent:X,need:U,market:q},Te=({dimensions:f,synthesisResult:x,onStartNew:z,onEdit:$,DIMENSIONS:g})=>{const t=Q(),y=Y(768),[j,F]=w.useState([]),[M,i]=w.useState(!0);w.useEffect(()=>{(async()=>{try{const[n,h]=await Promise.all([V.getSimulatorScenarios(),V.getScenarios()]),o=[...(n?.scenarios||[]).map(p=>({...p,type:"simulator"})),...(h?.scenarios||[]).map(p=>({...p,type:"roleplay"}))];F(o)}catch(n){console.error("[IkigaiResults] Failed to load scenarios:",n)}finally{i(!1)}})()},[]);const C=d=>{if(!d||d.length===0||j.length===0)return[];const n=d.map(o=>o.toLowerCase());return j.map(o=>{const p=[o.title||"",o.category||"",o.tags||"",o.description||""].join(" ").toLowerCase();let S=0;return n.forEach(I=>{p.includes(I)&&(S+=1)}),{...o,matchScore:S}}).filter(o=>o.matchScore>0).sort((o,p)=>p.matchScore-o.matchScore).slice(0,2)},u=[{bg:`${g.love.color}08`,border:g.love.color,accent:g.love.color},{bg:`${g.talent.color}08`,border:g.talent.color,accent:g.talent.color},{bg:`${g.need.color}08`,border:g.need.color,accent:g.need.color}];return e.jsxs("div",{style:{padding:y?t.space[4]:t.space[8],maxWidth:"900px",margin:"0 auto"},children:[e.jsxs(s.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},style:{textAlign:"center",marginBottom:t.space[8]},children:[e.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:t.space[4]},children:e.jsx("div",{style:{width:y?"64px":"80px",height:y?"64px":"80px",borderRadius:t.radius.full,display:"flex",alignItems:"center",justifyContent:"center",background:t.headerGradient,boxShadow:t.shadow.lg},children:e.jsx(T,{size:y?28:36,color:"white"})})}),e.jsx("h1",{style:{fontSize:y?t.fontSize["2xl"]:t.fontSize["3xl"],fontWeight:t.fontWeight.bold,color:t.textMain,marginBottom:t.space[2]},children:"Dein Ikigai-Kompass"}),e.jsx("p",{style:{fontSize:t.fontSize.base,color:t.textSecondary,maxWidth:"600px",margin:"0 auto",lineHeight:1.6},children:x?.summary||"Basierend auf deinen Eingaben haben wir diese Karrierepfade für dich identifiziert."})]}),e.jsx(s.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},style:{display:"grid",gridTemplateColumns:y?"repeat(2, 1fr)":"repeat(4, 1fr)",gap:t.space[3],marginBottom:t.space[8]},children:Object.entries(g).map(([d,n])=>{const h=we[d],o=f[d]?.tags||[];return e.jsxs("div",{style:{padding:t.space[3],borderRadius:t.radius.xl,backgroundColor:`${n.color}10`,border:`1px solid ${n.color}30`},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:t.space[2],marginBottom:t.space[2]},children:[e.jsx(h,{size:16,style:{color:n.color}}),e.jsx("span",{style:{fontWeight:t.fontWeight.semibold,fontSize:t.fontSize.sm,color:n.color},children:n.label})]}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"4px"},children:o.map((p,S)=>e.jsx("span",{style:{padding:`2px ${t.space[2]}`,borderRadius:t.radius.full,fontSize:t.fontSize.xs,backgroundColor:`${n.color}20`,color:n.color},children:p},S))})]},d)})}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:t.space[6],marginBottom:t.space[8]},children:[e.jsx("h2",{style:{fontSize:t.fontSize.xl,fontWeight:t.fontWeight.bold,color:t.textMain},children:"Deine Karrierepfade"}),x?.paths?.map((d,n)=>{const h=u[n%u.length],o=C(d.training_tags);return e.jsxs(s.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3+n*.1},style:{borderRadius:t.radius["2xl"],overflow:"hidden",boxShadow:t.shadow.md,backgroundColor:t.cardBgColor,border:`2px solid ${h.border}30`},children:[e.jsx("div",{style:{padding:y?`${t.space[3]} ${t.space[4]}`:`${t.space[4]} ${t.space[6]}`,backgroundColor:h.border},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:t.space[3]},children:[e.jsx("div",{style:{width:"40px",height:"40px",borderRadius:t.radius.full,background:"rgba(255,255,255,0.2)",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(pe,{size:20,color:"white"})}),e.jsx("h3",{style:{fontSize:y?t.fontSize.lg:t.fontSize.xl,fontWeight:t.fontWeight.bold,color:"white"},children:d.role_title})]})}),e.jsxs("div",{style:{padding:y?t.space[4]:t.space[6]},children:[e.jsx("p",{style:{color:t.textSecondary,marginBottom:t.space[4],lineHeight:1.6,fontSize:t.fontSize.base},children:d.description}),e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:t.space[3],padding:t.space[4],borderRadius:t.radius.xl,marginBottom:t.space[4],backgroundColor:`${h.border}15`},children:[e.jsx(xe,{size:20,style:{color:h.accent,flexShrink:0,marginTop:"2px"}}),e.jsxs("div",{children:[e.jsx("p",{style:{fontWeight:t.fontWeight.semibold,marginBottom:"4px",color:h.accent},children:"Warum passt das zu dir?"}),e.jsx("p",{style:{color:t.textSecondary,fontSize:t.fontSize.sm},children:d.why_fit})]})]}),d.training_tags&&d.training_tags.length>0&&e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:t.space[2],marginBottom:t.space[4]},children:d.training_tags.map((p,S)=>e.jsxs("span",{style:{padding:`${t.space[1]} ${t.space[3]}`,borderRadius:t.radius.full,fontSize:t.fontSize.xs,fontWeight:t.fontWeight.medium,backgroundColor:`${h.border}20`,color:h.accent},children:["#",p]},S))}),o.length>0&&e.jsxs("div",{style:{borderTop:`1px solid ${t.borderColor}`,paddingTop:t.space[4],marginTop:t.space[4]},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:t.space[2],marginBottom:t.space[3]},children:[e.jsx(K,{size:18,style:{color:t.textMuted}}),e.jsx("span",{style:{fontWeight:t.fontWeight.semibold,color:t.textSecondary},children:"Passende Trainings:"})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:y?"1fr":"repeat(2, 1fr)",gap:t.space[3]},children:o.map((p,S)=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:t.space[3],padding:t.space[3],borderRadius:t.radius.xl,background:t.cardBgColor,border:`1px solid ${t.borderColor}`,cursor:"pointer"},children:[e.jsx("div",{style:{width:"40px",height:"40px",borderRadius:t.radius.lg,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,backgroundColor:p.type==="simulator"?`${t.primaryAccent}15`:`${Z.violet[500]}15`},children:p.type==="simulator"?e.jsx(he,{size:18,style:{color:t.primaryAccent}}):e.jsx(ge,{size:18,style:{color:Z.violet[500]}})}),e.jsxs("div",{style:{flex:1,minWidth:0},children:[e.jsx("p",{style:{fontWeight:t.fontWeight.medium,color:t.textMain,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:p.title}),e.jsx("p",{style:{fontSize:t.fontSize.xs,color:t.textMuted},children:p.type==="simulator"?"Szenario-Training":"Live-Simulation"})]}),e.jsx(ue,{size:18,style:{color:t.textMuted}})]},S))})]}),!M&&o.length===0&&e.jsx("div",{style:{borderTop:`1px solid ${t.borderColor}`,paddingTop:t.space[4],marginTop:t.space[4]},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:t.space[2],color:t.textMuted},children:[e.jsx(K,{size:18}),e.jsx("span",{style:{fontSize:t.fontSize.sm},children:"Entdecke unsere Trainings im Menü links"})]})})]})]},n)})]}),e.jsxs(s.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},style:{display:"flex",flexDirection:y?"column":"row",justifyContent:"center",gap:t.space[4]},children:[e.jsxs(L,{onClick:$,variant:"outline",style:{display:"flex",alignItems:"center",justifyContent:"center",gap:t.space[2],padding:`${t.space[3]} ${t.space[6]}`,borderRadius:t.radius.xl,fontWeight:t.fontWeight.medium,borderWidth:"2px",borderColor:t.primaryAccent,color:t.primaryAccent,background:"transparent"},children:[e.jsx(ye,{size:20}),e.jsx("span",{children:"Anpassen"})]}),e.jsxs(L,{onClick:z,style:{display:"flex",alignItems:"center",justifyContent:"center",gap:t.space[2],padding:`${t.space[3]} ${t.space[6]}`,borderRadius:t.radius.xl,fontWeight:t.fontWeight.medium,color:"white",background:t.headerGradient,boxShadow:t.shadow.md},children:[e.jsx(me,{size:20}),e.jsx("span",{children:"Neu starten"})]})]}),(!x?.paths||x.paths.length===0)&&e.jsxs("div",{style:{textAlign:"center",padding:`${t.space[12]} 0`},children:[e.jsx("p",{style:{color:t.textMuted},children:"Du bist einzigartig - wir brauchen mehr Details, um passende Pfade zu finden."}),e.jsx(L,{onClick:$,style:{marginTop:t.space[4],padding:`${t.space[3]} ${t.space[6]}`,borderRadius:t.radius.xl,fontWeight:t.fontWeight.medium,color:"white",background:t.headerGradient},children:"Zurück zur Eingabe"})]})]})};export{Te as I,Be as a};
