const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./RoleplayDashboard-1vZXrBGf.js","./ui-vendor-DceLfMgS.js","./react-vendor-uDOJF2jQ.js","./roleplay-feedback-adapter-C7skwWhW.js","./gemini-NRR8YfWJ.js","./audio-BZs8f3gH.js","./colors-BoNy0q8t.js","./colors.css","./ScenarioDashboard-kwKeEgdc.js","./ScenarioCard-CE8vPoiu.js","./useBranding-vyTCBMMQ.js","./designTokens-DbcSlXo4.js","./dialog-Dgsc9AjD.js","./utils-BEHD0UYf.js","./RoleplayDeviceSetup-BogGntEW.js","./DeviceSetupPage-DQ9mDkvt.js","./MicrophoneTestDialog-Xy6vpvJR.js","./formatting-B67Bmjxp.js","./RoleplayVariablesPage-soeagwKH.js","./DynamicFormField-DnQbAYY6.js","./RoleplaySessionUnified-DHh_Gf_Q.js","./useMobile-YxjH166V.js","./button-CkRsmUDc.js","./DeviceSettingsDialog-D7Nqe9Yy.js","./SessionHistory-BvL7h8-E.js","./RoleplaySessionReport-DsEL7g2D.js","./BriefingWorkbook-BkwUamFT.js","./DecisionBoardResult-CJgeNqeU.js","./card-CDygNAxq.js","./input-DiAaxk0a.js","./textarea-Dst_4ahf.js","./AudioRecorder-BaM5p1Nh.js","./IkigaiResults-_wz00kt0.js","./SessionDetailView-BczYHkac.js","./index-BtY0pp9v.js","./progress-bar-CLGE44nl.js","./fullscreen-loader-Dhgilx6-.js","./index-BfRYUrDY.js","./index-_TL7B13B.js","./index-MUMnKa9C.js","./index-DqeQmn72.js","./IkigaiApp-SHU5jP59.js","./UsageLimitsDisplay-C6raAAIW.js","./AdminDashboard-DBIwuMRn.js","./ScenarioManager-CAfcWIHD.js","./form-accordion-DdAPmYXs.js","./SimulatorScenarioManager-C8VxaUR5.js","./VideoTrainingManager-FKJ8tW8V.js","./PartnerManager-CvGMW_WF.js"])))=>i.map(i=>d[i]);
import{j as e,A as xe,m as H,L as ht,C as Oe,S as ze,a as mt,T as We,V as be,M as ye,R as ft,D as bt,H as yt,b as Ve,U as jt,c as Ge,G as fe,X as vt,d as St,e as Fe,f as Pe,g as He,h as $e,i as It,k as wt,I as kt,F as Ct,l as Te,n as Tt,Z as Et,o as Nt,p as At}from"./ui-vendor-DceLfMgS.js";import{a as r,d as je,H as _t,u as Rt,e as Lt,f as Mt,g as R}from"./react-vendor-uDOJF2jQ.js";import{u as ee,a as ge,g as Ee,b as Ne,D as Ae,c as Bt,C as s,P as Dt,d as Ot}from"./colors-BoNy0q8t.js";const zt="modulepreload",Wt=function(t,l){return new URL(t,l).href},_e={},W=function(l,d,c){let h=Promise.resolve();if(d&&d.length>0){let S=function(x){return Promise.all(x.map(y=>Promise.resolve(y).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};const j=document.getElementsByTagName("link"),I=document.querySelector("meta[property=csp-nonce]"),E=I?.nonce||I?.getAttribute("nonce");h=S(d.map(x=>{if(x=Wt(x,c),x in _e)return;_e[x]=!0;const y=x.endsWith(".css"),m=y?'[rel="stylesheet"]':"";if(c)for(let A=j.length-1;A>=0;A--){const C=j[A];if(C.href===x&&(!y||C.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${x}"]${m}`))return;const f=document.createElement("link");if(f.rel=y?"stylesheet":zt,y||(f.as="script"),f.crossOrigin="",f.href=x,E&&f.setAttribute("nonce",E),document.head.appendChild(f),y)return new Promise((A,C)=>{f.addEventListener("load",A),f.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${x}`)))})}))}function g(j){const I=new Event("vite:preloadError",{cancelable:!0});if(I.payload=j,window.dispatchEvent(I),!I.defaultPrevented)throw j}return h.then(j=>{for(const I of j||[])I.status==="rejected"&&g(I.reason);return l().catch(g)})},Ue=r.createContext(null),Re={success:{bgColor:"#10b981",icon:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})},error:{bgColor:"#ef4444",icon:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})},info:{bgColor:"#3b82f6",icon:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})},warning:{bgColor:"#f59e0b",icon:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}};function Vt({id:t,message:l,type:d="success",duration:c=3e3,onDismiss:h}){const g=Re[d]||Re.info;return r.useEffect(()=>{if(c>0){const j=setTimeout(()=>{h(t)},c);return()=>clearTimeout(j)}},[t,c,h]),e.jsxs(H.div,{initial:{opacity:0,y:-20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},transition:{duration:.2},style:{display:"flex",alignItems:"center",gap:"12px",padding:"14px 20px",backgroundColor:g.bgColor,color:"#ffffff",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.2)",fontSize:"15px",fontWeight:500,minWidth:"280px",maxWidth:"400px"},children:[e.jsx("span",{style:{flexShrink:0},children:g.icon}),e.jsx("span",{style:{flex:1},children:l}),e.jsx("button",{onClick:()=>h(t),style:{background:"rgba(255, 255, 255, 0.2)",border:"none",borderRadius:"6px",padding:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",color:"#ffffff",flexShrink:0},onMouseEnter:j=>j.target.style.background="rgba(255, 255, 255, 0.3)",onMouseLeave:j=>j.target.style.background="rgba(255, 255, 255, 0.2)",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}function Gt({toasts:t,onDismiss:l}){return e.jsx("div",{style:{position:"fixed",top:"20px",left:"50%",transform:"translateX(-50%)",zIndex:9999,display:"flex",flexDirection:"column",gap:"10px",alignItems:"center"},children:e.jsx(xe,{children:t.map(d=>e.jsx(Vt,{...d,onDismiss:l},d.id))})})}function Ft({children:t}){const[l,d]=r.useState([]),c=r.useCallback((x,y="success",m=3e3)=>{const f=Date.now()+Math.random();return d(A=>[...A,{id:f,message:x,type:y,duration:m}]),f},[]),h=r.useCallback(x=>{d(y=>y.filter(m=>m.id!==x))},[]),g=r.useCallback((x,y)=>c(x,"success",y),[c]),j=r.useCallback((x,y)=>c(x,"error",y),[c]),I=r.useCallback((x,y)=>c(x,"info",y),[c]),E=r.useCallback((x,y)=>c(x,"warning",y),[c]),S={addToast:c,dismissToast:h,showSuccess:g,showError:j,showInfo:I,showWarning:E};return e.jsxs(Ue.Provider,{value:S,children:[t,e.jsx(Gt,{toasts:l,onDismiss:h})]})}function Ye(){const t=r.useContext(Ue);if(!t)throw new Error("useToast must be used within a ToastProvider");return t}const k={blue:{50:"#E8F4F8",600:"#3A7FA7",700:"#2D6485"},teal:{500:"#3DA389"},slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",400:"#94a3b8",700:"#334155",900:"#0f172a"}},Ke=t=>t?{sidebarBg:t["--sidebar-bg-color"]||k.slate[50],sidebarText:t["--sidebar-text-color"]||k.slate[900],sidebarTextMuted:t["--sidebar-text-muted"]||k.slate[400],sidebarActiveBg:t["--sidebar-active-bg"]||k.blue[50],sidebarActiveText:t["--sidebar-active-text"]||k.blue[700],sidebarHoverBg:t["--sidebar-hover-bg"]||k.slate[50],primaryAccent:t["--primary-accent"]||k.blue[600],borderColor:t["--border-color"]||k.slate[200],borderColorLight:t["--border-color-light"]||k.slate[100]}:null,Xe=[{id:"overview",moduleId:"overview",label:"Übersicht",shortLabel:"Übersicht",icon:ht,description:"Alle Trainingsmöglichkeiten",alwaysVisible:!0},{id:"ikigai",moduleId:"ikigai",label:"Ikigai-Kompass",shortLabel:"Ikigai",icon:Oe,description:"Finde deinen idealen Karrierepfad"},{id:"decision_board",moduleId:"decision_board",label:"Entscheidungs-Kompass",shortLabel:"Entscheidung",icon:ze,description:"KI-gestützte Entscheidungshilfe"},{id:"smart_briefing",moduleId:"smart_briefing",label:"Smart Briefing",shortLabel:"Briefing",icon:mt,description:"KI-Vorbereitungs-Assistent"},{id:"simulator",moduleId:"simulator",label:"Szenario-Training",shortLabel:"Szenario",icon:We,description:"Frage-Antwort Training mit KI-Feedback"},{id:"video_training",moduleId:"video_training",label:"Wirkungs-Analyse",shortLabel:"Wirkung",icon:be,description:"Video-Aufnahme mit Wirkungs-Analyse"},{id:"dashboard",moduleId:"roleplay",label:"Live-Simulationen",shortLabel:"Live",icon:ye,description:"Live Simulationen mit KI-Interviewer"},{id:"gym",moduleId:"gym",label:"Rhetorik-Gym",shortLabel:"Gym",icon:bt,description:"Spielerisch Rhetorik trainieren",subItems:[{id:"gym_klassiker",label:"Der Füllwort-Killer",shortLabel:"Klassiker",icon:ft,description:"60s Elevator Pitch"}]},{id:"history",moduleId:"history",label:"Meine Sessions",shortLabel:"Sessions",icon:yt,description:"Vergangene Übungen ansehen"},{id:"usage_limits",moduleId:"roleplay",label:"Mein Kontingent",shortLabel:"Kontingent",icon:Ve,description:"Verfügbare Gesprächsminuten"}],qe=[{id:"admin",label:"Administration",shortLabel:"Admin",icon:Ge,description:"Inhalte verwalten",adminOnly:!0,subItems:[{id:"admin_roleplays",label:"Live-Simulationen",shortLabel:"Live",icon:ye,description:"Simulations-Szenarien verwalten"},{id:"admin_simulator",label:"Szenario-Training",shortLabel:"Simulator",icon:We,description:"Simulator-Szenarien verwalten"},{id:"admin_video",label:"Wirkungs-Analyse",shortLabel:"Wirkung",icon:be,description:"Wirkungs-Analysen verwalten"},{id:"admin_partners",label:"Partner-Branding",shortLabel:"Partner",icon:jt,description:"White-Label Partner verwalten"}]}],Pt=({isCollapsed:t,onToggleCollapse:l,activeView:d,onNavigate:c,headerOffset:h=0,onLoginClick:g})=>{const[j,I]=r.useState([]),{branding:E,isWhiteLabel:S,partnerName:x,logoUrl:y,checkModuleAllowed:m}=ee(),{user:f,isAuthenticated:A,isAdmin:C,logout:B}=ge(),{showSuccess:D}=Ye(),w=Ke(E),V=r.useMemo(()=>{const i=Xe.filter(N=>{if(N.alwaysVisible)return!0;const T=N.moduleId||N.id;return m(T)});return C?[...i,...qe]:i},[m,C]),F=async()=>{await B(),D("Sie wurden erfolgreich abgemeldet",3e3)},n=r.useMemo(()=>w?{sidebarBg:w.sidebarBg,sidebarText:w.sidebarText,sidebarTextMuted:w.sidebarTextMuted,activeBg:w.sidebarActiveBg,activeText:w.sidebarActiveText,hoverBg:w.sidebarHoverBg,primaryAccent:w.primaryAccent,borderColor:w.borderColor,borderColorLight:w.borderColorLight}:{sidebarBg:"#ffffff",sidebarText:k.slate[900],sidebarTextMuted:k.slate[400],activeBg:k.blue[50],activeText:k.blue[700],hoverBg:k.slate[50],primaryAccent:k.blue[600],borderColor:k.slate[200],borderColorLight:k.slate[100]},[w]),u=i=>{I(N=>N.includes(i)?N.filter(T=>T!==i):[...N,i])},v=i=>{i.subItems&&!t?u(i.id):c(i.id)};return e.jsxs(H.aside,{initial:!1,animate:{width:t?72:280},transition:{duration:.3,ease:[.4,0,.2,1]},style:{position:"fixed",left:0,top:h,bottom:0,zIndex:40,backgroundColor:n.sidebarBg,borderRight:`1px solid ${n.borderColor}`,display:"flex",flexDirection:"column",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"},children:[e.jsx("div",{style:{height:"64px",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 16px",borderBottom:`1px solid ${n.borderColorLight}`},children:e.jsx(xe,{mode:"wait",children:t?e.jsx(H.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.2},style:{width:"40px",height:"40px",borderRadius:"12px",background:S?n.primaryAccent:`linear-gradient(135deg, ${k.blue[600]} 0%, ${k.teal[500]} 100%)`,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",margin:"0 auto",overflow:"hidden"},children:y?e.jsx("img",{src:y,alt:x,style:{width:"100%",height:"100%",objectFit:"contain"}}):e.jsx(fe,{style:{width:"20px",height:"20px",color:"white"}})},"logo-collapsed"):e.jsxs(H.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},transition:{duration:.2},style:{display:"flex",alignItems:"center",gap:"12px"},children:[y?e.jsx("img",{src:y,alt:x,style:{width:"40px",height:"40px",borderRadius:"12px",objectFit:"contain"}}):e.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"12px",background:S?n.primaryAccent:`linear-gradient(135deg, ${k.blue[600]} 0%, ${k.teal[500]} 100%)`,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},children:e.jsx(fe,{style:{width:"20px",height:"20px",color:"white"}})}),e.jsx("div",{style:{display:"flex",flexDirection:"column"},children:S?e.jsx("span",{style:{fontWeight:700,color:n.sidebarText,fontSize:"14px",lineHeight:"1.4"},children:x}):e.jsxs(e.Fragment,{children:[e.jsx("span",{style:{fontWeight:700,color:n.sidebarText,fontSize:"14px",lineHeight:"1.2"},children:"Karriere"}),e.jsx("span",{style:{fontWeight:700,color:n.primaryAccent,fontSize:"14px",lineHeight:"1.2"},children:"Navigation"})]})})]},"logo-full")})}),e.jsx("nav",{style:{flex:1,padding:"8px 12px",overflowY:"auto"},children:V.map((i,N)=>{const T=i.icon,L=d===i.id||i.id==="dashboard"&&d==="roleplay"||i.id==="gym"&&d.startsWith("gym")||i.id==="admin"&&d.startsWith("admin"),G=i.subItems&&i.subItems.length>0,$=j.includes(i.id),P=i.adminOnly;return e.jsxs("div",{children:[P&&e.jsx("div",{style:{margin:"12px 0",padding:t?"0":"0 4px",borderTop:`1px solid ${n.borderColor}`},children:!t&&e.jsx("span",{style:{display:"block",fontSize:"11px",fontWeight:600,color:n.sidebarTextMuted,textTransform:"uppercase",letterSpacing:"0.5px",marginTop:"12px",marginBottom:"8px",paddingLeft:"12px"},children:"Admin"})}),e.jsxs("button",{onClick:()=>v(i),style:{width:"100%",borderRadius:"12px",display:"flex",alignItems:"center",gap:"12px",position:"relative",padding:t?"12px":"12px 16px",justifyContent:t?"center":"flex-start",backgroundColor:L?n.activeBg:"transparent",color:L?n.activeText:n.sidebarText,fontWeight:L?600:400,fontSize:"14px",border:"none",cursor:"pointer",marginBottom:"4px",transition:"all 0.2s",textAlign:"left"},onMouseEnter:O=>{L||(O.currentTarget.style.backgroundColor=n.hoverBg,O.currentTarget.style.color=n.sidebarText)},onMouseLeave:O=>{L||(O.currentTarget.style.backgroundColor="transparent",O.currentTarget.style.color=n.sidebarText)},children:[L&&e.jsx("div",{style:{position:"absolute",left:0,top:"50%",transform:"translateY(-50%)",width:"4px",height:"32px",backgroundColor:n.primaryAccent,borderTopRightRadius:"9999px",borderBottomRightRadius:"9999px"}}),e.jsx(T,{style:{width:"20px",height:"20px",flexShrink:0,color:L?n.primaryAccent:n.sidebarTextMuted}}),!t&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",overflow:"hidden",flex:1,minWidth:0},children:[e.jsx("span",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:i.label}),e.jsx("span",{style:{fontSize:"12px",color:n.sidebarTextMuted,whiteSpace:"normal",lineHeight:1.3},children:i.description})]}),G&&e.jsx(Fe,{style:{width:"16px",height:"16px",color:n.sidebarTextMuted,transition:"transform 0.2s",transform:$?"rotate(180deg)":"rotate(0deg)"}})]})]}),G&&!t&&e.jsx(xe,{children:$&&e.jsx(H.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},style:{overflow:"hidden",marginLeft:"16px"},children:i.subItems.map(O=>{const _=O.icon,M=d===O.id;return e.jsxs("button",{onClick:()=>c(O.id),style:{width:"100%",borderRadius:"10px",display:"flex",alignItems:"center",gap:"10px",padding:"10px 14px",backgroundColor:M?n.activeBg:"transparent",color:M?n.activeText:n.sidebarText,fontWeight:M?600:400,fontSize:"13px",border:"none",cursor:"pointer",marginBottom:"2px",transition:"all 0.2s",textAlign:"left"},onMouseEnter:b=>{M||(b.currentTarget.style.backgroundColor=n.hoverBg,b.currentTarget.style.color=n.sidebarText)},onMouseLeave:b=>{M||(b.currentTarget.style.backgroundColor="transparent",b.currentTarget.style.color=n.sidebarText)},children:[e.jsx(_,{style:{width:"16px",height:"16px",flexShrink:0,color:M?n.primaryAccent:n.sidebarTextMuted}}),e.jsx("span",{style:{whiteSpace:"nowrap"},children:O.label})]},O.id)})})})]},i.id)})}),e.jsx("div",{style:{padding:"12px",borderTop:`1px solid ${n.borderColorLight}`},children:A&&f?e.jsxs("div",{style:{marginBottom:"8px"},children:[!t&&e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"10px",borderRadius:"12px",backgroundColor:"transparent",border:`1px solid ${n.borderColor}`,marginBottom:"8px"},children:[e.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"50%",backgroundColor:n.primaryAccent,display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontWeight:600,fontSize:"14px",flexShrink:0},children:(f.firstName||f.displayName||"U").charAt(0).toUpperCase()}),e.jsxs("div",{style:{flex:1,minWidth:0,overflow:"hidden"},children:[e.jsx("div",{style:{fontWeight:600,fontSize:"14px",color:n.sidebarText,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:f.displayName||f.firstName||"Benutzer"}),f.email&&e.jsx("div",{style:{fontSize:"12px",color:n.sidebarText,opacity:.7,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:f.email})]})]}),e.jsxs("button",{onClick:F,style:{width:"100%",borderRadius:"12px",padding:"10px 12px",display:"flex",alignItems:"center",gap:"10px",justifyContent:t?"center":"flex-start",color:n.sidebarText,backgroundColor:"transparent",border:"none",cursor:"pointer",fontSize:"13px",transition:"all 0.2s"},onMouseEnter:i=>{i.currentTarget.style.backgroundColor=n.hoverBg},onMouseLeave:i=>{i.currentTarget.style.backgroundColor="transparent"},title:"Abmelden",children:[e.jsx(Pe,{style:{width:"18px",height:"18px",flexShrink:0}}),!t&&e.jsx("span",{children:"Abmelden"})]})]}):e.jsxs("button",{onClick:g,style:{width:"100%",borderRadius:"12px",padding:"10px 12px",display:"flex",alignItems:"center",gap:"10px",justifyContent:t?"center":"flex-start",color:n.sidebarText,backgroundColor:"transparent",border:`1px solid ${n.borderColor}`,cursor:"pointer",fontSize:"13px",fontWeight:500,transition:"all 0.2s",marginBottom:"8px"},onMouseEnter:i=>{i.currentTarget.style.backgroundColor=n.hoverBg},onMouseLeave:i=>{i.currentTarget.style.backgroundColor="transparent"},title:"Anmelden",children:[e.jsx(He,{style:{width:"18px",height:"18px",flexShrink:0}}),!t&&e.jsx("span",{children:"Anmelden"})]})}),e.jsx("div",{style:{padding:"0 12px 12px 12px"},children:e.jsx("button",{onClick:l,style:{width:"100%",borderRadius:"12px",padding:"12px",display:"flex",alignItems:"center",gap:"12px",justifyContent:t?"center":"flex-start",color:n.sidebarTextMuted,backgroundColor:"transparent",border:"none",cursor:"pointer",fontSize:"14px",transition:"all 0.2s"},onMouseEnter:i=>{i.currentTarget.style.backgroundColor=n.hoverBg,i.currentTarget.style.color=n.sidebarText},onMouseLeave:i=>{i.currentTarget.style.backgroundColor="transparent",i.currentTarget.style.color=n.sidebarTextMuted},children:t?e.jsx($e,{style:{width:"20px",height:"20px"}}):e.jsxs(e.Fragment,{children:[e.jsx(It,{style:{width:"20px",height:"20px"}}),e.jsx("span",{children:"Einklappen"})]})})})]})},Ht=({activeView:t,onNavigate:l,headerOffset:d=0,onLoginClick:c})=>{const[h,g]=r.useState(!1),[j,I]=r.useState([]),{branding:E,isWhiteLabel:S,partnerName:x,logoUrl:y,checkModuleAllowed:m}=ee(),{user:f,isAuthenticated:A,isAdmin:C,logout:B}=ge(),{showSuccess:D}=Ye(),w=Ke(E),V=r.useMemo(()=>{const i=Xe.filter(N=>{const T=N.moduleId||N.id;return m(T)});return C?[...i,...qe]:i},[m,C]),F=async()=>{await B(),D("Sie wurden erfolgreich abgemeldet",3e3)},n=r.useMemo(()=>w?{headerBg:w.sidebarBg,headerText:w.sidebarText,headerTextMuted:w.sidebarTextMuted,menuBg:"#ffffff",activeBg:w.sidebarActiveBg,activeText:w.sidebarActiveText,hoverBg:w.sidebarHoverBg,primaryAccent:w.primaryAccent,borderColor:w.borderColor,textMain:k.slate[700],textMuted:k.slate[400]}:{headerBg:"#ffffff",headerText:k.slate[900],headerTextMuted:k.slate[400],menuBg:"#ffffff",activeBg:k.blue[50],activeText:k.blue[700],hoverBg:k.slate[50],primaryAccent:k.blue[600],borderColor:k.slate[200],textMain:k.slate[700],textMuted:k.slate[400]},[w]),u=i=>{l(i),g(!1)},v=i=>{I(N=>N.includes(i)?N.filter(T=>T!==i):[...N,i])};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{position:"fixed",top:d,left:0,right:0,height:"56px",backgroundColor:n.headerBg,borderBottom:`1px solid ${n.borderColor}`,display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 16px",zIndex:50,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.08)",transition:"top 0.15s ease-out"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[y?e.jsx("img",{src:y,alt:x,style:{width:"36px",height:"36px",borderRadius:"10px",objectFit:"contain"}}):e.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"10px",background:S?n.primaryAccent:`linear-gradient(135deg, ${k.blue[600]} 0%, ${k.teal[500]} 100%)`,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(fe,{style:{width:"18px",height:"18px",color:"white"}})}),e.jsx("span",{style:{fontWeight:700,color:n.headerText,fontSize:"15px"},children:S?x:"Karriere Navigation"})]}),e.jsx("button",{onClick:()=>g(!h),style:{width:"56px",height:"56px",borderRadius:"12px",border:"none",backgroundColor:h?n.hoverBg:"transparent",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:h?e.jsx(vt,{style:{width:"40px",height:"40px",color:n.headerText}}):e.jsx(St,{style:{width:"40px",height:"40px",color:n.headerText}})})]}),e.jsx(xe,{children:h&&e.jsxs(e.Fragment,{children:[e.jsx(H.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>g(!1),style:{position:"fixed",top:d+56,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.3)",zIndex:40}}),e.jsxs(H.nav,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},style:{position:"fixed",top:d+56,left:0,right:0,backgroundColor:n.menuBg,zIndex:45,padding:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",borderBottomLeftRadius:"16px",borderBottomRightRadius:"16px",maxHeight:"70vh",overflowY:"auto"},children:[V.map(i=>{const N=i.icon,T=t===i.id||i.id==="dashboard"&&t==="roleplay"||i.id==="gym"&&t.startsWith("gym")||i.id==="admin"&&t.startsWith("admin"),L=i.subItems&&i.subItems.length>0,G=j.includes(i.id),$=i.adminOnly;return e.jsxs("div",{children:[$&&e.jsx("div",{style:{margin:"12px 8px",borderTop:`1px solid ${n.borderColor}`},children:e.jsx("span",{style:{display:"block",fontSize:"11px",fontWeight:600,color:n.textMuted,textTransform:"uppercase",letterSpacing:"0.5px",marginTop:"12px",marginBottom:"8px",paddingLeft:"8px"},children:"Admin"})}),e.jsxs("button",{onClick:()=>L?v(i.id):u(i.id),style:{width:"100%",display:"flex",alignItems:"center",gap:"12px",padding:"14px 16px",borderRadius:"12px",border:"none",backgroundColor:T?n.activeBg:"transparent",color:T?n.activeText:n.textMain,fontSize:"15px",fontWeight:T?600:500,cursor:"pointer",textAlign:"left",marginBottom:"4px"},children:[e.jsx(N,{style:{width:"22px",height:"22px",color:T?n.primaryAccent:n.textMuted}}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{children:i.label}),e.jsx("div",{style:{fontSize:"12px",color:n.textMuted,fontWeight:400},children:i.description})]}),L&&e.jsx(Fe,{style:{width:"18px",height:"18px",color:n.textMuted,transition:"transform 0.2s",transform:G?"rotate(180deg)":"rotate(0deg)"}})]}),L&&G&&e.jsx("div",{style:{marginLeft:"20px",marginBottom:"8px"},children:i.subItems.map(P=>{const O=P.icon,_=t===P.id;return e.jsxs("button",{onClick:()=>u(P.id),style:{width:"100%",display:"flex",alignItems:"center",gap:"10px",padding:"12px 14px",borderRadius:"10px",border:"none",backgroundColor:_?n.activeBg:"transparent",color:_?n.activeText:n.textMain,fontSize:"14px",fontWeight:_?600:400,cursor:"pointer",textAlign:"left",marginBottom:"4px"},children:[e.jsx(O,{style:{width:"18px",height:"18px",color:_?n.primaryAccent:n.textMuted}}),e.jsx("span",{children:P.label})]},P.id)})})]},i.id)}),e.jsx("div",{style:{marginTop:"16px",paddingTop:"16px",borderTop:`1px solid ${n.borderColor}`},children:A&&f?e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",borderRadius:"12px",backgroundColor:"transparent",border:`1px solid ${n.borderColor}`,marginBottom:"8px"},children:[e.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:n.primaryAccent,display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontWeight:600,fontSize:"16px",flexShrink:0},children:(f.firstName||f.displayName||"U").charAt(0).toUpperCase()}),e.jsxs("div",{style:{flex:1,minWidth:0},children:[e.jsx("div",{style:{fontWeight:600,fontSize:"15px",color:n.textMain},children:f.displayName||f.firstName||"Benutzer"}),f.email&&e.jsx("div",{style:{fontSize:"13px",color:n.textMain,opacity:.7},children:f.email})]})]}),e.jsxs("button",{onClick:()=>{F(),g(!1)},style:{width:"100%",display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",borderRadius:"12px",border:"none",backgroundColor:"transparent",color:n.textMain,fontSize:"15px",fontWeight:500,cursor:"pointer",textAlign:"left"},children:[e.jsx(Pe,{style:{width:"20px",height:"20px"}}),e.jsx("span",{children:"Abmelden"})]})]}):e.jsxs("button",{onClick:()=>{c&&c(),g(!1)},style:{width:"100%",display:"flex",alignItems:"center",gap:"12px",padding:"14px 16px",borderRadius:"12px",border:`1px solid ${n.borderColor}`,backgroundColor:"transparent",color:n.textMain,fontSize:"15px",fontWeight:600,cursor:"pointer",textAlign:"left"},children:[e.jsx(He,{style:{width:"20px",height:"20px"}}),e.jsx("span",{children:"Anmelden"})]})})]})]})})]})},$t=({children:t,activeView:l,onNavigate:d,headerOffset:c=0,onLoginClick:h})=>{const[g,j]=r.useState(!1),[I,E]=r.useState(!1),{branding:S}=ee(),x=r.useMemo(()=>{if(S){const m=S["--app-bg-start"]||"#f8fafc",f=S["--app-bg-mid"]||"#eff6ff",A=S["--app-bg-end"]||"#f0fdfa";return`linear-gradient(135deg, ${m} 0%, ${f} 50%, ${A} 100%)`}return"linear-gradient(135deg, #f8fafc 0%, #eff6ff 50%, #f0fdfa 100%)"},[S]);r.useEffect(()=>{const m=()=>{E(window.innerWidth<768)};m(),window.addEventListener("resize",m);const f=localStorage.getItem("sidebar-collapsed");return f!==null&&j(JSON.parse(f)),()=>window.removeEventListener("resize",m)},[]);const y=()=>{const m=!g;j(m),localStorage.setItem("sidebar-collapsed",JSON.stringify(m))};return I?e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:x,zIndex:-1}}),e.jsxs("div",{style:{minHeight:c>0?`calc(100vh - ${c}px)`:"100vh"},children:[e.jsx(Ht,{activeView:l,onNavigate:d,headerOffset:c,onLoginClick:h}),e.jsx("main",{"data-main-content":!0,style:{paddingTop:"56px",minHeight:c>0?`calc(100vh - ${c}px)`:"100vh"},children:t})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:x,zIndex:-1}}),e.jsxs("div",{style:{minHeight:c>0?`calc(100vh - ${c}px)`:"100vh"},children:[e.jsx(Pt,{isCollapsed:g,onToggleCollapse:y,activeView:l,onNavigate:d,headerOffset:c,onLoginClick:h}),e.jsx(H.main,{"data-main-content":!0,initial:!1,animate:{marginLeft:g?72:280},transition:{duration:.3,ease:[.4,0,.2,1]},style:{minHeight:c>0?`calc(100vh - ${c}px)`:"100vh"},children:t})]})]})};function Ut({isOpen:t,onClose:l,onSuccess:d}){const{branding:c,partnerName:h,logoUrl:g}=ee(),[j,I]=r.useState(1),[E,S]=r.useState(""),[x,y]=r.useState(""),[m,f]=r.useState(""),[A,C]=r.useState(""),[B,D]=r.useState(""),[w,V]=r.useState(""),[F,n]=r.useState(!1),[u,v]=r.useState(""),[i,N]=r.useState(!1),[T,L]=r.useState(!1),G=c?.["--primary-accent"]||"#3A7FA7",$=c?.["--button-gradient"]||"linear-gradient(135deg, #3A7FA7 0%, #3DA389 100%)",P=c?.["--header-gradient"]||"linear-gradient(135deg, #3A7FA7 0%, #3DA389 100%)",O=c?.["--focus-ring"]||"rgba(58, 127, 167, 0.3)",_=c?.["--header-text"]||"#ffffff",M=c?.["--sidebar-text-color"]||"#ffffff",b=async a=>{if(a.preventDefault(),v(""),!E.trim()){v("Bitte geben Sie Ihren Demo-Code ein.");return}if(E.trim().length!==5){v("Der Demo-Code muss 5 Zeichen lang sein.");return}N(!0);try{const Z=Ee(),J=Ne(),ie=await(await fetch(`${Z}/demo/validate`,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":J},credentials:"same-origin",body:JSON.stringify({demo_code:E.toUpperCase().trim()})})).json();if(!ie.valid){v("Der Demo-Code ist ungültig. Bitte überprüfen Sie Ihre Eingabe.");return}ie.is_activated?(L(!0),d&&d(E.toUpperCase().trim())):I(2)}catch(Z){console.error("[DEMO] Validation error:",Z),v("Ein Fehler ist aufgetreten. Bitte versuchen Sie es erneut.")}finally{N(!1)}},U=async a=>{if(a.preventDefault(),v(""),!x.trim()){v("Bitte geben Sie den Firmennamen ein.");return}if(!m.trim()){v("Bitte geben Sie den Namen des Ansprechpartners ein.");return}if(!B.trim()){v("Bitte geben Sie eine Kontakt-E-Mail ein.");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(B)){v("Bitte geben Sie eine gültige E-Mail-Adresse ein.");return}if(!F){v("Bitte stimmen Sie den Datenschutzbestimmungen zu.");return}N(!0);try{const J=Ee(),se=Ne(),ae=await(await fetch(`${J}/demo/activate`,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":se},credentials:"same-origin",body:JSON.stringify({demo_code:E.toUpperCase().trim(),company_name:x.trim(),contact_name:m.trim(),homepage:A.trim(),contact_email:B.trim(),phone:w.trim(),privacy_accepted:F})})).json();ae.success?(L(!0),d&&d(E.toUpperCase().trim())):v(ae.error?.message||"Ein Fehler ist aufgetreten. Bitte versuchen Sie es erneut.")}catch(J){console.error("[DEMO] Activation error:",J),v("Ein Fehler ist aufgetreten. Bitte versuchen Sie es erneut.")}finally{N(!1)}},re=()=>{T||(I(1),S(""),y(""),f(""),C(""),D(""),V(""),n(!1),v(""),l&&l())},ve=()=>{I(1),v("")},ue=a=>{a.target===a.currentTarget&&re()};if(je.useEffect(()=>{const a=Z=>{Z.key==="Escape"&&t&&re()};return document.addEventListener("keydown",a),()=>document.removeEventListener("keydown",a)},[t,T]),!t)return null;const X={width:"100%",padding:"10px 14px",fontSize:"14px",border:"1px solid #e2e8f0",borderRadius:"10px",outline:"none",transition:"all 0.2s ease",backgroundColor:"#ffffff"},K={borderColor:G,boxShadow:`0 0 0 3px ${O}`,backgroundColor:"#ffffff"},q={display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",onClick:ue,role:"dialog","aria-modal":"true","aria-labelledby":"demo-modal-title",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-4 overflow-hidden max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"px-6 py-5",style:{background:P,color:_},children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[j===2&&e.jsx("button",{onClick:ve,className:"p-1.5 rounded-lg transition-colors",style:{color:_,backgroundColor:"transparent"},onMouseEnter:a=>a.target.style.backgroundColor="rgba(255,255,255,0.2)",onMouseLeave:a=>a.target.style.backgroundColor="transparent","aria-label":"Zurück",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("h2",{id:"demo-modal-title",className:"text-xl font-semibold",style:{color:_},children:j===1?"Demo-Code eingeben":"Kontaktdaten"})]}),e.jsx("button",{onClick:re,className:"p-2 rounded-xl transition-colors",style:{color:_,backgroundColor:"transparent"},onMouseEnter:a=>a.target.style.backgroundColor="rgba(255,255,255,0.2)",onMouseLeave:a=>a.target.style.backgroundColor="transparent","aria-label":"Schließen",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),g&&j===1&&e.jsx("div",{className:"mt-3 mb-1 flex justify-center",children:e.jsx("img",{src:g,alt:`${h} Logo`,style:{height:"4rem",maxWidth:"100%",objectFit:"contain"}})}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mt-3",children:[e.jsx("div",{className:"w-8 h-1 rounded-full transition-colors",style:{backgroundColor:_,opacity:j>=1?1:.3}}),e.jsx("div",{className:"w-8 h-1 rounded-full transition-colors",style:{backgroundColor:_,opacity:j>=2?1:.3}})]})]}),j===1&&e.jsxs("form",{onSubmit:b,className:"p-6 space-y-4",children:[e.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-xl text-blue-700 text-sm",children:e.jsx("p",{children:"Willkommen zur Demo! Bitte geben Sie den Demo-Code ein, den Sie von uns erhalten haben."})}),u&&e.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-xl text-red-700 text-sm flex items-start gap-3",children:[e.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{children:u})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"demo-code",style:q,children:["Demo-Code ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"demo-code",value:E,onChange:a=>S(a.target.value.toUpperCase()),style:{...X,fontFamily:"monospace",fontSize:"24px",fontWeight:"600",letterSpacing:"4px",textAlign:"center",padding:"16px 14px"},onFocus:a=>Object.assign(a.target.style,K),onBlur:a=>{a.target.style.borderColor="#e2e8f0",a.target.style.boxShadow="none"},placeholder:"XXXXX",maxLength:5,disabled:i,autoComplete:"off",autoFocus:!0})]}),e.jsx("button",{type:"submit",disabled:i,style:{width:"100%",padding:"14px 24px",fontSize:"16px",fontWeight:600,color:M,background:i?"#94a3b8":$,border:"none",borderRadius:"12px",cursor:i?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",transition:"all 0.2s ease",opacity:i?.7:1,boxShadow:i?"none":"0 4px 14px rgba(58, 127, 167, 0.3)",marginTop:"16px"},onMouseEnter:a=>{i||(a.target.style.transform="translateY(-1px)",a.target.style.boxShadow="0 6px 20px rgba(58, 127, 167, 0.4)")},onMouseLeave:a=>{a.target.style.transform="translateY(0)",a.target.style.boxShadow=i?"none":"0 4px 14px rgba(58, 127, 167, 0.3)"},children:i?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{fill:"none",viewBox:"0 0 24 24",style:{width:"20px",height:"20px",color:M,animation:"spin 1s linear infinite"},children:[e.jsx("circle",{style:{opacity:.25},cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{style:{opacity:.75},fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{style:{color:M},children:"Wird überprüft..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{fill:"none",viewBox:"0 0 24 24",stroke:M,style:{width:"20px",height:"20px"},children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),e.jsx("span",{style:{color:M},children:"Weiter"})]})}),e.jsxs("p",{className:"text-xs text-center text-gray-500 pt-2",children:["Haben Sie keinen Demo-Code? Kontaktieren Sie uns unter"," ",e.jsx("a",{href:"mailto:info@karriereheld.de",className:"underline",style:{color:G},children:"info@karriereheld.de"})]})]}),j===2&&e.jsxs("form",{onSubmit:U,className:"p-6 space-y-4",children:[e.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-xl text-green-700 text-sm",children:e.jsxs("p",{children:[e.jsx("strong",{children:"Code gültig!"})," Bitte geben Sie noch Ihre Kontaktdaten ein, um die Demo zu starten."]})}),u&&e.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-xl text-red-700 text-sm flex items-start gap-3",children:[e.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{children:u})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"company-name",style:q,children:["Firma ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"company-name",value:x,onChange:a=>y(a.target.value),style:X,onFocus:a=>Object.assign(a.target.style,K),onBlur:a=>{a.target.style.borderColor="#e2e8f0",a.target.style.boxShadow="none"},placeholder:"Ihre Firma",disabled:i,autoComplete:"organization",autoFocus:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"contact-name",style:q,children:["Ansprechpartner ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"contact-name",value:m,onChange:a=>f(a.target.value),style:X,onFocus:a=>Object.assign(a.target.style,K),onBlur:a=>{a.target.style.borderColor="#e2e8f0",a.target.style.boxShadow="none"},placeholder:"Ihr Name",disabled:i,autoComplete:"name"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"contact-email",style:q,children:["E-Mail ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",id:"contact-email",value:B,onChange:a=>D(a.target.value),style:X,onFocus:a=>Object.assign(a.target.style,K),onBlur:a=>{a.target.style.borderColor="#e2e8f0",a.target.style.boxShadow="none"},placeholder:"email@firma.de",disabled:i,autoComplete:"email"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"homepage",style:q,children:["Homepage ",e.jsx("span",{className:"text-gray-400",children:"(optional)"})]}),e.jsx("input",{type:"url",id:"homepage",value:A,onChange:a=>C(a.target.value),style:X,onFocus:a=>Object.assign(a.target.style,K),onBlur:a=>{a.target.style.borderColor="#e2e8f0",a.target.style.boxShadow="none"},placeholder:"https://www.ihre-firma.de",disabled:i,autoComplete:"url"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"phone",style:q,children:["Telefon ",e.jsx("span",{className:"text-gray-400",children:"(optional)"})]}),e.jsx("input",{type:"tel",id:"phone",value:w,onChange:a=>V(a.target.value),style:X,onFocus:a=>Object.assign(a.target.style,K),onBlur:a=>{a.target.style.borderColor="#e2e8f0",a.target.style.boxShadow="none"},placeholder:"+49 123 456789",disabled:i,autoComplete:"tel"})]}),e.jsxs("div",{className:"flex items-start gap-3 pt-2",children:[e.jsx("input",{type:"checkbox",id:"privacy-accepted",checked:F,onChange:a=>n(a.target.checked),className:"mt-1 w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500",disabled:i,style:{accentColor:G}}),e.jsxs("label",{htmlFor:"privacy-accepted",className:"text-sm text-gray-600",children:["Ich stimme den"," ",e.jsx("a",{href:"/datenschutz",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-gray-900",style:{color:G},children:"Datenschutzbestimmungen"})," ","zu. ",e.jsx("span",{className:"text-red-500",children:"*"})]})]}),e.jsx("button",{type:"submit",disabled:i,style:{width:"100%",padding:"14px 24px",fontSize:"16px",fontWeight:600,color:M,background:i?"#94a3b8":$,border:"none",borderRadius:"12px",cursor:i?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",transition:"all 0.2s ease",opacity:i?.7:1,boxShadow:i?"none":"0 4px 14px rgba(58, 127, 167, 0.3)",marginTop:"16px"},onMouseEnter:a=>{i||(a.target.style.transform="translateY(-1px)",a.target.style.boxShadow="0 6px 20px rgba(58, 127, 167, 0.4)")},onMouseLeave:a=>{a.target.style.transform="translateY(0)",a.target.style.boxShadow=i?"none":"0 4px 14px rgba(58, 127, 167, 0.3)"},children:i?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{fill:"none",viewBox:"0 0 24 24",style:{width:"20px",height:"20px",color:M,animation:"spin 1s linear infinite"},children:[e.jsx("circle",{style:{opacity:.25},cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{style:{opacity:.75},fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{style:{color:M},children:"Wird aktiviert..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{fill:"none",viewBox:"0 0 24 24",stroke:M,style:{width:"20px",height:"20px"},children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e.jsx("span",{style:{color:M},children:"Demo starten"})]})})]})]})})}const Yt="demo";function Kt({isOpen:t,onClose:l,onLoginSuccess:d}){const{login:c,logout:h,branding:g,partnerName:j,logoUrl:I,setDemoCode:E}=ee(),[S,x]=r.useState(""),[y,m]=r.useState(""),[f,A]=r.useState(""),[C,B]=r.useState(!1),[D,w]=r.useState(!1),[V,F]=r.useState(null),n=g?.["--primary-accent"]||"#3A7FA7",u=g?.["--button-gradient"]||"linear-gradient(135deg, #3A7FA7 0%, #3DA389 100%)",v=g?.["--header-gradient"]||"linear-gradient(135deg, #3A7FA7 0%, #3DA389 100%)",i=g?.["--focus-ring"]||"rgba(58, 127, 167, 0.3)",N=g?.["--header-text"]||"#ffffff",T=g?.["--sidebar-text-color"]||"#ffffff",L=async b=>{if(b.preventDefault(),A(""),!S.trim()||!y.trim()){A("Bitte geben Sie Benutzername und Passwort ein.");return}B(!0);try{const U=await c(S,y);U.success?S.toLowerCase()===Yt?(localStorage.setItem("bewerbungstrainer_demo_pending","true"),F(U.user),w(!0),m("")):(x(""),m(""),d&&d(U.user),l&&l()):A(U.error||"Login fehlgeschlagen. Bitte versuchen Sie es erneut.")}catch(U){console.error("Login error:",U),A("Ein Fehler ist aufgetreten. Bitte versuchen Sie es erneut.")}finally{B(!1)}},G=b=>{localStorage.removeItem("bewerbungstrainer_demo_pending"),E&&E(b),x(""),m(""),w(!1),d&&V&&d(V),l&&l()},$=async()=>{localStorage.removeItem("bewerbungstrainer_demo_pending");try{h&&await h()}catch(b){console.error("[LOGIN] Error logging out demo user:",b)}w(!1),F(null),x(""),m("")},P=()=>{A(""),x(""),m(""),l&&l()},O=b=>{b.target===b.currentTarget&&P()};if(je.useEffect(()=>{const b=U=>{U.key==="Escape"&&t&&P()};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[t]),!t)return null;const _={width:"100%",padding:"12px 16px",fontSize:"15px",border:"1px solid #e2e8f0",borderRadius:"12px",outline:"none",transition:"all 0.2s ease",backgroundColor:"#ffffff"},M={borderColor:n,boxShadow:`0 0 0 3px ${i}`,backgroundColor:"#ffffff"};return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",onClick:O,role:"dialog","aria-modal":"true","aria-labelledby":"login-modal-title",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-4 overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-5",style:{background:v,color:N},children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{id:"login-modal-title",className:"text-xl font-semibold",style:{color:N},children:"Anmelden"}),e.jsx("button",{onClick:P,className:"p-2 rounded-xl transition-colors",style:{color:N,backgroundColor:"transparent"},onMouseEnter:b=>b.target.style.backgroundColor="rgba(255,255,255,0.2)",onMouseLeave:b=>b.target.style.backgroundColor="transparent","aria-label":"Schließen",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),I&&e.jsx("div",{className:"mt-4 mb-2 flex justify-center",children:e.jsx("img",{src:I,alt:`${j} Logo`,style:{height:"8.5rem",maxWidth:"100%",objectFit:"contain"}})}),e.jsxs("p",{className:"text-sm mt-1",style:{color:N,opacity:.8},children:["Bei ",j," anmelden"]})]}),e.jsxs("form",{onSubmit:L,className:"p-6 space-y-5",children:[f&&e.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-xl text-red-700 text-sm flex items-start gap-3",children:[e.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{children:f})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"login-username",className:"block text-sm font-medium text-gray-700 mb-2",children:"Benutzername oder E-Mail"}),e.jsx("input",{type:"text",id:"login-username",value:S,onChange:b=>x(b.target.value),style:_,onFocus:b=>Object.assign(b.target.style,M),onBlur:b=>{b.target.style.borderColor="#e2e8f0",b.target.style.boxShadow="none",b.target.style.backgroundColor="#ffffff"},placeholder:"Ihr Benutzername",disabled:C,autoComplete:"username",autoFocus:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"login-password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Passwort"}),e.jsx("input",{type:"password",id:"login-password",value:y,onChange:b=>m(b.target.value),style:_,onFocus:b=>Object.assign(b.target.style,M),onBlur:b=>{b.target.style.borderColor="#e2e8f0",b.target.style.boxShadow="none",b.target.style.backgroundColor="#ffffff"},placeholder:"Ihr Passwort",disabled:C,autoComplete:"current-password"})]}),e.jsx("button",{type:"submit",disabled:C,style:{width:"100%",padding:"14px 24px",fontSize:"16px",fontWeight:600,color:T,background:C?"#94a3b8":u,border:"none",borderRadius:"12px",cursor:C?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",transition:"all 0.2s ease",opacity:C?.7:1,boxShadow:C?"none":"0 4px 14px rgba(58, 127, 167, 0.3)"},onMouseEnter:b=>{C||(b.target.style.transform="translateY(-1px)",b.target.style.boxShadow="0 6px 20px rgba(58, 127, 167, 0.4)")},onMouseLeave:b=>{b.target.style.transform="translateY(0)",b.target.style.boxShadow=C?"none":"0 4px 14px rgba(58, 127, 167, 0.3)"},children:C?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{fill:"none",viewBox:"0 0 24 24",style:{width:"20px",height:"20px",color:T,animation:"spin 1s linear infinite"},children:[e.jsx("circle",{style:{opacity:.25},cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{style:{opacity:.75},fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{style:{color:T,fontSize:"16px",fontWeight:600},children:"Wird angemeldet..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{fill:"none",viewBox:"0 0 24 24",stroke:T,style:{width:"20px",height:"20px"},children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),e.jsx("span",{style:{color:T,fontSize:"16px",fontWeight:600},children:"Anmelden"})]})}),e.jsx("p",{className:"text-xs text-center text-gray-500 pt-2",children:"Verwenden Sie Ihre WordPress-Zugangsdaten zur Anmeldung."})]})]}),e.jsx(Ut,{isOpen:D,onClose:$,onSuccess:G})]})}function Xt({isOpen:t,onClose:l,onAcknowledge:d}){const{branding:c,partnerName:h}=ee(),[g,j]=r.useState(!1),[I,E]=r.useState(null),[S,x]=r.useState(!1),[y,m]=r.useState(""),f=c?.["--primary-accent"]||"#3A7FA7",A=c?.["--button-gradient"]||"linear-gradient(135deg, #3A7FA7 0%, #3DA389 100%)",C=c?.["--header-gradient"]||"linear-gradient(135deg, #3A7FA7 0%, #3DA389 100%)",B=c?.["--header-text"]||"#ffffff",D=c?.["--sidebar-text-color"]||"#ffffff";r.useEffect(()=>{t&&w()},[t]);const w=async()=>{try{const u=window.bewerbungstrainerConfig?.apiUrl||"/wp-json/bewerbungstrainer/v1",i=await(await fetch(`${u}/disclaimer/status`,{method:"GET",headers:{"Content-Type":"application/json","X-WP-Nonce":window.bewerbungstrainerConfig?.nonce||""},credentials:"same-origin"})).json();i.success&&i.disclaimer&&E(i.disclaimer)}catch(u){console.error("[DISCLAIMER] Error fetching status:",u),m("Fehler beim Laden des Hinweises")}},V=async()=>{if(I){x(!0),m("");try{const u=window.bewerbungstrainerConfig?.apiUrl||"/wp-json/bewerbungstrainer/v1",i=await(await fetch(`${u}/disclaimer/acknowledge`,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":window.bewerbungstrainerConfig?.nonce||""},credentials:"same-origin",body:JSON.stringify({disclaimer_id:I.id,dont_show_again:g})})).json();i.success?(d&&d(g),l&&l()):m(i.message||"Fehler bei der Bestätigung")}catch(u){console.error("[DISCLAIMER] Error acknowledging:",u),m("Ein Fehler ist aufgetreten")}finally{x(!1)}}},F=u=>{u.stopPropagation()};if(r.useEffect(()=>{const u=v=>{v.key==="Escape"&&t&&v.preventDefault()};return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[t]),!t||!I)return null;const n=u=>u?u.split(`
`).map((v,i)=>v.trim()?e.jsx("p",{className:"mb-3 last:mb-0",children:v},i):null):null;return e.jsxs("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",style:{zIndex:99999},onClick:F,role:"dialog","aria-modal":"true","aria-labelledby":"disclaimer-modal-title",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full flex flex-col",style:{maxHeight:"min(85vh, 600px)",maxWidth:"520px",width:"100%"},children:[e.jsx("div",{className:"px-4 sm:px-6 py-4 flex-shrink-0 rounded-t-2xl",style:{background:C,color:B},children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-xl hidden sm:flex",style:{backgroundColor:"rgba(255,255,255,0.2)"},children:e.jsx(Ge,{className:"w-5 h-5",style:{color:B}})}),e.jsxs("div",{children:[e.jsx("h2",{id:"disclaimer-modal-title",className:"text-lg sm:text-xl font-semibold",style:{color:B},children:I.title}),e.jsxs("p",{className:"text-xs sm:text-sm mt-0.5",style:{color:B,opacity:.8},children:["Version ",I.version]})]})]})}),e.jsxs("div",{className:"p-5 sm:p-6 overflow-y-auto flex-1",children:[y&&e.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-xl text-red-700 text-sm flex items-start gap-3",children:[e.jsx(wt,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:y})]}),e.jsx("div",{className:"bg-slate-50 rounded-xl p-4 border border-slate-200 mb-4 overflow-y-auto",style:{maxHeight:"180px"},children:e.jsx("div",{className:"text-gray-700 text-sm leading-relaxed",children:n(I.content)})}),e.jsxs("div",{className:"flex items-start gap-2 sm:gap-3 p-3 sm:p-4 bg-blue-50 rounded-xl border border-blue-100 mb-4",children:[e.jsx(kt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("p",{className:"text-xs sm:text-sm text-blue-700",children:["Mit der Bestätigung akzeptieren Sie diese Nutzungshinweise für ",h,"."]})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group mb-4 sm:mb-5",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"checkbox",checked:g,onChange:u=>j(u.target.checked),className:"sr-only"}),e.jsx("div",{className:"w-5 h-5 rounded border-2 transition-all flex items-center justify-center",style:{borderColor:g?f:"#cbd5e1",backgroundColor:g?f:"transparent"},children:g&&e.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})]}),e.jsx("span",{className:"text-sm text-gray-700 group-hover:text-gray-900 transition-colors",children:"Diesen Hinweis nicht mehr anzeigen"})]}),e.jsx("button",{onClick:V,disabled:S,style:{width:"100%",padding:"12px 20px",fontSize:"15px",fontWeight:600,color:D,background:S?"#94a3b8":A,border:"none",borderRadius:"12px",cursor:S?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",transition:"all 0.2s ease",opacity:S?.7:1,boxShadow:S?"none":"0 4px 14px rgba(58, 127, 167, 0.3)"},onMouseEnter:u=>{S||(u.target.style.transform="translateY(-1px)",u.target.style.boxShadow="0 6px 20px rgba(58, 127, 167, 0.4)")},onMouseLeave:u=>{u.target.style.transform="translateY(0)",u.target.style.boxShadow=S?"none":"0 4px 14px rgba(58, 127, 167, 0.3)"},children:S?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{fill:"none",viewBox:"0 0 24 24",style:{width:"18px",height:"18px",color:D,animation:"spin 1s linear infinite"},children:[e.jsx("circle",{style:{opacity:.25},cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{style:{opacity:.75},fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{style:{color:D,fontSize:"15px",fontWeight:600},children:"Wird gespeichert..."})]}):e.jsx("span",{style:{color:D,fontSize:"15px",fontWeight:600},children:"Verstanden"})}),e.jsx("p",{className:"text-xs text-center text-gray-500 mt-3",children:g?"Sie werden diesen Hinweis bei zukünftigen Anmeldungen nicht mehr sehen.":"Dieser Hinweis wird bei jeder Anmeldung angezeigt."})]})]}),e.jsx("style",{children:`
          @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
          }
        `})]})}function qt(){const[t,l]=r.useState(!1),[d,c]=r.useState(!1),[h,g]=r.useState(!1);return{isOpen:t,needsDisclaimer:d,isChecking:h,openDisclaimerModal:()=>l(!0),closeDisclaimerModal:()=>{l(!1),c(!1)},checkDisclaimerStatus:async()=>{g(!0);try{const S=window.bewerbungstrainerConfig?.apiUrl||"/wp-json/bewerbungstrainer/v1",y=await(await fetch(`${S}/disclaimer/status`,{method:"GET",headers:{"Content-Type":"application/json","X-WP-Nonce":window.bewerbungstrainerConfig?.nonce||""},credentials:"same-origin"})).json();if(y.success){const m=y.needs_acknowledgment;return c(m),m&&l(!0),m}return!1}catch(S){return console.error("[DISCLAIMER] Error checking status:",S),!1}finally{g(!1)}}}}const o={HOME:"/",OVERVIEW:"/uebersicht",LIVE_TRAINING:"/live-training",LIVE_TRAINING_SETUP:"/live-training/vorbereitung",LIVE_TRAINING_DEVICES:"/live-training/geraete",LIVE_TRAINING_SESSION:"/live-training/session",LIVE_TRAINING_PROXY:"/live-training/session-proxy",SCENARIO_TRAINING:"/szenario-training",VIDEO_TRAINING:"/wirkungs-analyse",SMART_BRIEFING:"/smart-briefing",DECISION_BOARD:"/entscheidungs-kompass",IKIGAI:"/ikigai-kompass",RHETORIK_GYM:"/rhetorik-gym",RHETORIK_GYM_SESSION:"/rhetorik-gym/session",HISTORY:"/verlauf",SESSION_DETAIL:"/verlauf/:sessionType/:sessionId",USAGE_LIMITS:"/nutzung",ADMIN:"/admin",ADMIN_ROLEPLAYS:"/admin/szenarien",ADMIN_SIMULATOR:"/admin/simulator",ADMIN_VIDEO:"/admin/video",ADMIN_PARTNERS:"/admin/partner"},Zt={overview:o.OVERVIEW,dashboard:o.LIVE_TRAINING,roleplay_variables:o.LIVE_TRAINING_SETUP,roleplay_device_setup:o.LIVE_TRAINING_DEVICES,roleplay:o.LIVE_TRAINING_SESSION,roleplay_proxy:o.LIVE_TRAINING_PROXY,simulator:o.SCENARIO_TRAINING,video_training:o.VIDEO_TRAINING,smart_briefing:o.SMART_BRIEFING,decision_board:o.DECISION_BOARD,ikigai:o.IKIGAI,history:o.HISTORY,session_detail:o.SESSION_DETAIL,usage_limits:o.USAGE_LIMITS,gym:o.RHETORIK_GYM,gym_klassiker:o.RHETORIK_GYM,gym_session:o.RHETORIK_GYM_SESSION,admin:o.ADMIN,admin_roleplays:o.ADMIN_ROLEPLAYS,admin_simulator:o.ADMIN_SIMULATOR,admin_video:o.ADMIN_VIDEO,admin_partners:o.ADMIN_PARTNERS},Le={[o.HOME]:"overview",[o.OVERVIEW]:"overview",[o.LIVE_TRAINING]:"dashboard",[o.LIVE_TRAINING_SETUP]:"dashboard",[o.LIVE_TRAINING_DEVICES]:"dashboard",[o.LIVE_TRAINING_SESSION]:"dashboard",[o.LIVE_TRAINING_PROXY]:"dashboard",[o.SCENARIO_TRAINING]:"simulator",[o.VIDEO_TRAINING]:"video_training",[o.SMART_BRIEFING]:"smart_briefing",[o.DECISION_BOARD]:"decision_board",[o.IKIGAI]:"ikigai",[o.RHETORIK_GYM]:"gym_klassiker",[o.RHETORIK_GYM_SESSION]:"gym_klassiker",[o.HISTORY]:"history",[o.USAGE_LIMITS]:"usage_limits",[o.ADMIN]:"admin",[o.ADMIN_ROLEPLAYS]:"admin_roleplays",[o.ADMIN_SIMULATOR]:"admin_simulator",[o.ADMIN_VIDEO]:"admin_video",[o.ADMIN_PARTNERS]:"admin_partners"};function Jt(t){return Le[t]?Le[t]:t.startsWith("/verlauf/")?"history":"overview"}const ce=({onNavigate:t})=>{const{branding:l,user:d}=ee(),{isAuthenticated:c}=ge(),[h,g]=r.useState([]),[j,I]=r.useState(!1),E=l?.["--header-gradient"]||Ae["--header-gradient"],S=l?.["--primary-accent"]||Ae["--primary-accent"];r.useEffect(()=>{c&&x()},[c]);const x=async()=>{I(!0);try{const n=await Bt(6);g(n||[])}catch(n){console.error("Failed to load recent activities:",n),g([])}I(!1)},m=d?d.first_name?d.first_name:d.display_name?d.display_name.split(" ")[0]:d.name?d.name.split(" ")[0]:null:null,f=[{id:"ikigai",step:"1",title:"Orientierung",subtitle:"Ikigai-Kompass",description:"Finde den Schnittpunkt deiner Talente, Leidenschaften und Möglichkeiten.",icon:Oe,color:s.purple[500],bgLight:s.purple[50],gradient:`linear-gradient(135deg, ${s.purple[400]} 0%, ${s.purple[600]} 100%)`,route:"ikigai"},{id:"decision",step:"2",title:"Entscheiden",subtitle:"Decision-Navigator",description:"Löse dein Dilemma mit KI-gestützter Pro & Contra Analyse.",icon:ze,color:s.blue[500],bgLight:s.blue[50],gradient:`linear-gradient(135deg, ${s.blue[400]} 0%, ${s.blue[600]} 100%)`,route:"decision_board"},{id:"briefing",step:"3",title:"Vorbereiten",subtitle:"Smart Briefing",description:"Erstelle deinen Schlachtplan mit personalisierten Leitfäden.",icon:Ct,color:s.amber[500],bgLight:s.amber[50],gradient:`linear-gradient(135deg, ${s.amber[400]} 0%, ${s.amber[600]} 100%)`,route:"smart_briefing"}],A=[{id:"simulator",title:"Szenario Training",subtitle:"Frage-Antwort",description:"Beantworte Interview-Fragen und erhalte sofortiges KI-Feedback.",icon:ye,tag:"Audio-KI",color:s.green[500],bgLight:s.green[50],gradient:`linear-gradient(135deg, ${s.green[400]} 0%, ${s.teal[500]} 100%)`,route:"simulator"},{id:"roleplay",title:"Live Simulation",subtitle:"Echtzeit-Dialog",description:"Führe ein realistisches Gespräch mit dem KI-Interviewer.",icon:Tt,tag:"Voice-KI",color:s.amber[500],bgLight:s.amber[50],gradient:`linear-gradient(135deg, ${s.amber[400]} 0%, ${s.red[400]} 100%)`,route:"dashboard"},{id:"video",title:"Wirkungsanalyse",subtitle:"Körpersprache",description:"Nimm dich auf Video auf und erhalte Feedback zu deiner Wirkung.",icon:be,tag:"Video-KI",color:s.red[500],bgLight:s.red[50],gradient:`linear-gradient(135deg, ${s.red[400]} 0%, ${s.purple[500]} 100%)`,route:"video_training"},{id:"gym",title:"Rhetorik Gym",subtitle:"Sprechtraining",description:"Reduziere Füllwörter und verbessere deine Redegewandtheit.",icon:Et,tag:"Drills",color:s.purple[500],bgLight:s.purple[50],gradient:`linear-gradient(135deg, ${s.purple[500]} 0%, ${s.blue[500]} 100%)`,route:"gym_klassiker"}],C={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.15}}},B={hidden:{opacity:0,y:24},visible:{opacity:1,y:0,transition:{duration:.5,ease:[.25,.1,.25,1]}}},D=n=>{t&&t(n)},w=n=>{if(!n)return"";let u=n.replace(" ","T").replace(/Z$/,"").replace(/[+-]\d{2}:\d{2}$/,"");const v=new Date(u);if(isNaN(v.getTime()))return"";const N=new Date-v,T=Math.floor(N/6e4),L=Math.floor(T/60),G=Math.floor(L/24);return T<0||T<1?"gerade eben":T<60?`vor ${T} Min.`:L<24?`vor ${L} Std.`:G<7?`vor ${G} Tagen`:v.toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit"})},V=n=>({briefing:"Smart Briefing",simulator:"Szenario-Training",video:"Wirkungs-Analyse",roleplay:"Live-Simulation",game:"Rhetorik-Gym",ikigai:"Ikigai-Kompass",decision:"Entscheidungs-Navigator"})[n]||n,F=n=>({briefing:s.amber[500],simulator:s.green[500],video:s.red[500],roleplay:s.amber[600],game:s.purple[500],ikigai:s.purple[500],decision:s.blue[500]})[n]||s.slate[400];return e.jsxs("div",{className:"min-h-screen py-8 lg:py-12 px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{style:{maxWidth:"1000px",margin:"0 auto"},children:[e.jsxs(H.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6,ease:[.25,.1,.25,1]},className:"text-center mb-14",children:[e.jsx("h1",{style:{fontSize:"clamp(26px, 4.5vw, 38px)",fontWeight:800,color:s.slate[900],marginBottom:"12px",lineHeight:1.2,letterSpacing:"-0.02em"},children:m?e.jsxs(e.Fragment,{children:["Hallo"," ",e.jsx("span",{style:{background:E,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:m}),", wo stehst du?"]}):e.jsxs(e.Fragment,{children:["Willkommen bei"," ",e.jsx("span",{style:{background:E,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"Karriereheld"})]})}),e.jsx("p",{style:{fontSize:"clamp(15px, 2vw, 17px)",color:s.slate[500],maxWidth:"420px",margin:"0 auto",lineHeight:1.6},children:"Erst denken, dann handeln. Wähle deine Phase."})]}),e.jsxs(H.section,{variants:C,initial:"hidden",animate:"visible",style:{marginBottom:"48px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"14px",marginBottom:"24px"},children:[e.jsx("span",{style:{background:`linear-gradient(135deg, ${s.slate[100]} 0%, ${s.slate[200]} 100%)`,color:s.slate[700],padding:"8px 14px",borderRadius:"10px",fontSize:"12px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Phase 1"}),e.jsx("h2",{style:{fontSize:"18px",fontWeight:700,color:s.slate[800],margin:0},children:"Deine Strategie"})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"20px"},className:"strategy-grid",children:f.map(n=>e.jsxs(H.div,{variants:B,whileHover:{y:-6,transition:{duration:.2}},whileTap:{scale:.98},onClick:()=>D(n.route),style:{background:"white",borderRadius:"20px",padding:"28px",cursor:"pointer",border:`1px solid ${s.slate[100]}`,boxShadow:"0 4px 20px rgba(0, 0, 0, 0.04)",transition:"all 0.3s cubic-bezier(0.25, 0.1, 0.25, 1)",position:"relative",overflow:"hidden"},onMouseEnter:u=>{u.currentTarget.style.boxShadow=`0 20px 40px -12px ${n.color}25`,u.currentTarget.style.borderColor=`${n.color}30`},onMouseLeave:u=>{u.currentTarget.style.boxShadow="0 4px 20px rgba(0, 0, 0, 0.04)",u.currentTarget.style.borderColor=s.slate[100]},children:[e.jsx("div",{style:{position:"absolute",top:"-30px",right:"-30px",width:"120px",height:"120px",borderRadius:"50%",background:`${n.color}08`,pointerEvents:"none"}}),e.jsx("div",{style:{position:"absolute",top:"20px",right:"20px",width:"32px",height:"32px",borderRadius:"10px",background:n.bgLight,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",fontWeight:700,color:n.color},children:n.step}),e.jsx("div",{style:{width:"56px",height:"56px",borderRadius:"16px",background:n.gradient,display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"20px",boxShadow:`0 8px 20px -4px ${n.color}40`},children:e.jsx(n.icon,{style:{width:"26px",height:"26px",color:"white"}})}),e.jsx("h3",{style:{fontSize:"20px",fontWeight:700,color:s.slate[900],marginBottom:"6px"},children:n.title}),e.jsx("p",{style:{fontSize:"13px",fontWeight:600,color:n.color,marginBottom:"10px"},children:n.subtitle}),e.jsx("p",{style:{fontSize:"14px",color:s.slate[500],lineHeight:1.6,margin:0,minHeight:"44px"},children:n.description}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"20px"},children:e.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"10px",background:s.slate[50],display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},children:e.jsx(Te,{style:{width:"16px",height:"16px",color:s.slate[400]}})})})]},n.id))})]}),e.jsxs(H.section,{variants:C,initial:"hidden",animate:"visible",style:{marginBottom:"48px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"14px",marginBottom:"24px"},children:[e.jsx("span",{style:{background:`linear-gradient(135deg, ${s.green[50]} 0%, ${s.green[100]} 100%)`,color:s.green[700],padding:"8px 14px",borderRadius:"10px",fontSize:"12px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Phase 2"}),e.jsx("h2",{style:{fontSize:"18px",fontWeight:700,color:s.slate[800],margin:0},children:"Trainings-Arena"})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"20px"},className:"training-grid",children:A.map(n=>e.jsxs(H.div,{variants:B,whileHover:{y:-6,transition:{duration:.2}},whileTap:{scale:.98},onClick:()=>D(n.route),style:{background:"white",borderRadius:"20px",padding:"26px",cursor:"pointer",border:`1px solid ${s.slate[100]}`,boxShadow:"0 4px 20px rgba(0, 0, 0, 0.04)",transition:"all 0.3s cubic-bezier(0.25, 0.1, 0.25, 1)",position:"relative",overflow:"hidden",display:"flex",flexDirection:"column"},onMouseEnter:u=>{u.currentTarget.style.boxShadow=`0 20px 40px -12px ${n.color}25`,u.currentTarget.style.borderColor=`${n.color}30`},onMouseLeave:u=>{u.currentTarget.style.boxShadow="0 4px 20px rgba(0, 0, 0, 0.04)",u.currentTarget.style.borderColor=s.slate[100]},children:[e.jsx("div",{style:{position:"absolute",top:"18px",right:"18px",background:n.bgLight,color:n.color,padding:"6px 12px",borderRadius:"8px",fontSize:"11px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.3px"},children:n.tag}),e.jsx("div",{style:{width:"52px",height:"52px",borderRadius:"14px",background:n.gradient,display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"18px",boxShadow:`0 8px 20px -4px ${n.color}40`},children:e.jsx(n.icon,{style:{width:"24px",height:"24px",color:"white"}})}),e.jsx("h3",{style:{fontSize:"18px",fontWeight:700,color:s.slate[900],marginBottom:"4px"},children:n.title}),e.jsx("p",{style:{fontSize:"13px",fontWeight:600,color:n.color,marginBottom:"8px"},children:n.subtitle}),e.jsx("p",{style:{fontSize:"14px",color:s.slate[500],lineHeight:1.5,margin:0,flex:1},children:n.description}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"16px"},children:e.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"10px",background:s.slate[50],display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(Te,{style:{width:"16px",height:"16px",color:s.slate[400]}})})})]},n.id))})]}),c&&h.length>0&&e.jsx(H.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.5},children:e.jsxs("div",{style:{background:"white",borderRadius:"20px",padding:"28px",border:`1px solid ${s.slate[100]}`,boxShadow:"0 4px 20px rgba(0, 0, 0, 0.04)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"10px",background:s.slate[100],display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(Ve,{style:{width:"18px",height:"18px",color:s.slate[500]}})}),e.jsx("h3",{style:{fontSize:"16px",fontWeight:700,color:s.slate[800],margin:0},children:"Letzte Aktivitäten"})]}),e.jsxs("button",{onClick:()=>D("history"),style:{display:"flex",alignItems:"center",gap:"4px",color:S,fontSize:"13px",fontWeight:600,background:"none",border:"none",cursor:"pointer",padding:"6px 10px",borderRadius:"8px",transition:"background 0.2s ease"},onMouseEnter:n=>{n.currentTarget.style.background=s.slate[50]},onMouseLeave:n=>{n.currentTarget.style.background="none"},children:["Alle ansehen",e.jsx($e,{style:{width:"16px",height:"16px"}})]})]}),j?e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",padding:"32px",color:s.slate[500]},children:[e.jsx("div",{className:"animate-spin",style:{width:"20px",height:"20px",border:`2px solid ${s.slate[200]}`,borderTopColor:S,borderRadius:"50%"}}),"Lädt..."]}):e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:h.slice(0,5).map((n,u)=>e.jsxs(H.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.05*u},style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"14px 16px",background:s.slate[50],borderRadius:"12px",cursor:"pointer",transition:"all 0.2s ease",border:"1px solid transparent"},onClick:()=>D("history"),onMouseEnter:v=>{v.currentTarget.style.background="white",v.currentTarget.style.borderColor=s.slate[200]},onMouseLeave:v=>{v.currentTarget.style.background=s.slate[50],v.currentTarget.style.borderColor="transparent"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"14px",minWidth:0,flex:1},children:[e.jsx("div",{style:{width:"10px",height:"10px",borderRadius:"50%",background:F(n.type),flexShrink:0}}),e.jsxs("div",{style:{minWidth:0,flex:1},children:[e.jsx("p",{style:{fontSize:"14px",fontWeight:600,color:s.slate[800],margin:0,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:n.title||V(n.type)}),e.jsx("p",{style:{fontSize:"12px",color:s.slate[500],margin:"2px 0 0 0"},children:V(n.type)})]})]}),e.jsx("span",{style:{fontSize:"12px",color:s.slate[400],fontWeight:500,flexShrink:0,marginLeft:"16px"},children:w(n.created_at||n.date)})]},n.id||u))})]})}),!c&&e.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.4},style:{textAlign:"center",padding:"40px 32px",background:"white",borderRadius:"20px",border:`1px solid ${s.slate[100]}`,boxShadow:"0 4px 20px rgba(0, 0, 0, 0.04)"},children:[e.jsx("div",{style:{width:"56px",height:"56px",borderRadius:"16px",background:`linear-gradient(135deg, ${s.blue[50]} 0%, ${s.purple[50]} 100%)`,display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:e.jsx(Nt,{style:{width:"28px",height:"28px",color:s.blue[500]}})}),e.jsx("h3",{style:{fontSize:"18px",fontWeight:700,color:s.slate[800],marginBottom:"8px"},children:"Verfolge deinen Fortschritt"}),e.jsx("p",{style:{fontSize:"14px",color:s.slate[500],margin:0,maxWidth:"360px",marginLeft:"auto",marginRight:"auto",lineHeight:1.6},children:"Melde dich an, um deinen Fortschritt zu speichern und personalisierte Empfehlungen zu erhalten."})]})]}),e.jsx("style",{children:`
        @media (max-width: 900px) {
          .strategy-grid {
            grid-template-columns: 1fr !important;
          }
          .training-grid {
            grid-template-columns: 1fr !important;
          }
        }
        @media (min-width: 901px) and (max-width: 1100px) {
          .strategy-grid {
            grid-template-columns: repeat(3, 1fr) !important;
          }
          .training-grid {
            grid-template-columns: repeat(2, 1fr) !important;
          }
        }
      `})]})},Qt=r.lazy(()=>W(()=>import("./RoleplayDashboard-1vZXrBGf.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13]),import.meta.url)),en=r.lazy(()=>W(()=>import("./RoleplayDeviceSetup-BogGntEW.js"),__vite__mapDeps([14,1,2,15,10,6,7,11,16,13,17]),import.meta.url)),tn=r.lazy(()=>W(()=>import("./RoleplayVariablesPage-soeagwKH.js"),__vite__mapDeps([18,1,2,10,6,7,11,19]),import.meta.url)),Me=r.lazy(()=>W(()=>import("./RoleplaySessionUnified-DHh_Gf_Q.js"),__vite__mapDeps([20,1,2,21,17,3,4,5,6,7,22,11,12,13,16,10,23,15]),import.meta.url)),nn=r.lazy(()=>W(()=>import("./SessionHistory-BvL7h8-E.js"),__vite__mapDeps([24,1,2,22,6,7,11,12,13,3,4,5,10,17,21,25,26,27,28,29,30,31,32]),import.meta.url).then(t=>({default:t.default}))),rn=r.lazy(()=>W(()=>import("./SessionDetailView-BczYHkac.js"),__vite__mapDeps([33,1,2,22,6,7,11,3,4,5,25,10,21,17]),import.meta.url)),on=r.lazy(()=>W(()=>import("./index-BtY0pp9v.js"),__vite__mapDeps([34,1,2,6,7,8,9,10,11,12,13,21,16,17,35,23,15,36,19]),import.meta.url).then(t=>({default:t.SimulatorApp}))),sn=r.lazy(()=>W(()=>import("./index-BfRYUrDY.js"),__vite__mapDeps([37,1,2,6,7,8,9,10,11,12,13,15,16,17,36,21,23,35]),import.meta.url).then(t=>({default:t.VideoTrainingApp}))),an=r.lazy(()=>W(()=>import("./index-_TL7B13B.js"),__vite__mapDeps([38,1,2,21,4,5,6,7,16,10,11,13,9]),import.meta.url).then(t=>({default:t.RhetorikGym}))),ln=r.lazy(()=>W(()=>import("./index-_TL7B13B.js"),__vite__mapDeps([38,1,2,21,4,5,6,7,16,10,11,13,9]),import.meta.url).then(t=>({default:t.GameSession}))),dn=r.lazy(()=>W(()=>import("./index-MUMnKa9C.js"),__vite__mapDeps([39,1,2,6,7,8,9,10,11,12,13,36,26,21,17]),import.meta.url).then(t=>({default:t.SmartBriefingApp}))),cn=r.lazy(()=>W(()=>import("./index-DqeQmn72.js"),__vite__mapDeps([40,1,2,27,28,13,22,6,7,11,29,30,10,4,5,31]),import.meta.url).then(t=>({default:t.DecisionBoardApp}))),pn=r.lazy(()=>W(()=>import("./IkigaiApp-SHU5jP59.js"),__vite__mapDeps([41,1,2,32,10,6,7,11,21,28,13,22,31,5]),import.meta.url)),xn=r.lazy(()=>W(()=>import("./UsageLimitsDisplay-C6raAAIW.js"),__vite__mapDeps([42,1,2,22,6,7,11]),import.meta.url)),gn=r.lazy(()=>W(()=>import("./AdminDashboard-DBIwuMRn.js"),__vite__mapDeps([43,1,2,28,13,22,6,7,11]),import.meta.url)),un=r.lazy(()=>W(()=>import("./ScenarioManager-CAfcWIHD.js"),__vite__mapDeps([44,1,2,28,13,22,6,7,11,29,30,12,45]),import.meta.url)),hn=r.lazy(()=>W(()=>import("./SimulatorScenarioManager-C8VxaUR5.js"),__vite__mapDeps([46,1,2,28,13,22,6,7,11,29]),import.meta.url)),mn=r.lazy(()=>W(()=>import("./VideoTrainingManager-FKJ8tW8V.js"),__vite__mapDeps([47,1,2,28,13,22,6,7,11,29]),import.meta.url)),fn=r.lazy(()=>W(()=>import("./PartnerManager-CvGMW_WF.js"),__vite__mapDeps([48,1,2,28,13,22,6,7,11,29,30,12,45]),import.meta.url)),Be={DIRECT:"direct",PROXY:"proxy"},pe={BRIEFINGS:"briefings",SIMULATOR:"simulator",VIDEO:"video",ROLEPLAY:"roleplay"},bn=()=>e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"400px",gap:"16px"},children:[e.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:"linear-gradient(135deg, #38bdf8 0%, #818cf8 100%)",display:"flex",alignItems:"center",justifyContent:"center",animation:"pulse 1.5s ease-in-out infinite"},children:e.jsx(At,{size:24,color:"white",style:{animation:"spin 1s linear infinite"}})}),e.jsx("p",{style:{color:"rgba(255, 255, 255, 0.6)",fontSize:"14px"},children:"Modul wird geladen..."}),e.jsx("style",{children:`
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
        @keyframes pulse {
          0%, 100% { transform: scale(1); opacity: 1; }
          50% { transform: scale(1.05); opacity: 0.8; }
        }
      `})]});let Ze=!1;const yn=()=>(je.useEffect(()=>{Ze=!0},[]),e.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #0f172a 100%)",zIndex:9999},children:[e.jsx("div",{style:{position:"absolute",top:"20%",left:"10%",width:"300px",height:"300px",borderRadius:"50%",background:"radial-gradient(circle, rgba(56, 189, 248, 0.1) 0%, transparent 70%)",animation:"float 6s ease-in-out infinite"}}),e.jsx("div",{style:{position:"absolute",bottom:"20%",right:"10%",width:"400px",height:"400px",borderRadius:"50%",background:"radial-gradient(circle, rgba(139, 92, 246, 0.1) 0%, transparent 70%)",animation:"float 8s ease-in-out infinite reverse"}}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"32px",zIndex:1},children:[e.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"24px",background:"linear-gradient(135deg, #38bdf8 0%, #818cf8 100%)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 20px 40px rgba(56, 189, 248, 0.3)",animation:"pulse 2s ease-in-out infinite"},children:e.jsxs("svg",{width:"44",height:"44",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),e.jsx("path",{d:"M2 17l10 5 10-5"}),e.jsx("path",{d:"M2 12l10 5 10-5"})]})}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("h1",{style:{fontSize:"28px",fontWeight:700,color:"white",margin:0,letterSpacing:"-0.02em"},children:"Karriereheld"}),e.jsx("p",{style:{fontSize:"15px",color:"rgba(255, 255, 255, 0.6)",margin:"8px 0 0 0",fontWeight:400},children:"wird geladen..."})]}),e.jsx("div",{style:{width:"200px",height:"4px",backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:"2px",overflow:"hidden"},children:e.jsx("div",{style:{width:"40%",height:"100%",background:"linear-gradient(90deg, #38bdf8, #818cf8, #38bdf8)",backgroundSize:"200% 100%",borderRadius:"2px",animation:"loading 1.5s ease-in-out infinite"}})})]}),e.jsx("style",{children:`
          @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
          }
          @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
          }
          @keyframes loading {
            0% { transform: translateX(-100%); }
            50% { transform: translateX(150%); }
            100% { transform: translateX(400%); }
          }
        `})]})),De=()=>{requestAnimationFrame(()=>{window.scrollTo(0,0);const t=document.getElementById("bewerbungstrainer-app");t&&(t.scrollTop=0);const l=document.querySelector("[data-main-content]");l&&(l.scrollTop=0),document.querySelectorAll('.overflow-y-auto, .overflow-auto, [style*="overflow"]').forEach(c=>{c.scrollTop>0&&(c.scrollTop=0)})})};function jn(){const t=document.body.classList.contains("admin-bar")||document.documentElement.classList.contains("admin-bar"),l=document.getElementById("wpadminbar");if(l){const d=l.getBoundingClientRect(),c=window.getComputedStyle(l);return!(c.display!=="none"&&c.visibility!=="hidden")||d.bottom<=0?0:d.top<0?Math.max(0,d.bottom):l.offsetHeight}return t?window.innerWidth<=782?46:32:0}function vn(){const t=document.getElementById("bewerbungstrainer-app"),l=jn(),d=document.elementFromPoint(window.innerWidth/2,l+10);if(d){let h=d;for(;h&&h!==document.body;){const g=h.tagName?.toLowerCase();if((g==="header"||g==="nav"||h.classList?.contains("site-header")||h.classList?.contains("elementor-location-header")||h.id==="masthead")&&(!t||!t.contains(h))){const E=h.getBoundingClientRect().bottom;return E<=l?l:Math.max(l,E)}h=h.parentElement}}const c=["header.site-header","#masthead",".site-header",".elementor-location-header",'[data-elementor-type="header"]',".ast-header-wrap","#starter-header",".header-wrapper","header"];for(const h of c){const g=document.querySelector(h);if(g&&(!t||!t.contains(g))){const I=g.getBoundingClientRect().bottom;return I<=l?l:Math.max(l,I)}}if(t){let h=t.previousElementSibling;for(;h;){const g=h.getBoundingClientRect();if(g.height>30&&g.top<100){const j=g.bottom;return j<=l?l:Math.max(l,j)}h=h.previousElementSibling}}return l}function Sn(){const t=Rt(),l=Lt(),{isAuthenticated:d,authLoading:c,isLoading:h,demoCode:g}=ee(),{isAdmin:j}=ge(),I=Jt(l.pathname),[E,S]=r.useState(0),[x,y]=r.useState(null),[m,f]=r.useState({}),[A,C]=r.useState(null),[B,D]=r.useState("websocket"),[w,V]=r.useState(null),[F,n]=r.useState(null),[u,v]=r.useState(null),[i,N]=r.useState(!1),T=()=>N(!0),L=()=>N(!1),{isOpen:G,closeDisclaimerModal:$,checkDisclaimerStatus:P}=qt(),[O,_]=r.useState(null),[M,b]=r.useState(null),[U,re]=r.useState(null),[ve,ue]=r.useState(null),[X,K]=r.useState(null),[q,a]=r.useState(null),[Z,J]=r.useState(null),[se,ie]=r.useState(0);r.useEffect(()=>{d&&!c&&P()},[d,c]);const ae=r.useCallback(p=>{if(p)switch(p.type){case"SELECT_ROLEPLAY_SCENARIO":b(p.scenario),t(o.LIVE_TRAINING);break;case"SELECT_SIMULATOR_SCENARIO":re(p.scenario),t(o.SCENARIO_TRAINING);break;case"START_GYM_GAME":v(p.config),t(o.RHETORIK_GYM_SESSION,{state:{gameConfig:p.config}});break;case"SELECT_GYM_MODE":ue(p.mode),t(o.RHETORIK_GYM);break;case"SELECT_VIDEO_TRAINING_SCENARIO":K(p.scenario),t(o.VIDEO_TRAINING);break;default:console.warn("Unknown pending action type:",p.type)}},[t]),te=r.useCallback((p,z=null)=>d?(p(),!0):(z&&_(z),T(),!1),[d]);r.useEffect(()=>{const p=()=>{const ne=vn();S(ne)},z=(ne=0)=>{p(),ne<5&&setTimeout(()=>z(ne+1),200)};requestAnimationFrame(()=>{setTimeout(()=>z(),50)});const Y=()=>setTimeout(p,100);return window.addEventListener("load",Y),window.addEventListener("resize",p),window.addEventListener("scroll",p,{passive:!0}),()=>{window.removeEventListener("load",Y),window.removeEventListener("resize",p),window.removeEventListener("scroll",p)}},[]),r.useEffect(()=>{De()},[l.pathname]);const Q=r.useCallback(p=>{De(),p==="video_training"&&ie(Y=>Y+1);const z=Zt[p];t(z||o.OVERVIEW)},[t]),Je=r.useCallback(p=>{y(p),f({}),C(null),t(o.LIVE_TRAINING_SETUP,{state:{scenario:p}})},[t]),Qe=r.useCallback(p=>{f(p),t(o.LIVE_TRAINING_DEVICES,{state:{scenario:x,variables:p}})},[t,x]),et=r.useCallback(()=>{y(null),f({}),t(o.LIVE_TRAINING)},[t]),tt=r.useCallback(({selectedMicrophoneId:p,connectionMode:z="websocket"})=>{C(p),D(z);const Y=z==="proxy"?o.LIVE_TRAINING_PROXY:o.LIVE_TRAINING_SESSION;t(Y,{state:{scenario:x,variables:m,microphoneId:p}})},[t,x,m]),nt=r.useCallback(()=>{C(null),t(o.LIVE_TRAINING_SETUP,{state:{scenario:x}})},[t,x]),Se=r.useCallback(()=>{y(null),f({}),t(o.LIVE_TRAINING)},[t]),Ie=r.useCallback(p=>{y(null),f({}),V(p),t(`/verlauf/${p.type||"roleplay"}/${p.id}`,{state:{session:p}})},[t]),rt=r.useCallback((p=null)=>{n(p),t(o.HISTORY,{state:{initialTab:p}})},[t]),it=r.useCallback(()=>{n(null),t(o.LIVE_TRAINING)},[t]),le=r.useCallback(p=>{const Y={briefings:pe.BRIEFINGS,simulator:pe.SIMULATOR,video:pe.VIDEO,roleplay:pe.ROLEPLAY}[p]||null;n(Y),t(o.HISTORY,{state:{initialTab:Y}})},[t]),ot=r.useCallback(p=>{V(p),t(`/verlauf/${p.type||"roleplay"}/${p.id}`,{state:{session:p}})},[t]),st=r.useCallback(()=>{V(null),t(o.HISTORY)},[t]),at=r.useCallback((p,z)=>{a({session:p,scenario:z}),t(o.SCENARIO_TRAINING)},[t]),we=r.useCallback((p,z,Y)=>{const ne=Y||p?.type;ne==="roleplay"?(z&&b(z),t(o.LIVE_TRAINING)):ne==="video"?(z&&K(z),t(o.VIDEO_TRAINING)):(J({session:p,scenario:z}),t(o.SCENARIO_TRAINING))},[t]),lt=r.useCallback(p=>{v(p),t(o.RHETORIK_GYM_SESSION,{state:{gameConfig:p}})},[t]),dt=r.useCallback(()=>{v(null),t(o.RHETORIK_GYM)},[t]),ct=r.useCallback(p=>{},[]),oe=r.useCallback(({children:p})=>j?p:e.jsx(ce,{onNavigate:Q}),[j,Q]);if(h&&!Ze)return e.jsx(yn,{});const de=()=>l.state?.scenario||x,ke=()=>l.state?.variables||m,Ce=()=>l.state?.microphoneId||A,pt=()=>l.state?.gameConfig||u,xt=()=>l.state?.session||w,gt=()=>l.state?.initialTab||F,ut=()=>e.jsx(r.Suspense,{fallback:e.jsx(bn,{}),children:e.jsxs(Mt,{children:[e.jsx(R,{path:"/",element:e.jsx(ce,{onNavigate:Q})}),e.jsx(R,{path:o.OVERVIEW,element:e.jsx(ce,{onNavigate:Q})}),e.jsx(R,{path:o.LIVE_TRAINING,element:e.jsx(Qt,{onSelectScenario:Je,onOpenHistory:rt,isAuthenticated:d,requireAuth:te,setPendingAction:_,pendingScenario:M,clearPendingScenario:()=>b(null),onNavigateToHistory:()=>le("roleplay")})}),e.jsx(R,{path:o.LIVE_TRAINING_SETUP,element:e.jsx(tn,{scenario:de(),onBack:et,onNext:Qe})}),e.jsx(R,{path:o.LIVE_TRAINING_DEVICES,element:e.jsx(en,{scenario:de(),onBack:nt,onStart:tt})}),e.jsx(R,{path:o.LIVE_TRAINING_SESSION,element:e.jsx(Me,{scenario:de(),variables:ke(),selectedMicrophoneId:Ce(),connectionMode:Be.DIRECT,onEnd:Se,onNavigateToSession:Ie})}),e.jsx(R,{path:o.LIVE_TRAINING_PROXY,element:e.jsx(Me,{scenario:de(),variables:ke(),selectedMicrophoneId:Ce(),connectionMode:Be.PROXY,onEnd:Se,onNavigateToSession:Ie})}),e.jsx(R,{path:o.SCENARIO_TRAINING,element:e.jsx(on,{isAuthenticated:d,requireAuth:te,setPendingAction:_,pendingContinueSession:q,clearPendingContinueSession:()=>a(null),pendingRepeatSession:Z,clearPendingRepeatSession:()=>J(null),onNavigateToHistory:()=>le("simulator")})}),e.jsx(R,{path:o.VIDEO_TRAINING,element:e.jsx(sn,{isAuthenticated:d,requireAuth:te,setPendingAction:_,pendingScenario:X,clearPendingScenario:()=>K(null),onNavigateToHistory:()=>le("video")},se)}),e.jsx(R,{path:o.SMART_BRIEFING,element:e.jsx(dn,{isAuthenticated:d,requireAuth:te,setPendingAction:_,demoCode:g,onNavigateToSimulator:()=>t(o.SCENARIO_TRAINING),onNavigateToHistory:()=>le("briefings")})}),e.jsx(R,{path:o.DECISION_BOARD,element:e.jsx(cn,{isAuthenticated:d,requireAuth:te,setPendingAction:_})}),e.jsx(R,{path:o.IKIGAI,element:e.jsx(pn,{isAuthenticated:d,requireAuth:te,setPendingAction:_,onNavigateToHistory:()=>t(o.HISTORY)})}),e.jsx(R,{path:o.RHETORIK_GYM,element:e.jsx(an,{onStartGame:lt,isAuthenticated:d,requireAuth:te,setPendingAction:_})}),e.jsx(R,{path:o.RHETORIK_GYM_SESSION,element:e.jsx(ln,{gameConfig:pt(),onBack:dt,onComplete:ct})}),e.jsx(R,{path:o.HISTORY,element:e.jsx(nn,{onBack:it,onSelectSession:ot,isAuthenticated:d,onLoginClick:T,onContinueSession:at,onRepeatSession:we,initialTab:gt(),onNavigateToModule:Q})}),e.jsx(R,{path:"/verlauf/:sessionType/:sessionId",element:e.jsx(rn,{session:xt(),onBack:st,onRepeatSession:we})}),e.jsx(R,{path:o.USAGE_LIMITS,element:e.jsx("div",{style:{padding:"24px",maxWidth:"600px",margin:"0 auto"},children:e.jsx(xn,{onNavigateToRoleplay:()=>t(o.LIVE_TRAINING)})})}),e.jsx(R,{path:o.ADMIN,element:e.jsx(oe,{children:e.jsx("div",{style:{padding:"24px"},children:e.jsx(gn,{onNavigate:Q})})})}),e.jsx(R,{path:o.ADMIN_ROLEPLAYS,element:e.jsx(oe,{children:e.jsx("div",{style:{padding:"24px"},children:e.jsx(un,{onBack:()=>t(o.ADMIN)})})})}),e.jsx(R,{path:o.ADMIN_SIMULATOR,element:e.jsx(oe,{children:e.jsx("div",{style:{padding:"24px"},children:e.jsx(hn,{onBack:()=>t(o.ADMIN)})})})}),e.jsx(R,{path:o.ADMIN_VIDEO,element:e.jsx(oe,{children:e.jsx("div",{style:{padding:"24px"},children:e.jsx(mn,{onBack:()=>t(o.ADMIN)})})})}),e.jsx(R,{path:o.ADMIN_PARTNERS,element:e.jsx(oe,{children:e.jsx("div",{style:{padding:"24px"},children:e.jsx(fn,{onBack:()=>t(o.ADMIN)})})})}),e.jsx(R,{path:"*",element:e.jsx(ce,{onNavigate:Q})})]})});return e.jsxs(e.Fragment,{children:[e.jsx($t,{activeView:I,onNavigate:Q,headerOffset:E,onLoginClick:T,children:ut()}),e.jsx(Kt,{isOpen:i,onClose:()=>{L(),_(null)},onLoginSuccess:async p=>{await P(),O&&(ae(O),_(null))}}),e.jsx(Xt,{isOpen:G,onClose:$,onAcknowledge:p=>{$()}})]})}function In(){return e.jsx(_t,{children:e.jsx(Dt,{children:e.jsx(Ft,{children:e.jsx(Sn,{})})})})}let he=!1,me=null;function wn(){if(he)return;const t=document.getElementById("bewerbungstrainer-app")||document.getElementById("root");if(!t){console.error("❌ Bewerbungstrainer: Root element not found! Looking for #bewerbungstrainer-app or #root");return}if(t._reactRootContainer||t.__reactRoot||me){console.warn("⚠️ Bewerbungstrainer: Root element already has a React root, skipping re-mount..."),he=!0;return}try{for(;t.firstChild;)t.removeChild(t.firstChild);me=Ot.createRoot(t),me.render(e.jsx(r.StrictMode,{children:e.jsx(In,{})})),he=!0}catch(l){console.error("❌ Bewerbungstrainer: Failed to mount React app:",l)}}function kn(){const t=()=>{requestAnimationFrame(()=>{try{wn()}catch(l){console.error("❌ Bewerbungstrainer: Error during mount:",l)}})};if(document.getElementById("bewerbungstrainer-app")||document.getElementById("root")){setTimeout(t,50);return}if(document.readyState==="loading")document.addEventListener("DOMContentLoaded",()=>setTimeout(t,50));else{let l=0;const d=50,c=setInterval(()=>{l++,document.getElementById("bewerbungstrainer-app")||document.getElementById("root")?(clearInterval(c),setTimeout(t,50)):l>=d&&(clearInterval(c),console.error("❌ Bewerbungstrainer: Element not found after 5 seconds"))},100)}}kn();
