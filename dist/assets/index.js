const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./RoleplayDashboard-BAphzKOA.js","./ui-vendor-w3QMwUw1.js","./react-vendor-uDOJF2jQ.js","./ScenarioDashboard-CCSgNc4o.js","./FeatureInfoButton-DOlrUowH.js","./FeatureInfoButton.css","./ScenarioCard-pFKbP67R.js","./dialog-Dl3u2MoA.js","./utils-BEHD0UYf.js","./useMobile-YxjH166V.js","./select-native-a06Ufdzz.js","./index-CklPxmEV.js","./RoleplayDeviceSetup-mmSiyfor.js","./DeviceSetupPage-CFOeWoMd.js","./MicrophoneTestDialog-DCA5UGAo.js","./RoleplayVariablesPage-T1CM7UoC.js","./DynamicFormField-B0XWxPFu.js","./RoleplaySessionUnified-Bi9EftOO.js","./button-DCmq61py.js","./DeviceSettingsDialog-DFna2PQe.js","./SessionHistory-BlAbgMy7.js","./RoleplaySessionReport-D1ZbXUsT.js","./BriefingWorkbook-i1B4AI_i.js","./DecisionBoardResult-BVBdNYLx.js","./input-BGIQpOO6.js","./textarea-DNkfWAYb.js","./AudioRecorder-_eG8qG_8.js","./card-26TC7KQi.js","./IkigaiResults-dwNjj4xn.js","./SessionDetailView-rVo3ctAw.js","./index-CHAlhmVm.js","./progress-bar-SOA3Vb4R.js","./fullscreen-loader-DAGTqrko.js","./Confetti-CJ7CE1PP.js","./index-CSvO2UQE.js","./VideoTrainingApp-BJCIlOou.js","./index-DnkbN-B4.js","./index-BMtv-GRy.js","./index-CEJ7InXu.js","./useScrollToTop-DcDjf9hQ.js","./IkigaiApp-DIt3Xnrd.js","./UsageLimitsDisplay-CN08aEcy.js","./AdminDashboard-DirvzOq4.js","./ScenarioManager-Bdpfdy7X.js","./form-accordion-2L7vcoYr.js","./SimulatorScenarioManager-DVtz0PHT.js","./VideoTrainingManager-CGBcpezB.js","./PartnerManager-DvJKfvZI.js"])))=>i.map(i=>d[i]);
import{j as t,S as rn,T as an,I as on,L as vt,m as W,a as ln,C as cn,A as dn,X as un,b as hn,c as mn,d as gn,F as pn,M as fn,e as xn,V as bn,Z as yn,f as Ye,g as Sn,h as En,i as wn}from"./ui-vendor-w3QMwUw1.js";import{a as h,d as Le,b as In,H as Nn,u as vn,e as An,f as kn,g as R}from"./react-vendor-uDOJF2jQ.js";import{u as he,C as g,G as Me,h as J,g as ye,a as ue,b as _n,c as Rn,w as B,d as At,D as Je,e as Cn,F as qe,f as Tn,P as jn,T as On,s as Mn,S as Dn,i as Ze,j as Ln}from"./FeatureInfoButton-DOlrUowH.js";const $n="modulepreload",Fn=function(e,n){return new URL(e,n).href},Xe={},M=function(n,s,r){let i=Promise.resolve();if(s&&s.length>0){let p=function(u){return Promise.all(u.map(y=>Promise.resolve(y).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};const o=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");i=p(s.map(u=>{if(u=Fn(u,r),u in Xe)return;Xe[u]=!0;const y=u.endsWith(".css"),b=y?'[rel="stylesheet"]':"";if(r)for(let E=o.length-1;E>=0;E--){const v=o[E];if(v.href===u&&(!y||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${b}`))return;const d=document.createElement("link");if(d.rel=y?"stylesheet":$n,y||(d.as="script"),d.crossOrigin="",d.href=u,c&&d.setAttribute("nonce",c),document.head.appendChild(d),y)return new Promise((E,v)=>{d.addEventListener("load",E),d.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return n().catch(a)})};function Gn({isOpen:e,onClose:n,onSuccess:s}){const{branding:r,partnerName:i,logoUrl:a}=he(),[o,l]=h.useState(1),[c,p]=h.useState(""),[u,y]=h.useState(""),[b,d]=h.useState(""),[E,v]=h.useState(""),[C,D]=h.useState(""),[K,j]=h.useState(""),[F,L]=h.useState(!1),[I,k]=h.useState(""),[w,G]=h.useState(!1),[V,_]=h.useState(!1),$=r?.["--primary-accent"]||g.indigo[500],Z=r?.["--button-gradient"]||Me.button,f=r?.["--header-gradient"]||Me.header,A=r?.["--focus-ring"]||J(g.indigo[500],.3),O=r?.["--header-text"]||g.white,P=r?.["--sidebar-text-color"]||g.white,U={display:"block",fontSize:"14px",fontWeight:"500",color:g.slate[700],marginBottom:"8px"},q={width:"100%",padding:"12px 16px",fontSize:"15px",borderRadius:"12px",border:`1px solid ${g.slate[200]}`,outline:"none",transition:"all 0.2s ease",backgroundColor:g.white},Y={borderColor:$,boxShadow:`0 0 0 3px ${A}`},Be=async x=>{if(x.preventDefault(),k(""),!c.trim()){k("Bitte geben Sie Ihren Demo-Code ein.");return}if(c.trim().length!==5){k("Der Demo-Code muss 5 Zeichen lang sein.");return}G(!0);try{const X=ye(),Q=ue(),pe=await(await fetch(`${X}/demo/validate`,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":Q},credentials:"same-origin",body:JSON.stringify({demo_code:c.toUpperCase().trim()})})).json();if(!pe.valid){k("Der Demo-Code ist ung√ºltig. Bitte √ºberpr√ºfen Sie Ihre Eingabe.");return}pe.is_activated?(_(!0),s&&s(c.toUpperCase().trim())):l(2)}catch(X){console.error("[DEMO] Validation error:",X),k("Ein Fehler ist aufgetreten. Bitte versuchen Sie es erneut.")}finally{G(!1)}},$e=async x=>{if(x.preventDefault(),k(""),!u.trim()){k("Bitte geben Sie den Firmennamen ein.");return}if(!b.trim()){k("Bitte geben Sie den Namen des Ansprechpartners ein.");return}if(!C.trim()){k("Bitte geben Sie eine Kontakt-E-Mail ein.");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(C)){k("Bitte geben Sie eine g√ºltige E-Mail-Adresse ein.");return}if(!F){k("Bitte stimmen Sie den Datenschutzbestimmungen zu.");return}G(!0);try{const Q=ye(),ve=ue(),Ae=await(await fetch(`${Q}/demo/activate`,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":ve},credentials:"same-origin",body:JSON.stringify({demo_code:c.toUpperCase().trim(),company_name:u.trim(),contact_name:b.trim(),homepage:E.trim(),contact_email:C.trim(),phone:K.trim(),privacy_accepted:F})})).json();Ae.success?(_(!0),s&&s(c.toUpperCase().trim())):k(Ae.error?.message||"Ein Fehler ist aufgetreten. Bitte versuchen Sie es erneut.")}catch(Q){console.error("[DEMO] Activation error:",Q),k("Ein Fehler ist aufgetreten. Bitte versuchen Sie es erneut.")}finally{G(!1)}},me=()=>{V||(l(1),p(""),y(""),d(""),v(""),D(""),j(""),L(!1),k(""),n&&n())},ge=()=>{l(1),k("")},Fe=x=>{x.target===x.currentTarget&&me()};return Le.useEffect(()=>{const x=X=>{X.key==="Escape"&&e&&me()};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[e,V]),e?t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",onClick:Fe,role:"dialog","aria-modal":"true","aria-labelledby":"demo-modal-title",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-4 overflow-hidden max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"px-6 py-5",style:{background:f,color:O},children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[o===2&&t.jsx("button",{onClick:ge,className:"p-1.5 rounded-lg transition-colors",style:{color:O,backgroundColor:"transparent"},onMouseEnter:x=>x.target.style.backgroundColor="rgba(255,255,255,0.2)",onMouseLeave:x=>x.target.style.backgroundColor="transparent","aria-label":"Zur√ºck",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),t.jsx("h2",{id:"demo-modal-title",className:"text-xl font-semibold",style:{color:O},children:o===1?"Demo-Code eingeben":"Kontaktdaten"})]}),t.jsx("button",{onClick:me,className:"p-2 rounded-xl transition-colors",style:{color:O,backgroundColor:"transparent"},onMouseEnter:x=>x.target.style.backgroundColor="rgba(255,255,255,0.2)",onMouseLeave:x=>x.target.style.backgroundColor="transparent","aria-label":"Schlie√üen",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a&&o===1&&t.jsx("div",{className:"mt-3 mb-1 flex justify-center",children:t.jsx("img",{src:a,alt:`${i} Logo`,style:{height:"4rem",maxWidth:"100%",objectFit:"contain"}})}),t.jsxs("div",{className:"flex items-center justify-center gap-2 mt-3",children:[t.jsx("div",{className:"w-8 h-1 rounded-full transition-colors",style:{backgroundColor:O,opacity:o>=1?1:.3}}),t.jsx("div",{className:"w-8 h-1 rounded-full transition-colors",style:{backgroundColor:O,opacity:o>=2?1:.3}})]})]}),o===1&&t.jsxs("form",{onSubmit:Be,className:"p-6 space-y-4",children:[t.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-xl text-blue-700 text-sm",children:t.jsx("p",{children:"Willkommen zur Demo! Bitte geben Sie den Demo-Code ein, den Sie von uns erhalten haben."})}),I&&t.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-xl text-red-700 text-sm flex items-start gap-3",children:[t.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.jsx("span",{children:I})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"demo-code",className:"block text-[13px] font-medium text-gray-700 mb-1.5",children:["Demo-Code ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",id:"demo-code",value:c,onChange:x=>p(x.target.value.toUpperCase()),className:"w-full px-3.5 py-4 text-2xl font-semibold font-mono tracking-[4px] text-center border border-slate-200 rounded-xl outline-none transition-all bg-white focus:border-primary focus:ring-3 focus:ring-primary/30",placeholder:"XXXXX",maxLength:5,disabled:w,autoComplete:"off",autoFocus:!0})]}),t.jsx("button",{type:"submit",disabled:w,style:{width:"100%",padding:"14px 24px",fontSize:"16px",fontWeight:600,color:P,background:w?g.slate[400]:Z,border:"none",borderRadius:"12px",cursor:w?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",transition:"all 0.2s ease",opacity:w?.7:1,boxShadow:w?"none":`0 4px 14px ${J(g.indigo[500],.3)}`,marginTop:"16px"},onMouseEnter:x=>{w||(x.target.style.transform="translateY(-1px)",x.target.style.boxShadow=`0 6px 20px ${J(g.indigo[500],.4)}`)},onMouseLeave:x=>{x.target.style.transform="translateY(0)",x.target.style.boxShadow=w?"none":`0 4px 14px ${J(g.indigo[500],.3)}`},children:w?t.jsxs(t.Fragment,{children:[t.jsxs("svg",{fill:"none",viewBox:"0 0 24 24",style:{width:"20px",height:"20px",color:P,animation:"spin 1s linear infinite"},children:[t.jsx("circle",{style:{opacity:.25},cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{style:{opacity:.75},fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),t.jsx("span",{style:{color:P},children:"Wird √ºberpr√ºft..."})]}):t.jsxs(t.Fragment,{children:[t.jsx("svg",{fill:"none",viewBox:"0 0 24 24",stroke:P,style:{width:"20px",height:"20px"},children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),t.jsx("span",{style:{color:P},children:"Weiter"})]})}),t.jsxs("p",{className:"text-xs text-center text-gray-500 pt-2",children:["Haben Sie keinen Demo-Code? Kontaktieren Sie uns unter"," ",t.jsx("a",{href:"mailto:info@karriereheld.de",className:"underline",style:{color:$},children:"info@karriereheld.de"})]})]}),o===2&&t.jsxs("form",{onSubmit:$e,className:"p-6 space-y-4",children:[t.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-xl text-green-700 text-sm",children:t.jsxs("p",{children:[t.jsx("strong",{children:"Code g√ºltig!"})," Bitte geben Sie noch Ihre Kontaktdaten ein, um die Demo zu starten."]})}),I&&t.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-xl text-red-700 text-sm flex items-start gap-3",children:[t.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.jsx("span",{children:I})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"company-name",style:U,children:["Firma ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",id:"company-name",value:u,onChange:x=>y(x.target.value),style:q,onFocus:x=>Object.assign(x.target.style,Y),onBlur:x=>{x.target.style.borderColor=g.slate[200],x.target.style.boxShadow="none"},placeholder:"Ihre Firma",disabled:w,autoComplete:"organization",autoFocus:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"contact-name",style:U,children:["Ansprechpartner ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",id:"contact-name",value:b,onChange:x=>d(x.target.value),style:q,onFocus:x=>Object.assign(x.target.style,Y),onBlur:x=>{x.target.style.borderColor=g.slate[200],x.target.style.boxShadow="none"},placeholder:"Ihr Name",disabled:w,autoComplete:"name"})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"contact-email",style:U,children:["E-Mail ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"email",id:"contact-email",value:C,onChange:x=>D(x.target.value),style:q,onFocus:x=>Object.assign(x.target.style,Y),onBlur:x=>{x.target.style.borderColor=g.slate[200],x.target.style.boxShadow="none"},placeholder:"email@firma.de",disabled:w,autoComplete:"email"})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"homepage",style:U,children:["Homepage ",t.jsx("span",{className:"text-gray-400",children:"(optional)"})]}),t.jsx("input",{type:"url",id:"homepage",value:E,onChange:x=>v(x.target.value),style:q,onFocus:x=>Object.assign(x.target.style,Y),onBlur:x=>{x.target.style.borderColor=g.slate[200],x.target.style.boxShadow="none"},placeholder:"https://www.ihre-firma.de",disabled:w,autoComplete:"url"})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"phone",style:U,children:["Telefon ",t.jsx("span",{className:"text-gray-400",children:"(optional)"})]}),t.jsx("input",{type:"tel",id:"phone",value:K,onChange:x=>j(x.target.value),style:q,onFocus:x=>Object.assign(x.target.style,Y),onBlur:x=>{x.target.style.borderColor=g.slate[200],x.target.style.boxShadow="none"},placeholder:"+49 123 456789",disabled:w,autoComplete:"tel"})]}),t.jsxs("div",{className:"flex items-start gap-3 pt-2",children:[t.jsx("input",{type:"checkbox",id:"privacy-accepted",checked:F,onChange:x=>L(x.target.checked),className:"mt-1 w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500",disabled:w,style:{accentColor:$}}),t.jsxs("label",{htmlFor:"privacy-accepted",className:"text-sm text-gray-600",children:["Ich stimme den"," ",t.jsx("a",{href:"/datenschutz",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-gray-900",style:{color:$},children:"Datenschutzbestimmungen"})," ","zu. ",t.jsx("span",{className:"text-red-500",children:"*"})]})]}),t.jsx("button",{type:"submit",disabled:w,style:{width:"100%",padding:"14px 24px",fontSize:"16px",fontWeight:600,color:P,background:w?g.slate[400]:Z,border:"none",borderRadius:"12px",cursor:w?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",transition:"all 0.2s ease",opacity:w?.7:1,boxShadow:w?"none":`0 4px 14px ${J(g.indigo[500],.3)}`,marginTop:"16px"},onMouseEnter:x=>{w||(x.target.style.transform="translateY(-1px)",x.target.style.boxShadow=`0 6px 20px ${J(g.indigo[500],.4)}`)},onMouseLeave:x=>{x.target.style.transform="translateY(0)",x.target.style.boxShadow=w?"none":`0 4px 14px ${J(g.indigo[500],.3)}`},children:w?t.jsxs(t.Fragment,{children:[t.jsxs("svg",{fill:"none",viewBox:"0 0 24 24",style:{width:"20px",height:"20px",color:P,animation:"spin 1s linear infinite"},children:[t.jsx("circle",{style:{opacity:.25},cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{style:{opacity:.75},fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),t.jsx("span",{style:{color:P},children:"Wird aktiviert..."})]}):t.jsxs(t.Fragment,{children:[t.jsx("svg",{fill:"none",viewBox:"0 0 24 24",stroke:P,style:{width:"20px",height:"20px"},children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),t.jsx("span",{style:{color:P},children:"Demo starten"})]})})]})]})}):null}const Pn="demo";function zn({isOpen:e,onClose:n,onLoginSuccess:s}){const{login:r,logout:i,partnerName:a,logoUrl:o,setDemoCode:l}=he(),c=_n(),p=Rn(),[u,y]=h.useState(""),[b,d]=h.useState(""),[E,v]=h.useState(""),[C,D]=h.useState(!1),[K,j]=h.useState(!1),[F,L]=h.useState(null),I=async _=>{if(_.preventDefault(),v(""),!u.trim()||!b.trim()){v("Bitte geben Sie Benutzername und Passwort ein.");return}D(!0);try{const $=await r(u,b);if($.success)if(u.toLowerCase()===Pn)localStorage.setItem("bewerbungstrainer_demo_pending","true"),L($.user),j(!0),d("");else{y(""),d(""),console.log("üîê [LoginModal] Login successful, reloading page to apply auth cookies..."),window.location.reload();return}else v($.error||"Login fehlgeschlagen. Bitte versuchen Sie es erneut.")}catch($){console.error("Login error:",$),v("Ein Fehler ist aufgetreten. Bitte versuchen Sie es erneut.")}finally{D(!1)}},k=_=>{localStorage.removeItem("bewerbungstrainer_demo_pending"),l&&l(_),y(""),d(""),j(!1),s&&F&&s(F),n&&n()},w=async()=>{localStorage.removeItem("bewerbungstrainer_demo_pending");try{i&&await i()}catch(_){console.error("[LOGIN] Error logging out demo user:",_)}j(!1),L(null),y(""),d("")},G=()=>{v(""),y(""),d(""),n&&n()},V=_=>{_.target===_.currentTarget&&G()};return Le.useEffect(()=>{const _=$=>{$.key==="Escape"&&e&&G()};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[e]),e?t.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",onClick:V,role:"dialog","aria-modal":"true","aria-labelledby":"login-modal-title",children:[t.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-4 overflow-hidden",children:[t.jsxs("div",{className:"px-6 py-5",style:p.gradientHeader,children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h2",{id:"login-modal-title",className:"text-xl font-semibold",style:{color:c.headerText},children:"Anmelden"}),t.jsx("button",{onClick:G,className:"p-2 rounded-xl transition-colors hover:bg-white/20",style:{color:c.headerText},"aria-label":"Schlie√üen",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o&&t.jsx("div",{className:"mt-4 mb-2 flex justify-center",children:t.jsx("img",{src:o,alt:`${a} Logo`,className:"h-32 max-h-32 max-w-[280px] object-contain"})}),t.jsxs("p",{className:"text-sm mt-1 opacity-80",style:{color:c.headerText},children:["Bei ",a," anmelden"]})]}),t.jsxs("form",{onSubmit:I,className:"p-6 space-y-5",children:[E&&t.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-xl text-red-700 text-sm flex items-start gap-3",children:[t.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.jsx("span",{children:E})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"login-username",className:"block text-sm font-medium text-gray-700 mb-2",children:"Benutzername oder E-Mail"}),t.jsx("input",{type:"text",id:"login-username",value:u,onChange:_=>y(_.target.value),className:"w-full px-4 py-3 text-[15px] border border-slate-200 rounded-xl outline-none transition-all bg-white focus:border-primary focus:ring-3 focus:ring-primary/30",placeholder:"Ihr Benutzername",disabled:C,autoComplete:"username",autoFocus:!0})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"login-password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Passwort"}),t.jsx("input",{type:"password",id:"login-password",value:b,onChange:_=>d(_.target.value),className:"w-full px-4 py-3 text-[15px] border border-slate-200 rounded-xl outline-none transition-all bg-white focus:border-primary focus:ring-3 focus:ring-primary/30",placeholder:"Ihr Passwort",disabled:C,autoComplete:"current-password"})]}),t.jsx("button",{type:"submit",disabled:C,className:"w-full px-6 py-3.5 text-base rounded-xl flex items-center justify-center gap-2.5 transition-all duration-200 disabled:cursor-not-allowed disabled:opacity-70 disabled:bg-slate-400 hover:enabled:-translate-y-0.5 hover:enabled:shadow-lg",style:{...p.primaryButton,boxShadow:C?"none":c.coloredShadow(c.primaryAccent,"md"),background:C?c.disabledBg:p.primaryButton.background},children:C?t.jsxs(t.Fragment,{children:[t.jsxs("svg",{fill:"none",viewBox:"0 0 24 24",className:"w-5 h-5 animate-spin",style:{color:c.buttonText},children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),t.jsx("span",{style:{color:c.buttonText},children:"Wird angemeldet..."})]}):t.jsxs(t.Fragment,{children:[t.jsx("svg",{fill:"none",viewBox:"0 0 24 24",stroke:c.buttonText,className:"w-5 h-5",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),t.jsx("span",{style:{color:c.buttonText},children:"Anmelden"})]})}),t.jsx("p",{className:"text-xs text-center text-gray-500 pt-2",children:"Verwenden Sie Ihre WordPress-Zugangsdaten zur Anmeldung."})]})]}),t.jsx(Gn,{isOpen:K,onClose:w,onSuccess:k})]}):null}function Bn({isOpen:e,onClose:n,onAcknowledge:s}){const{branding:r,partnerName:i}=he(),[a,o]=h.useState(!1),[l,c]=h.useState(null),[p,u]=h.useState(!1),[y,b]=h.useState(""),d=r?.["--primary-accent"]||g.indigo[500],E=r?.["--button-gradient"]||Me.button,v=r?.["--header-gradient"]||Me.header,C=r?.["--header-text"]||g.white,D=r?.["--sidebar-text-color"]||g.white;h.useEffect(()=>{e&&K()},[e]);const K=async()=>{try{const I=window.bewerbungstrainerConfig?.apiUrl||"/wp-json/bewerbungstrainer/v1",w=await(await fetch(`${I}/disclaimer/status`,{method:"GET",headers:{"Content-Type":"application/json","X-WP-Nonce":window.bewerbungstrainerConfig?.nonce||""},credentials:"same-origin"})).json();w.success&&w.disclaimer&&c(w.disclaimer)}catch(I){console.error("[DISCLAIMER] Error fetching status:",I),b("Fehler beim Laden des Hinweises")}},j=async()=>{if(l){u(!0),b("");try{const I=window.bewerbungstrainerConfig?.apiUrl||"/wp-json/bewerbungstrainer/v1",w=await(await fetch(`${I}/disclaimer/acknowledge`,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":window.bewerbungstrainerConfig?.nonce||""},credentials:"same-origin",body:JSON.stringify({disclaimer_id:l.id,dont_show_again:a})})).json();w.success?(s&&s(a),n&&n()):b(w.message||"Fehler bei der Best√§tigung")}catch(I){console.error("[DISCLAIMER] Error acknowledging:",I),b("Ein Fehler ist aufgetreten")}finally{u(!1)}}},F=I=>{I.stopPropagation()};if(h.useEffect(()=>{const I=k=>{k.key==="Escape"&&e&&k.preventDefault()};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[e]),!e||!l)return null;const L=I=>I?I.split(`
`).map((k,w)=>k.trim()?t.jsx("p",{className:"mb-3 last:mb-0",children:k},w):null):null;return t.jsxs("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 z-[99999]",onClick:F,role:"dialog","aria-modal":"true","aria-labelledby":"disclaimer-modal-title",children:[t.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-[520px] max-h-[min(85vh,600px)] flex flex-col",children:[t.jsx("div",{className:"px-4 sm:px-6 py-4 flex-shrink-0 rounded-t-2xl",style:{background:v,color:C},children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-xl hidden sm:flex bg-white/20",children:t.jsx(rn,{className:"w-5 h-5",style:{color:C}})}),t.jsxs("div",{children:[t.jsx("h2",{id:"disclaimer-modal-title",className:"text-lg sm:text-xl font-semibold",style:{color:C},children:l.title}),t.jsxs("p",{className:"text-xs sm:text-sm mt-0.5 opacity-80",style:{color:C},children:["Version ",l.version]})]})]})}),t.jsxs("div",{className:"p-5 sm:p-6 overflow-y-auto flex-1",children:[y&&t.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-xl text-red-700 text-sm flex items-start gap-3",children:[t.jsx(an,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),t.jsx("span",{children:y})]}),t.jsx("div",{className:"bg-slate-50 rounded-xl p-4 border border-slate-200 mb-4 overflow-y-auto",style:{maxHeight:"180px"},children:t.jsx("div",{className:"text-gray-700 text-sm leading-relaxed",children:L(l.content)})}),t.jsxs("div",{className:"flex items-start gap-2 sm:gap-3 p-3 sm:p-4 bg-blue-50 rounded-xl border border-blue-100 mb-4",children:[t.jsx(on,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600 flex-shrink-0 mt-0.5"}),t.jsxs("p",{className:"text-xs sm:text-sm text-blue-700",children:["Mit der Best√§tigung akzeptieren Sie diese Nutzungshinweise f√ºr ",i,"."]})]}),t.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group mb-4 sm:mb-5",children:[t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"checkbox",checked:a,onChange:I=>o(I.target.checked),className:"sr-only"}),t.jsx("div",{className:"w-5 h-5 rounded border-2 transition-all flex items-center justify-center",style:{borderColor:a?d:g.slate[300],backgroundColor:a?d:"transparent"},children:a&&t.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})]}),t.jsx("span",{className:"text-sm text-gray-700 group-hover:text-gray-900 transition-colors",children:"Diesen Hinweis nicht mehr anzeigen"})]}),t.jsx("button",{onClick:j,disabled:p,className:"w-full px-5 py-3 text-[15px] font-semibold border-none rounded-xl cursor-pointer flex items-center justify-center gap-2.5 transition-all shadow-lg disabled:cursor-not-allowed disabled:opacity-70 disabled:shadow-none hover:enabled:-translate-y-0.5 hover:enabled:shadow-xl",style:{color:D,background:p?g.slate[400]:E},children:p?t.jsxs(t.Fragment,{children:[t.jsxs("svg",{fill:"none",viewBox:"0 0 24 24",className:"w-[18px] h-[18px] animate-spin",style:{color:D},children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),t.jsx("span",{style:{color:D},children:"Wird gespeichert..."})]}):t.jsx("span",{style:{color:D},children:"Verstanden"})}),t.jsx("p",{className:"text-xs text-center text-gray-500 mt-3",children:a?"Sie werden diesen Hinweis bei zuk√ºnftigen Anmeldungen nicht mehr sehen.":"Dieser Hinweis wird bei jeder Anmeldung angezeigt."})]})]}),t.jsx("style",{children:`
          @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
          }
        `})]})}function Kn(){const[e,n]=h.useState(!1),[s,r]=h.useState(!1),[i,a]=h.useState(!1);return{isOpen:e,needsDisclaimer:s,isChecking:i,openDisclaimerModal:()=>n(!0),closeDisclaimerModal:()=>{n(!1),r(!1)},checkDisclaimerStatus:async()=>{a(!0);try{const p=window.bewerbungstrainerConfig?.apiUrl||"/wp-json/bewerbungstrainer/v1",y=await(await fetch(`${p}/disclaimer/status`,{method:"GET",headers:{"Content-Type":"application/json","X-WP-Nonce":window.bewerbungstrainerConfig?.nonce||""},credentials:"same-origin"})).json();if(y.success){const b=y.needs_acknowledgment;return r(b),b&&n(!0),b}return!1}catch(p){return console.error("[DISCLAIMER] Error checking status:",p),!1}finally{a(!1)}}}}const m={HOME:"/",OVERVIEW:"/uebersicht",LIVE_TRAINING:"/live-training",LIVE_TRAINING_SETUP:"/live-training/vorbereitung",LIVE_TRAINING_DEVICES:"/live-training/geraete",LIVE_TRAINING_SESSION:"/live-training/session",LIVE_TRAINING_PROXY:"/live-training/session-proxy",SCENARIO_TRAINING:"/szenario-training",VIDEO_TRAINING:"/wirkungs-analyse",SMART_BRIEFING:"/smart-briefing",DECISION_BOARD:"/entscheidungs-kompass",IKIGAI:"/ikigai-kompass",RHETORIK_GYM:"/rhetorik-gym",RHETORIK_GYM_SESSION:"/rhetorik-gym/session",HISTORY:"/verlauf",SESSION_DETAIL:"/verlauf/:sessionType/:sessionId",USAGE_LIMITS:"/nutzung",ADMIN:"/admin",ADMIN_ROLEPLAYS:"/admin/szenarien",ADMIN_SIMULATOR:"/admin/simulator",ADMIN_VIDEO:"/admin/video",ADMIN_PARTNERS:"/admin/partner"},Un=[];function Wn(e){return Un.some(n=>e===n||e.startsWith(n+"/"))}const Vn={overview:m.OVERVIEW,dashboard:m.LIVE_TRAINING,roleplay_variables:m.LIVE_TRAINING_SETUP,roleplay_device_setup:m.LIVE_TRAINING_DEVICES,roleplay:m.LIVE_TRAINING_SESSION,roleplay_proxy:m.LIVE_TRAINING_PROXY,simulator:m.SCENARIO_TRAINING,video_training:m.VIDEO_TRAINING,smart_briefing:m.SMART_BRIEFING,decision_board:m.DECISION_BOARD,ikigai:m.IKIGAI,history:m.HISTORY,session_detail:m.SESSION_DETAIL,usage_limits:m.USAGE_LIMITS,gym:m.RHETORIK_GYM,gym_klassiker:m.RHETORIK_GYM,gym_session:m.RHETORIK_GYM_SESSION,admin:m.ADMIN,admin_roleplays:m.ADMIN_ROLEPLAYS,admin_simulator:m.ADMIN_SIMULATOR,admin_video:m.ADMIN_VIDEO,admin_partners:m.ADMIN_PARTNERS},Qe={[m.HOME]:"overview",[m.OVERVIEW]:"overview",[m.LIVE_TRAINING]:"dashboard",[m.LIVE_TRAINING_SETUP]:"dashboard",[m.LIVE_TRAINING_DEVICES]:"dashboard",[m.LIVE_TRAINING_SESSION]:"dashboard",[m.LIVE_TRAINING_PROXY]:"dashboard",[m.SCENARIO_TRAINING]:"simulator",[m.VIDEO_TRAINING]:"video_training",[m.SMART_BRIEFING]:"smart_briefing",[m.DECISION_BOARD]:"decision_board",[m.IKIGAI]:"ikigai",[m.RHETORIK_GYM]:"gym_klassiker",[m.RHETORIK_GYM_SESSION]:"gym_klassiker",[m.HISTORY]:"history",[m.USAGE_LIMITS]:"usage_limits",[m.ADMIN]:"admin",[m.ADMIN_ROLEPLAYS]:"admin_roleplays",[m.ADMIN_SIMULATOR]:"admin_simulator",[m.ADMIN_VIDEO]:"admin_video",[m.ADMIN_PARTNERS]:"admin_partners"};function Hn(e){return Qe[e]?Qe[e]:e.startsWith("/verlauf/")?"history":"overview"}var et;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(et||(et={}));var tt;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(tt||(tt={}));var nt;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(nt||(nt={}));const st=["user","model","function","system"];var rt;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT"})(rt||(rt={}));var it;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(it||(it={}));var at;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(at||(at={}));var ot;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(ot||(ot={}));var be;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER"})(be||(be={}));var lt;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(lt||(lt={}));var ct;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(ct||(ct={}));var dt;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(dt||(dt={}));class z extends Error{constructor(n){super(`[GoogleGenerativeAI Error]: ${n}`)}}class ce extends z{constructor(n,s){super(n),this.response=s}}class kt extends z{constructor(n,s,r,i){super(n),this.status=s,this.statusText=r,this.errorDetails=i}}class ne extends z{}const Yn="https://generativelanguage.googleapis.com",Jn="v1beta",qn="0.21.0",Zn="genai-js";var ae;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(ae||(ae={}));class Xn{constructor(n,s,r,i,a){this.model=n,this.task=s,this.apiKey=r,this.stream=i,this.requestOptions=a}toString(){var n,s;const r=((n=this.requestOptions)===null||n===void 0?void 0:n.apiVersion)||Jn;let a=`${((s=this.requestOptions)===null||s===void 0?void 0:s.baseUrl)||Yn}/${r}/${this.model}:${this.task}`;return this.stream&&(a+="?alt=sse"),a}}function Qn(e){const n=[];return e?.apiClient&&n.push(e.apiClient),n.push(`${Zn}/${qn}`),n.join(" ")}async function es(e){var n;const s=new Headers;s.append("Content-Type","application/json"),s.append("x-goog-api-client",Qn(e.requestOptions)),s.append("x-goog-api-key",e.apiKey);let r=(n=e.requestOptions)===null||n===void 0?void 0:n.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(i){throw new ne(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${i.message}`)}for(const[i,a]of r.entries()){if(i==="x-goog-api-key")throw new ne(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new ne(`Header name ${i} can only be set using the apiClient field`);s.append(i,a)}}return s}async function ts(e,n,s,r,i,a){const o=new Xn(e,n,s,r,a);return{url:o.toString(),fetchOptions:Object.assign(Object.assign({},is(a)),{method:"POST",headers:await es(o),body:i})}}async function Ne(e,n,s,r,i,a={},o=fetch){const{url:l,fetchOptions:c}=await ts(e,n,s,r,i,a);return ns(l,c,o)}async function ns(e,n,s=fetch){let r;try{r=await s(e,n)}catch(i){ss(i,e)}return r.ok||await rs(r,e),r}function ss(e,n){let s=e;throw e instanceof kt||e instanceof ne||(s=new z(`Error fetching from ${n.toString()}: ${e.message}`),s.stack=e.stack),s}async function rs(e,n){let s="",r;try{const i=await e.json();s=i.error.message,i.error.details&&(s+=` ${JSON.stringify(i.error.details)}`,r=i.error.details)}catch{}throw new kt(`Error fetching from ${n.toString()}: [${e.status} ${e.statusText}] ${s}`,e.status,e.statusText,r)}function is(e){const n={};if(e?.signal!==void 0||e?.timeout>=0){const s=new AbortController;e?.timeout>=0&&setTimeout(()=>s.abort(),e.timeout),e?.signal&&e.signal.addEventListener("abort",()=>{s.abort()}),n.signal=s.signal}return n}function Pe(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),je(e.candidates[0]))throw new ce(`${te(e)}`,e);return as(e)}else if(e.promptFeedback)throw new ce(`Text not available. ${te(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),je(e.candidates[0]))throw new ce(`${te(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),ut(e)[0]}else if(e.promptFeedback)throw new ce(`Function call not available. ${te(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),je(e.candidates[0]))throw new ce(`${te(e)}`,e);return ut(e)}else if(e.promptFeedback)throw new ce(`Function call not available. ${te(e)}`,e)},e}function as(e){var n,s,r,i;const a=[];if(!((s=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||s===void 0)&&s.parts)for(const o of(i=(r=e.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)o.text&&a.push(o.text),o.executableCode&&a.push("\n```"+o.executableCode.language+`
`+o.executableCode.code+"\n```\n"),o.codeExecutionResult&&a.push("\n```\n"+o.codeExecutionResult.output+"\n```\n");return a.length>0?a.join(""):""}function ut(e){var n,s,r,i;const a=[];if(!((s=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||s===void 0)&&s.parts)for(const o of(i=(r=e.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)o.functionCall&&a.push(o.functionCall);if(a.length>0)return a}const os=[be.RECITATION,be.SAFETY,be.LANGUAGE];function je(e){return!!e.finishReason&&os.includes(e.finishReason)}function te(e){var n,s,r;let i="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)i+="Response was blocked",!((n=e.promptFeedback)===null||n===void 0)&&n.blockReason&&(i+=` due to ${e.promptFeedback.blockReason}`),!((s=e.promptFeedback)===null||s===void 0)&&s.blockReasonMessage&&(i+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((r=e.candidates)===null||r===void 0)&&r[0]){const a=e.candidates[0];je(a)&&(i+=`Candidate was blocked due to ${a.finishReason}`,a.finishMessage&&(i+=`: ${a.finishMessage}`))}return i}function Se(e){return this instanceof Se?(this.v=e,this):new Se(e)}function ls(e,n,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=s.apply(e,n||[]),i,a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(b){r[b]&&(i[b]=function(d){return new Promise(function(E,v){a.push([b,d,E,v])>1||l(b,d)})})}function l(b,d){try{c(r[b](d))}catch(E){y(a[0][3],E)}}function c(b){b.value instanceof Se?Promise.resolve(b.value.v).then(p,u):y(a[0][2],b)}function p(b){l("next",b)}function u(b){l("throw",b)}function y(b,d){b(d),a.shift(),a.length&&l(a[0][0],a[0][1])}}const ht=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function cs(e){const n=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),s=hs(n),[r,i]=s.tee();return{stream:us(r),response:ds(i)}}async function ds(e){const n=[],s=e.getReader();for(;;){const{done:r,value:i}=await s.read();if(r)return Pe(ms(n));n.push(i)}}function us(e){return ls(this,arguments,function*(){const s=e.getReader();for(;;){const{value:r,done:i}=yield Se(s.read());if(i)break;yield yield Se(Pe(r))}})}function hs(e){const n=e.getReader();return new ReadableStream({start(r){let i="";return a();function a(){return n.read().then(({value:o,done:l})=>{if(l){if(i.trim()){r.error(new z("Failed to parse stream"));return}r.close();return}i+=o;let c=i.match(ht),p;for(;c;){try{p=JSON.parse(c[1])}catch{r.error(new z(`Error parsing JSON response: "${c[1]}"`));return}r.enqueue(p),i=i.substring(c[0].length),c=i.match(ht)}return a()})}}})}function ms(e){const n=e[e.length-1],s={promptFeedback:n?.promptFeedback};for(const r of e){if(r.candidates)for(const i of r.candidates){const a=i.index;if(s.candidates||(s.candidates=[]),s.candidates[a]||(s.candidates[a]={index:i.index}),s.candidates[a].citationMetadata=i.citationMetadata,s.candidates[a].groundingMetadata=i.groundingMetadata,s.candidates[a].finishReason=i.finishReason,s.candidates[a].finishMessage=i.finishMessage,s.candidates[a].safetyRatings=i.safetyRatings,i.content&&i.content.parts){s.candidates[a].content||(s.candidates[a].content={role:i.content.role||"user",parts:[]});const o={};for(const l of i.content.parts)l.text&&(o.text=l.text),l.functionCall&&(o.functionCall=l.functionCall),l.executableCode&&(o.executableCode=l.executableCode),l.codeExecutionResult&&(o.codeExecutionResult=l.codeExecutionResult),Object.keys(o).length===0&&(o.text=""),s.candidates[a].content.parts.push(o)}}r.usageMetadata&&(s.usageMetadata=r.usageMetadata)}return s}async function _t(e,n,s,r){const i=await Ne(n,ae.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(s),r);return cs(i)}async function Rt(e,n,s,r){const a=await(await Ne(n,ae.GENERATE_CONTENT,e,!1,JSON.stringify(s),r)).json();return{response:Pe(a)}}function Ct(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function Ee(e){let n=[];if(typeof e=="string")n=[{text:e}];else for(const s of e)typeof s=="string"?n.push({text:s}):n.push(s);return gs(n)}function gs(e){const n={role:"user",parts:[]},s={role:"function",parts:[]};let r=!1,i=!1;for(const a of e)"functionResponse"in a?(s.parts.push(a),i=!0):(n.parts.push(a),r=!0);if(r&&i)throw new z("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!i)throw new z("No content is provided for sending chat message.");return r?n:s}function ps(e,n){var s;let r={model:n?.model,generationConfig:n?.generationConfig,safetySettings:n?.safetySettings,tools:n?.tools,toolConfig:n?.toolConfig,systemInstruction:n?.systemInstruction,cachedContent:(s=n?.cachedContent)===null||s===void 0?void 0:s.name,contents:[]};const i=e.generateContentRequest!=null;if(e.contents){if(i)throw new ne("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=e.contents}else if(i)r=Object.assign(Object.assign({},r),e.generateContentRequest);else{const a=Ee(e);r.contents=[a]}return{generateContentRequest:r}}function mt(e){let n;return e.contents?n=e:n={contents:[Ee(e)]},e.systemInstruction&&(n.systemInstruction=Ct(e.systemInstruction)),n}function fs(e){return typeof e=="string"||Array.isArray(e)?{content:Ee(e)}:e}const gt=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],xs={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function bs(e){let n=!1;for(const s of e){const{role:r,parts:i}=s;if(!n&&r!=="user")throw new z(`First content should be with role 'user', got ${r}`);if(!st.includes(r))throw new z(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(st)}`);if(!Array.isArray(i))throw new z("Content should have 'parts' property with an array of Parts");if(i.length===0)throw new z("Each Content should have at least one part");const a={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const l of i)for(const c of gt)c in l&&(a[c]+=1);const o=xs[r];for(const l of gt)if(!o.includes(l)&&a[l]>0)throw new z(`Content with role '${r}' can't contain '${l}' part`);n=!0}}const pt="SILENT_ERROR";class ys{constructor(n,s,r,i={}){this.model=s,this.params=r,this._requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=n,r?.history&&(bs(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(n,s={}){var r,i,a,o,l,c;await this._sendPromise;const p=Ee(n),u={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(a=this.params)===null||a===void 0?void 0:a.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,p]},y=Object.assign(Object.assign({},this._requestOptions),s);let b;return this._sendPromise=this._sendPromise.then(()=>Rt(this._apiKey,this.model,u,y)).then(d=>{var E;if(d.response.candidates&&d.response.candidates.length>0){this._history.push(p);const v=Object.assign({parts:[],role:"model"},(E=d.response.candidates)===null||E===void 0?void 0:E[0].content);this._history.push(v)}else{const v=te(d.response);v&&console.warn(`sendMessage() was unsuccessful. ${v}. Inspect response object for details.`)}b=d}),await this._sendPromise,b}async sendMessageStream(n,s={}){var r,i,a,o,l,c;await this._sendPromise;const p=Ee(n),u={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(a=this.params)===null||a===void 0?void 0:a.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,p]},y=Object.assign(Object.assign({},this._requestOptions),s),b=_t(this._apiKey,this.model,u,y);return this._sendPromise=this._sendPromise.then(()=>b).catch(d=>{throw new Error(pt)}).then(d=>d.response).then(d=>{if(d.candidates&&d.candidates.length>0){this._history.push(p);const E=Object.assign({},d.candidates[0].content);E.role||(E.role="model"),this._history.push(E)}else{const E=te(d);E&&console.warn(`sendMessageStream() was unsuccessful. ${E}. Inspect response object for details.`)}}).catch(d=>{d.message!==pt&&console.error(d)}),b}}async function Ss(e,n,s,r){return(await Ne(n,ae.COUNT_TOKENS,e,!1,JSON.stringify(s),r)).json()}async function Es(e,n,s,r){return(await Ne(n,ae.EMBED_CONTENT,e,!1,JSON.stringify(s),r)).json()}async function ws(e,n,s,r){const i=s.requests.map(o=>Object.assign(Object.assign({},o),{model:n}));return(await Ne(n,ae.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:i}),r)).json()}class ft{constructor(n,s,r={}){this.apiKey=n,this._requestOptions=r,s.model.includes("/")?this.model=s.model:this.model=`models/${s.model}`,this.generationConfig=s.generationConfig||{},this.safetySettings=s.safetySettings||[],this.tools=s.tools,this.toolConfig=s.toolConfig,this.systemInstruction=Ct(s.systemInstruction),this.cachedContent=s.cachedContent}async generateContent(n,s={}){var r;const i=mt(n),a=Object.assign(Object.assign({},this._requestOptions),s);return Rt(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),a)}async generateContentStream(n,s={}){var r;const i=mt(n),a=Object.assign(Object.assign({},this._requestOptions),s);return _t(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),a)}startChat(n){var s;return new ys(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},n),this._requestOptions)}async countTokens(n,s={}){const r=ps(n,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),i=Object.assign(Object.assign({},this._requestOptions),s);return Ss(this.apiKey,this.model,r,i)}async embedContent(n,s={}){const r=fs(n),i=Object.assign(Object.assign({},this._requestOptions),s);return Es(this.apiKey,this.model,r,i)}async batchEmbedContents(n,s={}){const r=Object.assign(Object.assign({},this._requestOptions),s);return ws(this.apiKey,this.model,n,r)}}class Is{constructor(n){this.apiKey=n}getGenerativeModel(n,s){if(!n.model)throw new z("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new ft(this.apiKey,n,s)}getGenerativeModelFromCachedContent(n,s,r){if(!n.name)throw new ne("Cached content must contain a `name` field.");if(!n.model)throw new ne("Cached content must contain a `model` field.");const i=["model","systemInstruction"];for(const o of i)if(s?.[o]&&n[o]&&s?.[o]!==n[o]){if(o==="model"){const l=s.model.startsWith("models/")?s.model.replace("models/",""):s.model,c=n.model.startsWith("models/")?n.model.replace("models/",""):n.model;if(l===c)continue}throw new ne(`Different value for "${o}" specified in modelParams (${s[o]}) and cachedContent (${n[o]})`)}const a=Object.assign(Object.assign({},s),{model:n.model,tools:n.tools,toolConfig:n.toolConfig,systemInstruction:n.systemInstruction,cachedContent:n});return new ft(this.apiKey,a,r)}}const Tt={FALLBACK_ORDER:["gemini-2.5-flash","gemini-2.0-flash","gemini-1.5-flash-latest"]},we={API_KEY_MISSING:"Gemini API key is required",AUDIO_FILE_MISSING:"Audio file is required",TRANSCRIPT_EMPTY:"Transcript is empty",JSON_PARSE_FAILED:"Fehler beim Parsen der Antwort"},xt={general:{role:"Kommunikations-Coach",intro:"Du bist ein erfahrener Kommunikations-Coach. Analysiere das folgende Gespr√§ch und gib konstruktives, praxisnahes Feedback auf Deutsch.",ratingDimensions:{overall:"Gesamteindruck",communication:"Kommunikation",empathy:"Empathie",goal_achievement:"Zielerreichung"},analysisFocus:["Klarheit und Struktur der Kommunikation","Aktives Zuh√∂ren und Eingehen auf den Gespr√§chspartner","√úberzeugungskraft und Argumentation","Professionalit√§t und Auftreten"]},interview:{role:"Karriere-Coach",intro:"Du bist ein erfahrener Karriere-Coach und Interview-Trainer. Analysiere das folgende Vorstellungsgespr√§ch und gib konstruktives, praxisnahes Feedback auf Deutsch.",ratingDimensions:{overall:"Gesamteindruck",communication:"Kommunikation & Pr√§sentation",motivation:"Motivation & Begeisterung",preparation:"Vorbereitung & Fachwissen"},analysisFocus:["Struktur und Klarheit der Antworten (STAR-Methode)","Relevante Beispiele und messbare Erfolge","Authentische Motivation und Interesse","Selbstbewusstsein und professionelles Auftreten"]},sales:{role:"Vertriebs-Coach",intro:"Du bist ein erfahrener Sales-Coach und Vertriebstrainer. Analysiere das folgende Verkaufsgespr√§ch und gib konstruktives, praxisnahes Feedback auf Deutsch.",ratingDimensions:{overall:"Gesamteindruck",needs_analysis:"Bedarfsanalyse",objection_handling:"Einwandbehandlung",closing:"Abschlusstechnik"},analysisFocus:["Qualit√§t der Bedarfsanalyse und Fragetechnik","Nutzenargumentation und Mehrwert-Kommunikation","Umgang mit Einw√§nden und Preisdiskussionen","Verbindlichkeit und Abschlussorientierung"]},leadership:{role:"F√ºhrungskr√§fte-Coach",intro:"Du bist ein erfahrener Leadership-Coach und F√ºhrungskr√§ftetrainer. Analysiere das folgende F√ºhrungsgespr√§ch und gib konstruktives, praxisnahes Feedback auf Deutsch.",ratingDimensions:{overall:"Gesamteindruck",clarity:"Klarheit & Erwartungen",empathy:"Empathie & Wertsch√§tzung",delegation:"Delegation & Empowerment"},analysisFocus:["Klarheit in der Kommunikation von Zielen und Erwartungen","Wertsch√§tzung und Anerkennung des Mitarbeiters","Balance zwischen F√ºhrung und Autonomie","Konstruktives Feedback und Entwicklungsorientierung"]},conflict:{role:"Konflikt- und Mediations-Coach",intro:"Du bist ein erfahrener Konflikt-Coach und Mediator. Analysiere das folgende Konfliktgespr√§ch und gib konstruktives, praxisnahes Feedback auf Deutsch.",ratingDimensions:{overall:"Gesamteindruck",de_escalation:"Deeskalation",active_listening:"Aktives Zuh√∂ren",solution_focus:"L√∂sungsorientierung"},analysisFocus:["Deeskalationstechniken und Ruhe bewahren","Aktives Zuh√∂ren und Verst√§ndnis zeigen","Neutralit√§t und Allparteilichkeit","Konstruktive L√∂sungsfindung"]},customer:{role:"Kundenservice-Coach",intro:"Du bist ein erfahrener Service-Coach und Kundenservice-Trainer. Analysiere das folgende Kundengespr√§ch und gib konstruktives, praxisnahes Feedback auf Deutsch.",ratingDimensions:{overall:"Gesamteindruck",problem_solving:"Probleml√∂sung",friendliness:"Freundlichkeit",efficiency:"Effizienz"},analysisFocus:["Schnelle und effektive Probleml√∂sung","Freundlichkeit und Serviceorientierung","Klare Kommunikation und Verst√§ndlichkeit","Proaktives Handeln und Kundenerwartungen √ºbertreffen"]}};function Ns(e,n,s,r){const i=n||e.intro,a=e.ratingDimensions,o=e.analysisFocus;Object.keys(a).forEach(p=>{});const l=Object.entries(a).map(([p,u])=>`    "${p}": "1-10 f√ºr ${u}"`).join(`,
`);let c=`${i}

## BEWERTUNGS-DIMENSIONEN
${Object.entries(a).map(([p,u])=>`- **${u}** (${p})`).join(`
`)}

## ANALYSE-FOKUS
${o.map(p=>`- ${p}`).join(`
`)}
`;return s&&(c+=`
## ZUS√ÑTZLICHER FOKUS
${s}
`),c+=`
## BEWERTUNGSSKALA (1-10)
- 1-3: Deutliche Defizite, grundlegende Verbesserungen n√∂tig
- 4-5: Basis vorhanden, aber wichtige Aspekte fehlen
- 6-7: Solide Leistung mit Verbesserungspotenzial
- 8-9: Sehr gut, nur Feinschliff n√∂tig
- 10: Exzellent, kaum Verbesserungspotenzial

## AUSGABEFORMAT
Antworte NUR mit diesem JSON-Objekt:
{
  "summary": "2-3 S√§tze Gesamteindruck - was war der rote Faden?",
  "strengths": [
    "St√§rke 1: Konkrete positive Beobachtung mit Beispiel aus dem Gespr√§ch",
    "St√§rke 2: Was gut gemacht wurde"
  ],
  "improvements": [
    "Verbesserung 1: Was genau war suboptimal und warum?",
    "Verbesserung 2: Konkreter Verbesserungsbereich"
  ],
  "tips": [
    "Tipp 1: Konkreter, sofort umsetzbarer Ratschlag",
    "Tipp 2: Praktische Empfehlung f√ºr das n√§chste Gespr√§ch"
  ],
  "rating": {
${l}
  }
}

## WICHTIG
- Gib 2-4 Items pro Kategorie (strengths, improvements, tips)
- Beziehe dich auf KONKRETE Aussagen aus dem Transkript
- Formuliere Verbesserungen konstruktiv, nicht kritisierend
- Tipps m√ºssen sofort umsetzbar sein
- Bewerte NUR den/die ${r}, NICHT den Gespr√§chspartner`,c}function vs(e,n={}){const{coachType:s="general",customIntro:r="",extraFocus:i="",feedbackPrompt:a="",roleType:o="interview",userRoleLabel:l="Bewerber",agentRoleLabel:c="Gespr√§chspartner"}=n;if(a&&a.trim())return As(a,e);const p=xt[s]||xt.general;return`${Ns(p,r,i,l)}

---
TRANSKRIPT:
${e}

JSON Feedback:`}const bt=`
WICHTIG: Antworte NUR mit einem JSON-Objekt in diesem Format:
{
  "summary": "Eine kurze Zusammenfassung des Gesamteindrucks (2-3 S√§tze)",
  "strengths": [
    "St√§rke 1: Konkrete positive Beobachtung",
    "St√§rke 2: Was gut gemacht wurde"
  ],
  "improvements": [
    "Verbesserung 1: Konkreter Verbesserungsbereich",
    "Verbesserung 2: Was besser gemacht werden k√∂nnte"
  ],
  "tips": [
    "Tipp 1: Konkrete, umsetzbare Empfehlung",
    "Tipp 2: Praktischer Ratschlag"
  ]
}`;function As(e,n){if(e.includes("${transcript}")){const s=e.replace("${transcript}",n);return s.toLowerCase().includes('"summary"')||s.toLowerCase().includes('"strengths"')?s:`${s}
${bt}`}return`${e}

=== TRANSKRIPT ===
${n}
=== ENDE TRANSKRIPT ===

Analysiere das obige Transkript und gib dein Feedback.
${bt}`}const ks=["√Ñhm","√Ñh","√ñh","Mh","Halt","Eigentlich","Sozusagen","Quasi","Irgendwie","Also","Genau","Ja also"];function jt(){return`${ks.slice(0,9).map(n=>`"${n}"`).join(", ")}, "Also" (am Satzanfang), "Genau" (als F√ºllwort), "Ja also"`}const ie="[Keine Sprache erkannt]";function Ot(){return`ABSOLUTE REGEL - KEINE HALLUZINATION:
Du DARFST NUR transkribieren, was TATS√ÑCHLICH in der Audio-Datei gesprochen wird.
- Bei Stille, Rauschen, oder unverst√§ndlichem Audio: transcript = "${ie}"
- Bei nur 1-2 Sekunden Audio ohne klare Sprache: transcript = "${ie}"
- ERFINDE NIEMALS W√∂rter, S√§tze oder Inhalte!
- Wenn du unsicher bist, ob etwas gesagt wurde: NICHT transkribieren!
- Wenn jemand nur "Wei√ü ich nicht" oder "Keine Ahnung" sagt, transkribiere GENAU DAS
- Eine kurze Antwort wie "Ich wei√ü es nicht" ist eine valide Transkription
- HALLUZINIERE KEINE ausf√ºhrlichen Antworten wenn der Sprecher das nicht gesagt hat`}function Mt(e="game"){const n="Es wurde keine Sprache erkannt. Bitte stellen Sie sicher, dass Ihr Mikrofon funktioniert und Sie w√§hrend der Aufnahme sprechen.";switch(e){case"game":return{transcript:ie,filler_words:[],content_score:0,content_feedback:n};case"analysis":return{audio_metrics:{summary_text:n,confidence_score:0,speech_cleanliness:{score:0,total_filler_count:0,filler_word_analysis:[],feedback:"Keine Sprache zur Analyse erkannt."},pacing:{rating:"keine_sprache",estimated_wpm:0,issues_detected:[],feedback:"Keine Sprache zur Analyse erkannt."},tonality:{rating:"keine_sprache",emotional_tone:"neutral",highlights:[],feedback:"Keine Sprache zur Analyse erkannt."}}};case"simulator":return{transcript:ie,feedback:{summary:n,strengths:[],improvements:["Bitte versuchen Sie es erneut und sprechen Sie klar und deutlich ins Mikrofon."],tips:["Achten Sie darauf, dass Ihr Mikrofon funktioniert und nicht stummgeschaltet ist."],scores:{content:0,structure:0,relevance:0,delivery:0,overall:0}},audio_metrics:{speech_rate:"keine_sprache",filler_words:{count:0,words:[],severity:"keine"},confidence_score:0,clarity_score:0,notes:"Keine Sprache erkannt"}};default:return{transcript:ie,error:n}}}const Dt=5e3;function _s(e={}){const{userRoleLabel:n="Bewerber",agentRoleLabel:s="Gespr√§chspartner",roleType:r="interview",hasTwoVoices:i=!0,transcript:a=null}=e,o=i?`
WICHTIG - STIMMEN-TRENNUNG:
Die Aufnahme enth√§lt ZWEI Stimmen:
1. ${s.toUpperCase()} (KI-Stimme, synthetisch, akzentfrei)
2. ${n.toUpperCase()} (menschliche Stimme, nat√ºrliche Varianz)

Der/Die ${s} er√∂ffnet typischerweise das Gespr√§ch.
Analysiere AUSSCHLIESSLICH die Stimme des/der ${n.toUpperCase()}.
Ignoriere alle √Ñu√üerungen des/der ${s} komplett.
`:`
STIMM-ANALYSE:
Die Aufnahme enth√§lt nur EINE Stimme: ${n.toUpperCase()}.
Analysiere diese Stimme vollst√§ndig.
`,l=a?`
TRANSKRIPT-REFERENZ:
Das folgende Transkript zeigt, wer was gesagt hat. Nutze es zur Orientierung:

${a}

Hinweis: Das Transkript hilft bei der Zuordnung. Die paraverbale Analyse (WIE etwas gesagt wird)
basiert aber auf dem AUDIO - nicht auf dem Text.
`:"";return`Du bist ein professioneller Voice-Coach und Kommunikationsexperte bei "KarriereHeld".
Deine Aufgabe: Analysiere die paraverbale Kommunikation im Audio.

Paraverbal = WIE etwas gesagt wird (nicht WAS gesagt wird).

${Ot()}
${o}
${l}
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
ANALYSE-DIMENSIONEN (nur ${n.toUpperCase()})
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

1. F√úLLW√ñRTER (Speech Cleanliness)
   ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
   Erkenne diese F√ºllw√∂rter: ${jt()}

   F√ºr jedes F√ºllwort dokumentiere:
   - Exakter Zeitstempel (MM:SS)
   - Kontext (z.B. "Satzanfang", "beim Nachdenken", "Themenwechsel")

   Bewertungsma√üstab:
   - 0 F√ºllw√∂rter: 100 Punkte (Exzellent)
   - 1-2 F√ºllw√∂rter: 85-95 Punkte (Sehr gut)
   - 3-5 F√ºllw√∂rter: 65-80 Punkte (Akzeptabel)
   - 6-10 F√ºllw√∂rter: 40-60 Punkte (Verbesserungsbedarf)
   - 10+ F√ºllw√∂rter: 0-35 Punkte (Deutlicher √úbungsbedarf)

2. SPRECHTEMPO (Pacing)
   ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
   Optimales Tempo: 120-150 W√∂rter pro Minute (WPM)

   Achte auf:
   - Durchschnittliches Tempo
   - Tempo-Variationen (monoton vs. dynamisch)
   - Auff√§llige Stellen (zu schnell/langsam) mit Zeitstempel

   Bewertung:
   - "optimal": 120-150 WPM, nat√ºrliche Variation
   - "zu_schnell": >160 WPM, gehetzt, atemlos
   - "zu_langsam": <100 WPM, schleppend, unsicher
   - "ungleichmaessig": Starke Schwankungen

3. TONALIT√ÑT (Melodie & Betonung)
   ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
   Analysiere:
   - Stimmmelodie (monoton / nat√ºrlich / lebendig)
   - Betonungen (passend / fehlend / √ºbertrieben)
   - Emotionale F√§rbung (neutral / engagiert / nerv√∂s)

   Dokumentiere Highlights und Lowlights:
   - Positive Momente: Souver√§ne Passagen, gute Betonungen
   - Negative Momente: Unsichere Stellen, Stimmbr√ºche, Monotonie

4. SELBSTSICHERHEIT (Confidence)
   ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
   Gesamteindruck: Wie sicher und kompetent wirkt die Stimme?

   Indikatoren f√ºr hohe Confidence:
   ‚úì Klare, feste Stimme
   ‚úì Angemessenes Tempo
   ‚úì Gute Pausen (bewusst, nicht nerv√∂s)
   ‚úì Nat√ºrliche Betonungen

   Indikatoren f√ºr niedrige Confidence:
   ‚úó Zittrige oder leise Stimme
   ‚úó Viele F√ºllw√∂rter
   ‚úó Hastiges Sprechen
   ‚úó Aufsteigende Satzenden (Unsicherheit)

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
OUTPUT FORMAT (nur valides JSON, kein Markdown)
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

{
  "audio_metrics": {
    "summary_text": "2-3 S√§tze Gesamtfazit zur Stimmwirkung des/der ${n}. Was war gut? Was kann verbessert werden?",
    "confidence_score": <0-100>,

    "speech_cleanliness": {
      "score": <0-100>,
      "total_filler_count": <Anzahl>,
      "filler_word_analysis": [
        {
          "word": "√Ñhm",
          "count": <Anzahl>,
          "examples": [
            {"timestamp": "00:45", "context": "Satzanfang"},
            {"timestamp": "01:20", "context": "beim Nachdenken"}
          ]
        }
      ],
      "feedback": "Konkreter Tipp zur Vermeidung"
    },

    "pacing": {
      "rating": "optimal" | "zu_schnell" | "zu_langsam" | "ungleichmaessig",
      "estimated_wpm": <Zahl>,
      "issues_detected": [
        {"timestamp": "02:10", "issue": "Beschreibung des Problems"}
      ],
      "feedback": "Konkreter Tipp zum Tempo"
    },

    "tonality": {
      "rating": "monoton" | "nat√ºrlich" | "lebendig",
      "emotional_tone": "neutral" | "engagiert" | "nerv√∂s" | "enthusiastisch",
      "highlights": [
        {"timestamp": "00:30", "type": "positive", "note": "Souver√§ner Einstieg"},
        {"timestamp": "03:15", "type": "negative", "note": "Stimme wird unsicher"}
      ],
      "feedback": "Konkreter Tipp zur Stimmmelodie"
    }
  }
}

Beginne jetzt mit der Analyse:`}const yt=["Warum bin ich die beste Wahl f√ºr diese Position?","Meine gr√∂√üte berufliche Errungenschaft","Was motiviert mich jeden Tag aufzustehen?","Wie ich mit schwierigen Kollegen umgehe","Mein F√ºhrungsstil in 60 Sekunden","Die wichtigste Lektion meiner Karriere","Wie ich unter Druck arbeite","Warum Teamarbeit mir wichtig ist","Wenn ich ein Tier w√§re, welches und warum?","Mein perfekter Tag sieht so aus...","Die beste Erfindung der Menschheit","Wenn ich die Welt ver√§ndern k√∂nnte...","Ein Buch, das mein Leben ver√§ndert hat","Mein Lieblingshobby und warum","Drei Dinge, die ich niemals machen w√ºrde","Warum Scheitern wichtig ist","Meine kontroverseste Meinung","Wie ich mit Kritik umgehe"],St=["Warum sollten wir ausgerechnet Sie einstellen und nicht einen der 50 anderen Bewerber?","Ihr Lebenslauf zeigt eine L√ºcke. Was haben Sie in dieser Zeit wirklich gemacht?","Nennen Sie mir drei echte Schw√§chen - und bitte keine getarnten St√§rken.","Warum haben Sie Ihren letzten Job wirklich verlassen?","Wo sehen Sie sich in 5 Jahren? Und seien Sie ehrlich.","Was w√ºrde Ihr schlimmster Feind √ºber Sie sagen?","Wenn ich Ihren letzten Chef anrufe - was wird er mir sagen?","Sie sind offensichtlich √ºberqualifiziert. Werden Sie nicht schnell gelangweilt sein?","Warum haben Sie in Ihrer Karriere nicht mehr erreicht?","√úberzeugen Sie mich in 30 Sekunden, dass Sie kein Risiko sind.","Was war Ihr gr√∂√üter beruflicher Misserfolg?","Haben Sie andere Angebote? Warum sind wir nicht Ihre erste Wahl?"];function Rs(e="Elevator Pitch",n=60){return`AUDIO-TRANSKRIPTION UND ANALYSE

THEMA: "${e}"

${Ot()}

DEINE AUFGABE (NUR bei klar erkennbarer Sprache):
1. TRANSKRIBIEREN: Schreibe W√ñRTLICH was gesprochen wird - nichts hinzuf√ºgen
2. F√úLLW√ñRTER: Finde diese W√∂rter im Transkript: ${jt()}
3. INHALT: Bewerte wie gut die Antwort zum Thema passt (0-40 Punkte)

INHALTSBEWERTUNG (content_score):
- 0: Keine Sprache / am Thema vorbei / unverst√§ndlich
- 10: Nur ansatzweise zum Thema
- 20: Teilweise zum Thema, aber oberfl√§chlich
- 30: Gut zum Thema, mit Substanz
- 40: Exzellent, strukturiert und √ºberzeugend

OUTPUT - NUR valides JSON:
{
  "transcript": "${ie}",
  "filler_words": [],
  "content_score": 0,
  "content_feedback": "Keine Sprache erkannt."
}

ODER bei erkannter Sprache:
{
  "transcript": "Das was tats√§chlich gesagt wurde...",
  "filler_words": [{"word": "√Ñhm", "count": 1}],
  "content_score": 30,
  "content_feedback": "Kurzes Feedback (1-2 S√§tze)"
}

ANALYSE DER AUDIO-DATEI:`}const Cs={excellent:{range:[90,100],messages:["Perfekt! Du bist ein Rhetorik-Champion!","Wow! Makellose Pr√§sentation!","Ausgezeichnet! So sieht ein Profi aus!"],emoji:"üèÜ"},good:{range:[70,89],messages:["Sehr gut! Nur kleine Verbesserungen n√∂tig.","Stark! Fast perfekt!","Beeindruckend! Weiter so!"],emoji:"üåü"},medium:{range:[50,69],messages:["Solide Leistung! √úbung macht den Meister.","Guter Ansatz! Da geht noch mehr.","Auf dem richtigen Weg!"],emoji:"üí™"},needsWork:{range:[30,49],messages:["Nicht schlecht, aber hier ist Potenzial!","Die F√ºllw√∂rter haben dich erwischt!","Bleib dran - Verbesserung ist m√∂glich!"],emoji:"üéØ"},poor:{range:[0,29],messages:["√Ñhm... da m√ºssen wir √ºben!","Die F√ºllw√∂rter haben gewonnen. Revanche?","Kopf hoch! Jeder Profi hat so angefangen."],emoji:"üîÑ"}};function Ir(e){for(const[,n]of Object.entries(Cs))if(e>=n.range[0]&&e<=n.range[1]){const s=Math.floor(Math.random()*n.messages.length);return{message:n.messages[s],emoji:n.emoji}}return{message:"Weiter √ºben!",emoji:"üí™"}}function Ts(){return yt[Math.floor(Math.random()*yt.length)]}function js(){return St[Math.floor(Math.random()*St.length)]}const Nr={klassiker:{id:"klassiker",title:"Der Klassiker",subtitle:"Elevator Pitch",description:"60 Sekunden, um zu √ºberzeugen. Pr√§sentiere dich selbst ohne F√ºllw√∂rter!",duration:60,icon:"rocket",color:"blue",topic:"Stelle dich selbst vor - wer bist du, was machst du, was ist dein Ziel?"},zufall:{id:"zufall",title:"Zufalls-Thema",subtitle:"Slot Machine",description:"Ein zuf√§lliges Thema, spontan und flie√üend pr√§sentiert.",duration:60,icon:"shuffle",color:"purple",getTopic:Ts},stress:{id:"stress",title:"Stress-Test",subtitle:"√úberraschungsfrage",description:"Eine knallharte Interview-Frage. Behalte die Nerven!",duration:90,icon:"zap",color:"red",getTopic:js}},de={WEBM:"audio/webm",WEBM_OPUS:"audio/webm;codecs=opus",MP3:"audio/mpeg",WAV:"audio/wav",OGG:"audio/ogg",M4A:"audio/mp4",AAC:"audio/aac"};async function Os(e){return new Promise((n,s)=>{const r=new FileReader;r.onloadend=()=>{const i=r.result.split(",")[1];n(i)},r.onerror=()=>{s(new Error("Failed to read file as base64"))},r.readAsDataURL(e)})}async function Lt(e){return{inlineData:{data:await Os(e),mimeType:e.type||de.WEBM}}}function Ms(e){return typeof MediaRecorder>"u"?!1:MediaRecorder.isTypeSupported(e)}function vr(e=[de.WEBM_OPUS,de.WEBM,de.OGG,de.MP3]){for(const n of e)if(Ms(n))return n;return null}function $t(e,n={}){const{minSize:s=100,maxSize:r=100*1024*1024,allowedTypes:i=Object.values(de)}=n;return e?e.size<s?{valid:!1,error:"Audio-Datei ist zu klein oder leer"}:e.size>r?{valid:!1,error:"Audio-Datei ist zu gro√ü"}:i.length>0&&e.type&&!i.some(o=>e.type.startsWith(o.split(";")[0]))?{valid:!1,error:`Audio-Format nicht unterst√ºtzt: ${e.type}`}:{valid:!0}:{valid:!1,error:"Keine Audio-Datei vorhanden"}}const oe=!1;function Ft(e){return e.message?.includes("404")||e.message?.includes("not found")}function Ds(e){return e.message?.includes("API key")}function Ls(e,n){const s=Tt.FALLBACK_ORDER.join(", ");return Ft(e)?`Kein Gemini-Modell verf√ºgbar. Versuchte Modelle: ${s}

M√∂gliche L√∂sungen:
1. √úberpr√ºfe, ob dein API Key g√ºltig ist
2. Stelle sicher, dass die Gemini API aktiviert ist
3. Besuche https://ai.google.dev/ um deinen API-Key zu √ºberpr√ºfen

Fehler: ${e.message}`:Ds(e)?`API Key Problem: ${e.message}

Stelle sicher, dass:
1. VITE_GEMINI_API_KEY korrekt in der .env Datei gesetzt ist
2. Der API Key g√ºltig ist (√ºberpr√ºfe auf https://ai.google.dev/)`:e.message||"Unbekannter Fehler"}async function le({apiKey:e,content:n,context:s}){const r=`[GEMINI ${s}]`;if(!e)throw console.error(`‚ùå ${r} API key is missing`),new Error(we.API_KEY_MISSING);let i=null;for(const o of Tt.FALLBACK_ORDER)try{return(await(await new Is(e).getGenerativeModel({model:o}).generateContent(n)).response).text()}catch(l){if(console.error(`‚ùå ${r} Error with ${o}:`,l.message),i=l,Ft(l))continue;break}const a=Ls(i);throw new Error(`Fehler bei der ${s}: ${a}`)}async function $s(e,n,s="gemini-1.5-flash",r=null,i={}){if(!e||e.trim().length===0)throw console.error("‚ùå [GEMINI FEEDBACK] Transcript is empty"),new Error(we.TRANSCRIPT_EMPTY);const a=r||i.feedbackPrompt||null,o=vs(e,{...i,feedbackPrompt:a}),l=i.roleType==="simulation"?"Simulation":"Interview",c=i.userRoleLabel||"Bewerber",p=i.coachType||"general";`${l}${p}${c}`,`${e.length}`,i.customIntro,i.extraFocus,e.substring(0,300);const u=await le({apiKey:n,content:o,context:"FEEDBACK"});return B.logPrompt("GEMINI_LIVE_FEEDBACK",`Live-Training Feedback-Generierung (${l})`,o,{transcript_length:e.length,custom_prompt:r?"Ja":"Nein",role_type:i.roleType||"interview",user_role_label:c},u),u}async function Fs(e,n,s="gemini-1.5-flash",r={}){if(!e)throw console.error("‚ùå [GEMINI AUDIO] Audio file is missing"),new Error(we.AUDIO_FILE_MISSING);const i=$t(e,{minSize:Dt});if(!i.valid)return console.warn(`‚ö†Ô∏è [GEMINI AUDIO] Audio validation failed: ${i.error}, Size: ${e.size} bytes`),JSON.stringify(Mt("analysis"));const a=r.userRoleLabel||"Bewerber",o=r.agentRoleLabel||"Gespr√§chspartner",l=r.roleType||"interview",c=r.hasTwoVoices!==!1,p=r.transcript||null,u=await Lt(e),y=_s({userRoleLabel:a,agentRoleLabel:o,roleType:l,hasTwoVoices:c,transcript:p}),b=[y,u];`${a}`,`${Math.round(e.size/1024)}`,e.type;const d=await le({apiKey:n,content:b,context:"AUDIO"});return B.logPrompt("GEMINI_LIVE_AUDIO_ANALYSIS",`Live-Training Audio-Analyse (${a})`,y,{audio_size_kb:Math.round(e.size/1024),audio_type:e.type,role_type:l,user_role_label:a},d),d}async function Ar(e,n,s="Elevator Pitch",r=60){if(!e)throw console.error("‚ùå [GEMINI GAME] Audio file is missing"),new Error(we.AUDIO_FILE_MISSING);const i=$t(e,{minSize:Dt});if(!i.valid)return console.warn(`‚ö†Ô∏è [GEMINI GAME] Audio validation failed: ${i.error}, Size: ${e.size} bytes`),Mt("game");const a=await Lt(e),l=[Rs(s,r),a];`${Math.round(e.size/1024)}`;const c=await le({apiKey:n,content:l,context:"GAME"});try{let p=c.trim();p.startsWith("```json")?p=p.replace(/```json\n?/,"").replace(/\n?```$/,""):p.startsWith("```")&&(p=p.replace(/```\n?/,"").replace(/\n?```$/,""));const u=JSON.parse(p);return{transcript:u.transcript||ie,filler_words:u.filler_words||[],content_score:Math.max(0,Math.min(40,u.content_score||0)),content_feedback:u.content_feedback||""}}catch(p){throw console.error("‚ùå [GEMINI GAME] Failed to parse response:",p),console.error("‚ùå [GEMINI GAME] Raw response:",c),new Error(`${we.JSON_PARSE_FAILED}: ${p.message}`)}}async function kr(e,n){const{topic:s,context:r,pros:i,cons:a,proScore:o,contraScore:l}=e;if(!s||s.trim().length===0)throw new Error("Entscheidungsfrage fehlt");const c=i.map(d=>`- "${d.text}" (Gewicht: ${d.weight}/10)`).join(`
`),p=a.map(d=>`- "${d.text}" (Gewicht: ${d.weight}/10)`).join(`
`),u=r?`
Situationsbeschreibung des Users:
"${r}"
`:"",y=`Du bist 'Decisio', ein analytischer Entscheidungs-Coach.
Deine Aufgabe: Analysiere die Entscheidungsmatrix des Users (Thema, Pro/Contra mit Gewichtung 1-10).
Ziel: Deck blinde Flecken auf und hinterfrage die Gewichtung kritisch. Nimm dem User die Entscheidung NICHT ab, sondern verbessere seine Datengrundlage.

INPUT:
Thema: ${s}
${u}
Pro-Liste (Gesamtpunkte: ${o}):
${c||"(keine Pro-Argumente)"}

Contra-Liste (Gesamtpunkte: ${l}):
${p||"(keine Contra-Argumente)"}

Rationaler Score: ${o>l?"Pro f√ºhrt":l>o?"Contra f√ºhrt":"Ausgeglichen"} (${o} vs ${l})

GENERATION RULES:
1. "Blind Spot": Welcher Lebensbereich (Gesundheit, Langzeit, Familie, Werte, Finanzen, Karriere, Work-Life-Balance) fehlt? Welche Perspektive wurde nicht ber√ºcksichtigt?
2. "Challenger": Identifiziere das INTERESSANTESTE oder KRITISCHSTE Argument (nicht unbedingt das mit der h√∂chsten Gewichtung). W√§hle das Argument, das am meisten hinterfragt werden sollte - vielleicht weil die Bewertung unrealistisch wirkt, wichtige Aspekte ignoriert werden, oder es auf Annahmen basiert die gepr√ºft werden sollten.
3. "Intuition": Stelle eine systemische Frage (z.B. 10-10-10 Methode: Wie wirst du in 10 Minuten/10 Monaten/10 Jahren dar√ºber denken? Oder: Was w√ºrdest du einem Freund in dieser Situation raten?), um das Bauchgef√ºhl zu pr√ºfen.

WICHTIG: Antworte AUSSCHLIESSLICH mit einem validen JSON-Objekt. Kein Markdown, kein Intro, keine Erkl√§rung au√üerhalb des JSON.

FORMATIERUNG DER INHALTE:
- Jede Card soll STRUKTURIERT sein, NICHT als Flie√ütext
- Verwende kurze, pr√§gnante Aufz√§hlungspunkte
- Maximal 3-5 Punkte pro Card
- Jeder Punkt soll ein konkreter, handlungsorientierter Gedanke sein

JSON SCHEMA:
{
  "analysis_summary": "Ein bis zwei S√§tze zum rationalen Ergebnis.",
  "cards": [
    {
      "type": "blind_spot",
      "title": "Der blinde Fleck",
      "points": [
        "Erster fehlender Aspekt oder Lebensbereich",
        "Zweiter fehlender Aspekt",
        "Dritter fehlender Aspekt (optional)"
      ]
    },
    {
      "type": "challenger",
      "title": "Der H√§rtetest",
      "argument": "NUR der Text des Arguments, OHNE Gewicht (z.B. Mehr Gehalt oder Flexible Arbeitszeiten)",
      "points": [
        "Erste kritische Frage zum Argument",
        "Zweite kritische Frage",
        "Dritte kritische Frage (optional)"
      ]
    },
    {
      "type": "intuition",
      "title": "Der Bauch-Check",
      "question": "Die zentrale Reflexionsfrage (z.B. '10-10-10 Methode')",
      "points": [
        "Erster Reflexionsimpuls",
        "Zweiter Reflexionsimpuls",
        "Dritter Reflexionsimpuls (optional)"
      ]
    }
  ]
}`;i.length,a.length,Math.max(...i.map(d=>d.weight),...a.map(d=>d.weight));const b=await le({apiKey:n,content:y,context:"DECISION"});try{let d=b.trim();d.startsWith("```json")?d=d.replace(/^```json\s*\n?/,""):d.startsWith("```")&&(d=d.replace(/^```\s*\n?/,"")),d=d.replace(/\n?```\s*$/,"").trim(),d=d.replace(/"\s*\(Gewicht:\s*\d+\/10\)"/g,'"');const E=JSON.parse(d);if(!E.cards||!Array.isArray(E.cards))throw new Error("Invalid response structure: missing cards array");return B.logPrompt("GEMINI_DECISION_ANALYSIS","Entscheidungs-Kompass Analyse",y,{topic:s,context:r?"vorhanden":"nicht angegeben",pro_count:i.length,contra_count:a.length,pro_score:o,contra_score:l},b),E}catch(d){throw console.error("‚ùå [GEMINI DECISION] Failed to parse response:",d),console.error("‚ùå [GEMINI DECISION] Raw response:",b),new Error(`Fehler beim Verarbeiten der Analyse: ${d.message}`)}}async function _r(e,n,s,r=null,i=[],a=[]){if(!e||e.trim().length===0)throw new Error("Entscheidungsfrage fehlt");if(!["strategist","security","feelgood","growth","future"].includes(n))throw new Error(`Ung√ºltige Persona: ${n}`);const l=r?`
Situationsbeschreibung:
"${r}"
`:"",c=i.filter(d=>d.text?.trim()).map(d=>`- ${d.text}`),p=a.filter(d=>d.text?.trim()).map(d=>`- ${d.text}`);let u="";(c.length>0||p.length>0)&&(u=`
BEREITS ERFASSTE ARGUMENTE DES USERS:
Nutze diese als Kontext, um ERG√ÑNZENDE Perspektiven zu generieren. Wiederhole NICHT dieselben Punkte, sondern baue darauf auf oder beleuchte andere Aspekte.`,c.length>0&&(u+=`
Pro-Argumente:
${c.join(`
`)}`),p.length>0&&(u+=`
Contra-Argumente:
${p.join(`
`)}`),u+=`
`);const y=`Du bist ein kreativer Entscheidungs-Assistent f√ºr die Karriere-Plattform 'KarriereHeld'.
Deine Aufgabe: Generiere f√ºr eine spezifische Entscheidungsfrage Argumente aus der strikten Sicht einer gew√§hlten Persona.
${l?"WICHTIG: Ber√ºcksichtige unbedingt die Situationsbeschreibung des Users - seine W√ºnsche, √Ñngste und Rahmenbedingungen!":""}

INPUT:
Thema: ${e}${l}${u}
Persona: ${n}

PERSONA DEFINITIONEN:
- 'strategist' (Der Stratege): Fokus auf CV, Marktwert, Geld, Macht, Karriereleiter, Prestige.
- 'security' (Der Sicherheits-Beauftragte): Fokus auf Arbeitsplatzsicherheit, Gehaltsgarantie, Risikominimierung, Best√§ndigkeit.
- 'feelgood' (Der Feel-Good Manager): Fokus auf Mental Health, Stresslevel, Team-Kultur, Zeit f√ºr Familie, Spa√ü.
- 'growth' (Der Gr√ºnder): Fokus auf steile Lernkurve, Innovation, Netzwerk, "High Risk / High Reward".
- 'future' (Das Zukunfts-Ich): Fokus auf langfristigen Sinn, "Regret Minimization" (Was werde ich in 10 Jahren bereuen?), Lebensziele.

OUTPUT FORMAT (JSON):
Generiere genau 4 Vorschl√§ge (2 Pro, 2 Contra), die extrem kurz und knackig sind (max. 10 W√∂rter pro Punkt).

WICHTIG: Antworte AUSSCHLIESSLICH mit einem validen JSON-Objekt. Kein Markdown, kein Intro.

{
  "suggestions": [
    { "type": "pro", "text": "Argument f√ºr JA aus Sicht der Persona" },
    { "type": "pro", "text": "Weiteres Argument f√ºr JA..." },
    { "type": "con", "text": "Argument f√ºr NEIN aus Sicht der Persona" },
    { "type": "con", "text": "Weiteres Argument f√ºr NEIN..." }
  ]
}`,b=await le({apiKey:s,content:y,context:"BRAINSTORM"});try{let d=b.trim();d.startsWith("```json")?d=d.replace(/```json\n?/,"").replace(/\n?```$/,""):d.startsWith("```")&&(d=d.replace(/```\n?/,"").replace(/\n?```$/,""));const E=JSON.parse(d);if(!E.suggestions||!Array.isArray(E.suggestions))throw new Error("Invalid response structure: missing suggestions array");return B.logPrompt("GEMINI_DECISION_BRAINSTORM",`Entscheidungs-Kompass Brainstorming (${n})`,y,{topic:e,context:r?"vorhanden":"nicht angegeben",persona:n},b),E}catch(d){throw console.error("‚ùå [GEMINI BRAINSTORM] Failed to parse response:",d),console.error("‚ùå [GEMINI BRAINSTORM] Raw response:",b),new Error(`Fehler beim Verarbeiten der Vorschl√§ge: ${d.message}`)}}async function Rr(e,n=[],s=[],r=[],i){if(!e||e.trim().length===0)throw new Error("Entscheidungsfrage fehlt");const a=n.filter(u=>u.text?.trim()).map(u=>`- ${u.text}`).join(`
`)||"(keine)",o=s.filter(u=>u.text?.trim()).map(u=>`- ${u.text}`).join(`
`)||"(keine)";let l="";r.length>0&&(l=`
BISHERIGER GESPR√ÑCHSVERLAUF:
`+r.map((u,y)=>`Frage ${y+1}: "${u.question}"
Antwort: "${u.answer}"`).join(`

`));const c=`Du bist ein einf√ºhlsamer systemischer Coach, der Menschen hilft, versteckte Motive und Gef√ºhle bei wichtigen Entscheidungen zu entdecken.

ENTSCHEIDUNGSTHEMA: "${e}"

BEREITS ERFASSTE ARGUMENTE:
Pro:
${a}

Contra:
${o}
${l}

DEINE AUFGABE:
1. Analysiere, welche PERSPEKTIVE oder welcher LEBENSBEREICH noch nicht beleuchtet wurde
2. Identifiziere eine L√úCKE (z.B. fehlen Emotionen? Langzeitperspektive? Werte? Beziehungen? √Ñngste? Tr√§ume?)
3. Stelle GENAU EINE tiefgr√ºndige, offene Frage, um diese L√ºcke zu f√ºllen

FRAGE-TECHNIKEN (w√§hle passend):
- Wunderfrage: "Stell dir vor, du wachst morgen auf und alles ist perfekt gel√∂st..."
- Worst-Case: "Was ist das Schlimmste, das passieren k√∂nnte, wenn..."
- Zukunfts-Ich: "Stell dir vor, es ist 5 Jahre sp√§ter..."
- Werte-Check: "Was sagt diese Entscheidung √ºber das aus, was dir wirklich wichtig ist?"
- Bauchgef√ºhl: "Wenn du ganz ehrlich bist, was sagt dein K√∂rper dazu?"
- Mentor-Perspektive: "Was w√ºrde dir jemand raten, der dich sehr gut kennt?"

REGELN:
- Verwende die "Du"-Form (pers√∂nlich, warm)
- Halte die Frage kurz (max. 2 S√§tze)
- Vermeide Wiederholungen von bereits gestellten Fragen
- Die Frage soll zum Nachdenken anregen, nicht suggestiv sein

AUSGABE (nur JSON, kein Markdown):
{
  "question": "Deine Frage hier...",
  "question_type": "wunderfrage|worst_case|zukunft|werte|bauchgef√ºhl|mentor|andere",
  "targets_gap": "Kurze Beschreibung, welche L√ºcke diese Frage adressiert"
}`,p=await le({apiKey:i,content:c,context:"WIZARD_QUESTION"});try{let u=p.trim();u.startsWith("```json")?u=u.replace(/```json\n?/,"").replace(/\n?```$/,""):u.startsWith("```")&&(u=u.replace(/```\n?/,"").replace(/\n?```$/,""));const y=JSON.parse(u);return B.logPrompt("GEMINI_WIZARD_QUESTION","Deep Dive Wizard - Frage generieren",c,{topic:e,existing_pros:n.length,existing_cons:s.length},p),y}catch(u){throw console.error("‚ùå [GEMINI WIZARD] Failed to parse question response:",u),new Error(`Fehler beim Generieren der Frage: ${u.message}`)}}async function Cr(e,n,s,r){if(!s||s.trim().length<10)return{extracted_items:[],message:"Antwort zu kurz f√ºr Analyse"};const i=`Du bist ein Daten-Analyst f√ºr Entscheidungsprozesse. Deine Aufgabe ist es, aus Freitext-Antworten strukturierte Argumente zu extrahieren.

KONTEXT:
Entscheidungsthema: "${e}"
Gestellte Frage: "${n}"

ANTWORT DES USERS:
"${s}"

DEINE AUFGABE:
1. Identifiziere die KERN-ARGUMENTE im Text (max. 3 St√ºck)
2. Klassifiziere jedes als "pro" (spricht F√úR das Thema/JA) oder "con" (spricht DAGEGEN/NEIN)
3. Formuliere sie in KURZE, PR√ÑGNANTE Stichpunkte um (substantivisch, max. 8 W√∂rter)
4. Sch√§tze die WICHTIGKEIT (weight 1-10) basierend auf:
   - Emotionale Intensit√§t der Wortwahl
   - Wie oft/ausf√ºhrlich der Punkt erw√§hnt wird
   - K√∂rperliche Reaktionen (Bauchgef√ºhl, Stress, etc.)

BEISPIELE f√ºr gute Extraktionen:
- "Ich kriege immer Bauchschmerzen" ‚Üí "K√∂rperliche Stressreaktion", weight: 8-9
- "Das Geld ist halt wichtig" ‚Üí "Finanzielle Sicherheit", weight: 6-7
- "Ich tr√§ume davon seit Jahren" ‚Üí "Langgehegter Lebenstraum", weight: 9

WICHTIG:
- Wenn der Text keine klaren Argumente enth√§lt (z.B. "wei√ü nicht", zu vage), gib ein leeres Array zur√ºck
- Extrahiere NUR das, was der User tats√§chlich gesagt hat - erfinde nichts dazu
- Pro/Con bezieht sich auf das THEMA, nicht auf die Frage

AUSGABE (nur JSON, kein Markdown):
{
  "extracted_items": [
    {
      "type": "pro|con",
      "text": "Kurzer pr√§gnanter Stichpunkt",
      "weight": 1-10,
      "source_quote": "Originalzitat aus der Antwort"
    }
  ],
  "analysis_note": "Kurze Notiz, was du erkannt hast (optional)"
}`,a=await le({apiKey:r,content:i,context:"WIZARD_EXTRACT"});try{let o=a.trim();o.startsWith("```json")?o=o.replace(/```json\n?/,"").replace(/\n?```$/,""):o.startsWith("```")&&(o=o.replace(/```\n?/,"").replace(/\n?```$/,""));const l=JSON.parse(o);return B.logPrompt("GEMINI_WIZARD_EXTRACT","Deep Dive Wizard - Argumente extrahieren",i,{topic:e,question_length:n.length,answer_length:s.length},a),l}catch(o){throw console.error("‚ùå [GEMINI EXTRACT] Failed to parse extraction response:",o),new Error(`Fehler beim Extrahieren der Argumente: ${o.message}`)}}function Gt(e){return!e||typeof e!="string"?e:e.replace(/\\u([0-9a-fA-F]{4})/g,(n,s)=>String.fromCharCode(parseInt(s,16))).replace(new RegExp("(?<!\\\\)u([0-9a-fA-F]{4})","g"),(n,s)=>{const r=parseInt(s,16);return r>=160&&r<=65535?String.fromCharCode(r):n})}function Gs(e){if(!e||typeof e!="string")return e;let n=e.trim();return n.startsWith("```json")?n=n.replace(/^```json\s*/i,"").replace(/\s*```\s*$/,""):n.startsWith("```")&&(n=n.replace(/^```\s*/,"").replace(/\s*```\s*$/,"")),n.trim()}function ze(e,n={}){const{silent:s=!1,context:r="JSON"}=n;if(e==null)return null;if(typeof e=="object")return e;if(typeof e!="string")return s||console.warn(`[parseJSON] Expected string or object, got ${typeof e}`),null;try{let i=Gs(e);return i=Gt(i),JSON.parse(i)}catch(i){return s||(console.error(`[parseJSON] Failed to parse ${r}:`,i.message),console.error(`[parseJSON] Input preview: ${e.substring(0,100)}...`)),null}}function Tr(e){return ze(e,{context:"feedback_json"})}function jr(e){return ze(e,{context:"audio_analysis_json"})}function Or(e){if(!e)return[];const n=ze(e,{context:"transcript"});return Array.isArray(n)?n:[]}function De(e){if(e==null)return e;if(typeof e=="string")return Gt(e);if(Array.isArray(e))return e.map(De);if(typeof e=="object"){const n={};for(const s of Object.keys(e))n[s]=De(e[s]);return n}return e}const Re=e=>new Promise(n=>setTimeout(n,e));async function Mr(e,n={},s=null,r=null){if(!e||e.length===0)throw new Error("Transkript ist leer. Das Gespr√§ch muss mindestens einen Austausch enthalten.");const i=Ps(e,n),a=B.getGeminiApiKey();if(!a)throw new Error("Gemini API Key ist nicht konfiguriert. Bitte kontaktiere den Administrator.");const o={feedbackContent:null,audioAnalysisContent:null},l={roleType:n.role_type||"interview",userRoleLabel:n.user_role_label||"Bewerber",agentRoleLabel:n.interviewer_profile?.role||"Gespr√§chspartner",coachType:n.feedback_coach_type||"general",customIntro:n.feedback_custom_intro||"",extraFocus:n.feedback_extra_focus||"",feedbackPrompt:n.feedback_prompt||""};try{o.feedbackContent=await $s(i,a,"gemini-1.5-flash",null,l)}catch(c){throw console.error("‚ùå [Roleplay Feedback] Failed to generate feedback:",c),new Error(`Fehler bei der Feedback-Generierung: ${c.message}`)}if(s){r&&r("audio_analysis");try{o.audioAnalysisContent=await Fs(s,a,"gemini-1.5-flash",{...l,hasTwoVoices:!0,transcript:i})}catch(c){console.error("‚ùå [Roleplay Feedback] Failed to generate audio analysis:",c),o.audioAnalysisContent=JSON.stringify({error:!0,summary:"Audio-Analyse konnte nicht durchgef√ºhrt werden.",errorMessage:c.message,troubleshooting:["Stelle sicher, dass dein Mikrofon richtig funktioniert","Versuche das Gespr√§ch erneut zu starten","√úberpr√ºfe, ob keine andere Anwendung das Mikrofon blockiert"]})}}return o}function Ps(e,n={}){let s="";n.title&&(s+=`Rollenspiel-Szenario: ${n.title}
`),n.description&&(s+=`Beschreibung: ${n.description}
`),n.variables&&(s+=`
Kontext-Variablen:
`,Object.entries(n.variables).forEach(([a,o])=>{s+=`- ${a}: ${o}
`})),s+=`
--- Gespr√§chsverlauf ---

`;const r=n.user_role_label||"Bewerber",i=n.interviewer_profile?.role||"Gespr√§chspartner";return e.forEach(a=>{const o=a.role==="agent"?i:r;s+=`${o}: ${a.text}

`}),s}async function Dr(e,n,s,r=null,i=0,a=null){try{let o=n;Array.isArray(n)&&(o=JSON.stringify(n));const l={transcript:o,feedback_json:s,duration:i};r&&(l.audio_analysis_json=r),a&&(l.conversation_id=a);const c=await B.request(`/roleplays/sessions/${e}`,{method:"PUT",body:JSON.stringify(l)});if(i>0)try{await B.request(`/roleplays/sessions/${e}/duration`,{method:"POST",body:JSON.stringify({duration_seconds:i})})}catch(p){console.warn("‚ö†Ô∏è [Roleplay Feedback] Failed to update usage limits:",p.message)}return c.data}catch(o){throw console.error("‚ùå [Roleplay Feedback] ========= SAVE FAILED ========="),console.error("‚ùå [Roleplay Feedback] Error:",o),console.error("‚ùå [Roleplay Feedback] Error message:",o.message),new Error(`Fehler beim Speichern der Analyse: ${o.message}`)}}async function Lr(e){try{return(await B.request(`/roleplays/sessions/${e}`,{method:"GET"})).data}catch(n){throw console.error("‚ùå [Roleplay Feedback] Failed to load session analysis:",n),new Error(`Fehler beim Laden der Analyse: ${n.message}`)}}async function $r(e={}){try{const n=new URLSearchParams(e).toString(),s=n?`/roleplays/sessions?${n}`:"/roleplays/sessions";return await B.request(s,{method:"GET"})}catch(n){throw console.error("‚ùå [Roleplay Feedback] Failed to load sessions:",n),new Error(`Fehler beim Laden der Sessions: ${n.message}`)}}function zs(e){return`${(window.bewerbungstrainerConfig||{apiUrl:"/wp-json/bewerbungstrainer/v1"}).apiUrl}/roleplays/sessions/${e}/audio`}async function Fr(e,n=10,s=3e3){const r=zs(e);for(let i=1;i<=n;i++)try{const a=await fetch(r,{method:"GET",headers:{"X-WP-Nonce":ue()},credentials:"same-origin"});if(a.ok){const o=await a.blob();if(o.size===0){if(console.warn("‚ö†Ô∏è [Roleplay Feedback] Audio blob is empty, retrying..."),i<n){await Re(s);continue}return null}return o}if(a.status===404&&i<n){await Re(s);continue}if(console.error(`‚ùå [Roleplay Feedback] Failed to fetch audio: HTTP ${a.status}`),i<n){await Re(s);continue}}catch(a){if(console.error(`‚ùå [Roleplay Feedback] Error fetching audio on attempt ${i}:`,a),i<n){await Re(s);continue}}return console.warn("‚ö†Ô∏è [Roleplay Feedback] All retry attempts failed, audio not available"),null}async function Gr(e,n){try{return(await B.request(`/roleplays/sessions/${e}`,{method:"PUT",body:JSON.stringify({conversation_id:n})})).data}catch(s){throw console.error("‚ùå [Roleplay Feedback] Failed to update session conversation_id:",s),new Error(`Fehler beim Aktualisieren der Session: ${s.message}`)}}async function Pr(e){try{return(await B.request("/roleplays/sessions",{method:"POST",body:JSON.stringify(e)})).data}catch(n){throw console.error("‚ùå [Roleplay Feedback] Failed to create session:",n),new Error(`Fehler beim Erstellen der Session: ${n.message}`)}}async function Bs(){try{const e=await fetch(`${ye()}/roleplays`,{headers:{"X-WP-Nonce":ue()},credentials:"same-origin"});if(!e.ok)throw new Error("Fehler beim Laden der Szenarien");const n=await e.json();return De(n.data||[])}catch(e){throw console.error("‚ùå [Roleplay Feedback] Failed to load scenarios:",e),new Error(`Fehler beim Laden der Szenarien: ${e.message}`)}}async function zr(e){try{const n=await B.request(`/roleplays/${e}`,{method:"GET"});return De(n.data)}catch(n){throw console.error("‚ùå [Roleplay Feedback] Failed to load scenario:",n),new Error(`Fehler beim Laden des Szenarios: ${n.message}`)}}const Et={"#e91e63":"#3b82f6","#ec407a":"#3b82f6","#f06292":"#3b82f6","#d81b60":"#3b82f6","#c2185b":"#3b82f6","#ad1457":"#3b82f6","#880e4f":"#3b82f6","#ff4081":"#3b82f6","#f50057":"#3b82f6","#f44336":"#3b82f6","#e53935":"#3b82f6","#d32f2f":"#3b82f6","#c62828":"#3b82f6","#b71c1c":"#3b82f6","#ff1744":"#3b82f6","#ff5252":"#3b82f6","#ef5350":"#3b82f6","#e57373":"#3b82f6","#ff5722":"#f59e0b","#e64a19":"#f59e0b","#bf360c":"#f59e0b"},Ks=e=>{if(!e||typeof e!="string")return!1;const n=e.replace("#","");if(n.length!==6)return!1;const s=parseInt(n.substring(0,2),16)/255,r=parseInt(n.substring(2,4),16)/255,i=parseInt(n.substring(4,6),16)/255,a=Math.max(s,r,i),o=Math.min(s,r,i),l=(a+o)/2;if(a===o)return!1;const c=a-o,p=l>.5?c/(2-a-o):c/(a+o);let u;switch(a){case s:u=((r-i)/c+(r<i?6:0))/6;break;case r:u=((i-s)/c+2)/6;break;case i:u=((s-r)/c+4)/6;break;default:u=0}const y=u*360;return p>.4&&(y>=330&&y<=360||y>=0&&y<=20)},Pt=(e,n="#3b82f6")=>{if(!e||typeof e!="string")return n;const s=e.toLowerCase().trim();return Et[s]?Et[s]:Ks(s)?n:e},Us=({setup:e,isSelected:n,onSelect:s})=>{const[r,i]=h.useState(!1),a=Pt(e.color);return t.jsxs(W.button,{onClick:s,onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),whileHover:{y:-4},whileTap:{scale:.98},className:"relative w-full text-left rounded-2xl overflow-hidden bg-white transition-all duration-200 outline-none cursor-pointer",style:{border:n?`2px solid ${a}`:`2px solid ${g.gray[200]}`,boxShadow:r||n?`0 12px 24px -8px ${a}30, 0 4px 8px -2px rgba(0,0,0,0.08)`:"0 2px 8px -2px rgba(0,0,0,0.06)"},children:[t.jsxs("div",{className:"h-[100px] flex items-center justify-center relative",style:{background:`linear-gradient(135deg, ${a} 0%, ${a}dd 100%)`},children:[n&&t.jsx("div",{className:"absolute top-3 right-3 w-6 h-6 rounded-full bg-white flex items-center justify-center shadow-md",children:t.jsx(hn,{size:14,style:{color:a},strokeWidth:3})}),t.jsx("span",{className:"text-5xl leading-none",style:{filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.15))"},children:e.icon})]}),t.jsxs("div",{className:"p-5 h-[140px] flex flex-col",children:[t.jsx("h3",{className:"text-base font-bold text-slate-800 mb-1.5 leading-tight",children:e.name}),t.jsx("p",{className:"text-[13px] text-slate-500 leading-relaxed mb-4 line-clamp-2 flex-1",children:e.description}),t.jsxs("div",{className:"flex flex-wrap gap-2 mt-auto",children:[t.jsx("span",{className:"inline-flex items-center text-[11px] px-2.5 py-1 rounded-full font-semibold",style:{backgroundColor:`${a}15`,color:a},children:e.focus}),t.jsx("span",{className:"inline-flex items-center text-[11px] px-2.5 py-1 rounded-full font-medium bg-slate-100 text-slate-500",children:e.targetGroup})]})]})]})},Ws=()=>{const{currentSetup:e,setSelectedSetup:n,clearSelectedSetup:s,availableSetups:r,branding:i,setupsLoading:a}=he(),[o,l]=h.useState(!1),[c,p]=h.useState(!1);Le.useEffect(()=>{const E=()=>p(window.innerWidth<640);return E(),window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)},[]);const u=i?.["--primary-accent"]||g.indigo[500],y=E=>{n(E),l(!1)},b=()=>{s(),l(!1)},d=e?Pt(e.color):null;return a?t.jsx("div",{className:"w-full flex items-center justify-center py-4",children:t.jsx(vt,{className:"w-5 h-5 animate-spin text-gray-400"})}):!r||r.length===0?null:t.jsxs(t.Fragment,{children:[t.jsxs(W.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"w-full",children:[t.jsx("p",{className:"text-sm text-slate-500 mb-2 pl-1",children:"Filtere Trainingsszenarien nach deinem Fokus"}),t.jsxs("button",{onClick:()=>l(!0),className:"w-full flex items-center justify-between gap-3 px-4 py-3.5 rounded-xl border border-slate-200 bg-white cursor-pointer transition-all duration-200 outline-none hover:border-slate-300 hover:shadow-md",children:[t.jsxs("div",{className:"flex items-center gap-3.5 min-w-0",children:[t.jsx("div",{className:"w-11 h-11 rounded-xl flex items-center justify-center flex-shrink-0",style:{backgroundColor:d?`${d}15`:g.slate[100]},children:e?t.jsx("span",{className:"text-2xl",children:e.icon}):t.jsx(ln,{size:22,className:"text-slate-400"})}),t.jsxs("div",{className:"text-left min-w-0",children:[t.jsx("div",{className:"text-[15px] font-semibold text-slate-800 truncate",children:e?e.name:"Alle Szenarien"}),t.jsx("div",{className:"text-[13px] text-slate-500 truncate",children:e?`${e.focus} ‚Ä¢ ${e.targetGroup}`:"Trainings-Setup w√§hlen"})]})]}),t.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[t.jsx("span",{className:"text-[13px] font-medium text-slate-400",children:"√Ñndern"}),t.jsx(cn,{size:18,className:"text-slate-400"})]})]})]}),In.createPortal(t.jsx(dn,{children:o&&t.jsxs(t.Fragment,{children:[t.jsx(W.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>l(!1),className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm z-[9999]"}),t.jsx("div",{className:`fixed inset-0 flex ${c?"items-end":"items-center"} justify-center ${c?"p-0":"p-4"} z-[10000]`,children:t.jsxs(W.div,{initial:{opacity:0,y:c?100:20,scale:c?1:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:c?100:20,scale:c?1:.95},transition:{type:"spring",damping:25,stiffness:400},className:`w-full ${c?"max-w-full":"max-w-[720px]"} bg-slate-50 shadow-2xl flex flex-col ${c?"max-h-[calc(100vh-60px)]":"max-h-[calc(100vh-2rem)]"} ${c?"rounded-t-3xl":"rounded-2xl"} overflow-hidden`,children:[t.jsxs("div",{className:`flex items-center justify-between ${c?"p-5":"px-7 py-6"} bg-white border-b border-slate-200 flex-shrink-0`,children:[t.jsxs("div",{children:[t.jsx("h2",{className:`${c?"text-lg":"text-[22px]"} font-bold text-slate-900 mb-1`,children:"Trainings-Setup w√§hlen"}),t.jsx("p",{className:`text-sm text-slate-500 m-0 ${c?"hidden":"block"}`,children:"W√§hle deinen Schwerpunkt f√ºr passende Trainingsszenarien"})]}),t.jsx("button",{onClick:()=>l(!1),className:"w-9 h-9 rounded-xl bg-slate-100 hover:bg-slate-200 border-0 flex items-center justify-center cursor-pointer transition-colors outline-none flex-shrink-0",children:t.jsx(un,{size:20,className:"text-slate-500"})})]}),t.jsx("div",{className:`flex-1 overflow-y-auto ${c?"p-5":"px-7 py-6"}`,children:t.jsx("div",{className:`grid ${c?"grid-cols-1":"grid-cols-2"} gap-4`,children:r.map(E=>t.jsx(Us,{setup:E,isSelected:e?.id===E.id,onSelect:()=>y(E.id)},E.id))})}),t.jsxs("div",{className:`flex items-center justify-between ${c?"px-5 py-4":"px-7 py-5"} bg-white border-t border-slate-200 flex-shrink-0`,style:{paddingBottom:c?"max(20px, env(safe-area-inset-bottom))":"20px"},children:[t.jsx("button",{onClick:b,className:"px-4 py-2.5 rounded-xl border border-slate-200 bg-white hover:bg-slate-50 hover:border-slate-300 text-slate-600 text-sm font-medium cursor-pointer transition-all outline-none",children:"Alle anzeigen"}),t.jsx("button",{onClick:()=>l(!1),className:"px-6 py-2.5 rounded-xl border-0 bg-primary text-white text-sm font-semibold cursor-pointer transition-all outline-none hover:-translate-y-0.5",style:{backgroundColor:u,boxShadow:`0 4px 12px -2px ${u}50`},children:"Fertig"})]})]})})]})}),document.body)]})},Ce=({onNavigate:e})=>{const{branding:n,user:s,filterScenariosBySetupAndPartner:r,currentSetup:i,checkModuleAllowed:a,appName:o,dashboardSubtitle:l}=he(),{isAuthenticated:c}=At(),[p,u]=h.useState([]),[y,b]=h.useState(!1),[d,E]=h.useState({simulator:null,roleplay:null,video:null});n?.["--header-gradient"]||Je["--header-gradient"];const v=n?.["--primary-accent"]||Je["--primary-accent"],C=async()=>{try{const f=await fetch(`${ye()}/simulator/scenarios`,{headers:{"X-WP-Nonce":ue()},credentials:"same-origin"});if(!f.ok)return[];const A=await f.json();return A.success&&A.data?.scenarios?A.data.scenarios:[]}catch{return[]}},D=async()=>{try{const f=await fetch(`${ye()}/video-training/scenarios`,{headers:{"X-WP-Nonce":ue()}});if(!f.ok)return[];const A=await f.json();return A.success&&A.data?.scenarios?A.data.scenarios:[]}catch{return[]}};h.useEffect(()=>{(async()=>{try{const[A,O,P]=await Promise.all([C(),Bs().catch(()=>[]),D()]),U=r(A||[],"simulator"),q=r(O||[],"roleplay"),Y=r(P||[],"video_training");console.log("[QuadDashboard] Scenario counts:",{currentSetup:i?.id,simulator:U.length,roleplay:q.length,video:Y.length}),E({simulator:U.length,roleplay:q.length,video:Y.length})}catch(A){console.error("Failed to load scenario counts:",A)}})()},[i,r]),h.useEffect(()=>{c&&K()},[c]);const K=async()=>{b(!0);try{const f=await Cn(6);u(f||[])}catch(f){console.error("Failed to load recent activities:",f),u([])}b(!1)},F=s?s.first_name?s.first_name:s.display_name?s.display_name.split(" ")[0]:s.name?s.name.split(" ")[0]:null:null,I=[{id:"ikigai",moduleKey:"ikigai",featureId:"ikigai",step:"1",title:"Orientierung",subtitle:"Ikigai-Kompass",description:"Finde den Schnittpunkt deiner Talente, Leidenschaften und M√∂glichkeiten.",icon:mn,color:g.purple[500],bgLight:g.purple[50],gradient:`linear-gradient(135deg, ${g.purple[400]} 0%, ${g.purple[600]} 100%)`,route:"ikigai"},{id:"decision",moduleKey:"decision",featureId:"decisionboard",step:"2",title:"Entscheiden",subtitle:"Decision-Navigator",description:"L√∂se dein Dilemma mit KI-gest√ºtzter Pro & Contra Analyse.",icon:gn,color:g.blue[500],bgLight:g.blue[50],gradient:`linear-gradient(135deg, ${g.blue[400]} 0%, ${g.blue[600]} 100%)`,route:"decision_board"},{id:"briefing",moduleKey:"briefings",featureId:"smartbriefing",step:"3",title:"Vorbereiten",subtitle:"Smart Briefing",description:"Erstelle deinen Schlachtplan mit personalisierten Leitf√§den.",icon:pn,color:g.amber[500],bgLight:g.amber[50],gradient:`linear-gradient(135deg, ${g.amber[400]} 0%, ${g.amber[600]} 100%)`,route:"smart_briefing"}].filter(f=>a(f.moduleKey)),w=[{id:"simulator",moduleKey:"simulator",featureId:"simulator",title:"Szenario Training",subtitle:"Frage-Antwort",description:"Beantworte Interview-Fragen und erhalte sofortiges KI-Feedback.",icon:fn,tag:"Audio-KI",color:g.green[500],bgLight:g.green[50],gradient:`linear-gradient(135deg, ${g.green[400]} 0%, ${g.teal[500]} 100%)`,route:"simulator",countKey:"simulator"},{id:"roleplay",moduleKey:"roleplay",featureId:"roleplay",title:"Live Simulation",subtitle:"Echtzeit-Dialog",description:"F√ºhre ein realistisches Gespr√§ch mit dem KI-Interviewer.",icon:xn,tag:"Voice-KI",color:g.amber[500],bgLight:g.amber[50],gradient:`linear-gradient(135deg, ${g.amber[400]} 0%, ${g.red[400]} 100%)`,route:"dashboard",countKey:"roleplay"},{id:"video",moduleKey:"video_training",featureId:"videotraining",title:"Wirkungsanalyse",subtitle:"K√∂rpersprache",description:"Nimm dich auf Video auf und erhalte Feedback zu deiner Wirkung.",icon:bn,tag:"Video-KI",color:g.red[500],bgLight:g.red[50],gradient:`linear-gradient(135deg, ${g.red[400]} 0%, ${g.purple[500]} 100%)`,route:"video_training",countKey:"video"},{id:"gym",moduleKey:"gym",featureId:"rhetorikgym",title:"Rhetorik Gym",subtitle:"Sprechtraining",description:"Reduziere F√ºllw√∂rter und verbessere deine Redegewandtheit.",icon:yn,tag:"Drills",color:g.purple[500],bgLight:g.purple[50],gradient:`linear-gradient(135deg, ${g.purple[500]} 0%, ${g.blue[500]} 100%)`,route:"gym_klassiker",countKey:null}].filter(f=>a(f.moduleKey)),G={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.15}}},V={hidden:{opacity:0,y:24},visible:{opacity:1,y:0,transition:{duration:.5,ease:[.25,.1,.25,1]}}},_=f=>{e&&e(f)},$=f=>({briefing:"Smart Briefing",simulator:"Szenario-Training",video:"Wirkungs-Analyse",roleplay:"Live-Simulation",game:"Rhetorik-Gym",ikigai:"Ikigai-Kompass",decision:"Entscheidungs-Navigator"})[f]||f,Z=f=>({briefing:g.amber[500],simulator:g.green[500],video:g.red[500],roleplay:g.amber[600],game:g.purple[500],ikigai:g.purple[500],decision:g.blue[500]})[f]||g.slate[400];return t.jsxs("div",{className:"min-h-screen py-8 lg:py-12 px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"max-w-[1000px] mx-auto",children:[t.jsxs(W.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6,ease:[.25,.1,.25,1]},className:"text-center mb-14",children:[t.jsx("h1",{className:"text-[clamp(26px,4.5vw,38px)] font-extrabold text-slate-900 mb-3 leading-tight tracking-tight",children:F?t.jsxs(t.Fragment,{children:["Hallo"," ",t.jsx("span",{style:{color:v},children:F}),", wo stehst du?"]}):t.jsxs(t.Fragment,{children:["Willkommen bei"," ",t.jsx("span",{style:{color:v},children:o||"Karriereheld"})]})}),t.jsx("p",{className:"text-[clamp(15px,2vw,17px)] text-slate-500 max-w-[420px] mx-auto leading-relaxed",children:l||"Erst denken, dann handeln. W√§hle deine Phase."})]}),I.length>0&&t.jsxs(W.section,{variants:G,initial:"hidden",animate:"visible",className:"mb-12",children:[t.jsxs("div",{className:"flex items-center gap-3.5 mb-6",children:[t.jsx("span",{className:"bg-gradient-to-br from-slate-100 to-slate-200 text-slate-700 px-3.5 py-2 rounded-xl text-xs font-bold uppercase tracking-wider",children:"Phase 1"}),t.jsx("h2",{className:"text-lg font-bold text-slate-800 m-0",children:"Deine Strategie"})]}),t.jsx("div",{className:"grid grid-cols-3 gap-6 strategy-grid",children:I.map(f=>t.jsxs(W.div,{variants:V,whileHover:{y:-6,transition:{duration:.2}},whileTap:{scale:.98},onClick:()=>_(f.route),className:"bg-white rounded-2xl p-6 cursor-pointer border border-slate-100 shadow-md hover:shadow-xl transition-all duration-300 ease-out relative overflow-hidden",onMouseEnter:A=>{A.currentTarget.style.boxShadow=`0 12px 32px -8px ${f.color}25`,A.currentTarget.style.borderColor=`${f.color}30`},onMouseLeave:A=>{A.currentTarget.style.boxShadow="",A.currentTarget.style.borderColor=""},children:[t.jsx("div",{className:"absolute -top-8 -right-8 w-32 h-32 rounded-full opacity-5 pointer-events-none",style:{background:f.color}}),t.jsxs("div",{className:"absolute top-5 right-5 flex items-center gap-2",children:[t.jsx(qe,{featureId:f.featureId,size:"md"}),t.jsx("div",{className:"w-8 h-8 rounded-xl flex items-center justify-center text-sm font-bold",style:{background:f.bgLight,color:f.color},children:f.step})]}),t.jsx("div",{className:"w-14 h-14 rounded-2xl flex items-center justify-center mb-5",style:{background:f.gradient,boxShadow:`0 8px 20px -4px ${f.color}40`},children:t.jsx(f.icon,{className:"w-6 h-6 text-white"})}),t.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-1.5",children:f.title}),t.jsx("p",{className:"text-sm font-semibold mb-2.5",style:{color:f.color},children:f.subtitle}),t.jsx("p",{className:"text-sm text-slate-500 leading-relaxed m-0 min-h-[44px]",children:f.description}),t.jsx("div",{className:"flex justify-end mt-5",children:t.jsx("div",{className:"w-8 h-8 rounded-xl bg-slate-50 flex items-center justify-center transition-all duration-200",children:t.jsx(Ye,{className:"w-4 h-4 text-slate-400"})})})]},f.id))})]}),w.length>0&&t.jsxs(W.section,{variants:G,initial:"hidden",animate:"visible",className:"mb-12",children:[t.jsxs("div",{className:"flex items-center gap-3.5 mb-6",children:[t.jsx("span",{className:"bg-gradient-to-br from-green-50 to-green-100 text-green-700 px-3.5 py-2 rounded-xl text-xs font-bold uppercase tracking-wider",children:"Phase 2"}),t.jsx("h2",{className:"text-lg font-bold text-slate-800 m-0",children:"Trainings-Arena"})]}),t.jsx("div",{className:"mb-6",children:t.jsx(Ws,{})}),t.jsx("div",{className:"grid grid-cols-2 gap-6 training-grid",children:w.map(f=>t.jsxs(W.div,{variants:V,whileHover:{y:-6,transition:{duration:.2}},whileTap:{scale:.98},onClick:()=>_(f.route),className:"bg-white rounded-2xl p-6 cursor-pointer border border-slate-100 shadow-md hover:shadow-xl transition-all duration-300 ease-out relative overflow-hidden flex flex-col",onMouseEnter:A=>{A.currentTarget.style.boxShadow=`0 12px 32px -8px ${f.color}25`,A.currentTarget.style.borderColor=`${f.color}30`},onMouseLeave:A=>{A.currentTarget.style.boxShadow="",A.currentTarget.style.borderColor=""},children:[t.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:[t.jsx(qe,{featureId:f.featureId,size:"md"}),t.jsx("div",{className:"px-3 py-1.5 rounded-lg text-xs font-bold uppercase tracking-wide",style:{background:f.bgLight,color:f.color},children:f.tag})]}),t.jsx("div",{className:"w-14 h-14 rounded-2xl flex items-center justify-center mb-4",style:{background:f.gradient,boxShadow:`0 8px 20px -4px ${f.color}40`},children:t.jsx(f.icon,{className:"w-6 h-6 text-white"})}),t.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-1",children:f.title}),t.jsx("p",{className:"text-sm font-semibold mb-2",style:{color:f.color},children:f.subtitle}),t.jsx("p",{className:"text-sm text-slate-500 leading-normal m-0 flex-1",children:f.description}),t.jsxs("div",{className:"flex justify-between items-center mt-4",children:[f.countKey&&d[f.countKey]!==null&&t.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-slate-50 border border-slate-100",children:[t.jsx("span",{className:"text-sm font-bold",style:{color:d[f.countKey]>0?f.color:g.slate[400]},children:d[f.countKey]}),t.jsx("span",{className:"text-xs text-slate-500",children:d[f.countKey]===1?"Szenario":"Szenarien"})]}),(!f.countKey||d[f.countKey]===null)&&t.jsx("div",{}),t.jsx("div",{className:"w-8 h-8 rounded-xl bg-slate-50 flex items-center justify-center",children:t.jsx(Ye,{className:"w-4 h-4 text-slate-400"})})]})]},f.id))})]}),c&&p.length>0&&t.jsx(W.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.5},children:t.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-slate-100 shadow-md",children:[t.jsxs("div",{className:"flex items-center justify-between mb-5",children:[t.jsxs("div",{className:"flex items-center gap-2.5",children:[t.jsx("div",{className:"w-9 h-9 rounded-xl bg-slate-100 flex items-center justify-center",children:t.jsx(Sn,{className:"w-5 h-5 text-slate-500"})}),t.jsx("h3",{className:"text-base font-bold text-slate-800 m-0",children:"Letzte Aktivit√§ten"})]}),t.jsxs("button",{onClick:()=>_("history"),className:"flex items-center gap-1 text-sm font-semibold bg-transparent border-0 cursor-pointer px-2.5 py-1.5 rounded-lg transition-all duration-200 hover:bg-slate-50",style:{color:v},children:["Alle ansehen",t.jsx(En,{className:"w-4 h-4"})]})]}),y?t.jsxs("div",{className:"flex items-center justify-center gap-3 py-8 text-slate-500",children:[t.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-slate-200 rounded-full",style:{borderTopColor:v}}),"L√§dt..."]}):t.jsx("div",{className:"flex flex-col gap-2",children:p.slice(0,5).map((f,A)=>t.jsxs(W.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.05*A},className:"flex items-center justify-between px-4 py-3 bg-slate-50 rounded-xl cursor-pointer transition-all duration-200 border border-transparent hover:bg-white hover:border-slate-200",onClick:()=>_("history"),children:[t.jsxs("div",{className:"flex items-center gap-3.5 min-w-0 flex-1",children:[t.jsx("div",{className:"w-2.5 h-2.5 rounded-full flex-shrink-0",style:{background:Z(f.type)}}),t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("p",{className:"text-sm font-semibold text-slate-800 m-0 overflow-hidden text-ellipsis whitespace-nowrap",children:f.title||$(f.type)}),t.jsx("p",{className:"text-xs text-slate-500 mt-0.5 m-0",children:$(f.type)})]})]}),t.jsx("span",{className:"text-xs text-slate-400 font-medium flex-shrink-0 ml-4",children:Tn(f.created_at||f.date)})]},f.id||A))})]})}),!c&&t.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.4},className:"text-center py-10 px-8 bg-white rounded-2xl border border-slate-100 shadow-md",children:[t.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center mx-auto mb-4",children:t.jsx(wn,{className:"w-7 h-7 text-blue-500"})}),t.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:"Verfolge deinen Fortschritt"}),t.jsx("p",{className:"text-sm text-slate-500 m-0 max-w-[360px] mx-auto leading-relaxed",children:"Melde dich an, um deinen Fortschritt zu speichern und personalisierte Empfehlungen zu erhalten."})]})]}),t.jsx("style",{children:`
        @media (max-width: 900px) {
          .strategy-grid {
            grid-template-columns: 1fr !important;
          }
          .training-grid {
            grid-template-columns: 1fr !important;
          }
        }
        @media (min-width: 901px) and (max-width: 1100px) {
          .strategy-grid {
            grid-template-columns: repeat(3, 1fr) !important;
          }
          .training-grid {
            grid-template-columns: repeat(2, 1fr) !important;
          }
        }
      `})]})},Ie="[APP.JSX]";console.log(`${Ie} üöÄ Module loaded`);const Vs=h.lazy(()=>M(()=>import("./RoleplayDashboard-BAphzKOA.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]),import.meta.url)),Hs=h.lazy(()=>M(()=>import("./RoleplayDeviceSetup-mmSiyfor.js"),__vite__mapDeps([12,1,2,13,4,5,14,8]),import.meta.url)),Ys=h.lazy(()=>M(()=>import("./RoleplayVariablesPage-T1CM7UoC.js"),__vite__mapDeps([15,1,2,16,4,5]),import.meta.url)),wt=h.lazy(()=>M(()=>import("./RoleplaySessionUnified-Bi9EftOO.js"),__vite__mapDeps([17,1,2,9,4,5,18,7,8,14,19,13]),import.meta.url)),Js=h.lazy(()=>M(()=>import("./SessionHistory-BlAbgMy7.js"),__vite__mapDeps([20,1,2,10,8,11,4,5,7,9,21,22,23,24,25,26,18,27,28,19,13,14]),import.meta.url).then(e=>({default:e.default}))),qs=h.lazy(()=>M(()=>import("./SessionDetailView-rVo3ctAw.js"),__vite__mapDeps([29,1,2,18,4,5,21]),import.meta.url)),Zs=h.lazy(()=>M(()=>import("./index-CHAlhmVm.js"),__vite__mapDeps([30,1,2,4,5,3,6,7,8,9,10,11,31,14,19,13,32,33,16]),import.meta.url).then(e=>({default:e.SimulatorApp}))),Xs=h.lazy(()=>M(()=>import("./index-CSvO2UQE.js"),__vite__mapDeps([34,35,1,2,4,5,3,6,7,8,9,10,11,18,24,25,13,14,32,19,31,33]),import.meta.url).then(e=>({default:e.VideoTrainingApp}))),Qs=h.lazy(()=>M(()=>import("./index-DnkbN-B4.js"),__vite__mapDeps([36,1,2,9,4,5,14,8,10,11,6,7,33]),import.meta.url).then(e=>({default:e.RhetorikGym}))),er=h.lazy(()=>M(()=>import("./index-DnkbN-B4.js"),__vite__mapDeps([36,1,2,9,4,5,14,8,10,11,6,7,33]),import.meta.url).then(e=>({default:e.GameSession}))),tr=h.lazy(()=>M(()=>import("./index-BMtv-GRy.js"),__vite__mapDeps([37,1,2,4,5,3,6,7,8,9,10,11,32,16,22]),import.meta.url).then(e=>({default:e.SmartBriefingApp}))),nr=h.lazy(()=>M(()=>import("./index-CEJ7InXu.js"),__vite__mapDeps([38,1,2,10,8,11,4,5,7,39,23,24,25,26,18,27]),import.meta.url).then(e=>({default:e.DecisionBoardApp}))),sr=h.lazy(()=>M(()=>import("./IkigaiApp-DIt3Xnrd.js"),__vite__mapDeps([40,1,2,10,8,11,4,5,7,39,28,9,27,18,26,19,13,14]),import.meta.url)),rr=h.lazy(()=>M(()=>import("./UsageLimitsDisplay-CN08aEcy.js"),__vite__mapDeps([41,1,2,18,4,5]),import.meta.url)),ir=h.lazy(()=>M(()=>import("./AdminDashboard-DirvzOq4.js"),__vite__mapDeps([42,1,2,27,11,8,18,4,5]),import.meta.url)),ar=h.lazy(()=>M(()=>import("./ScenarioManager-Bdpfdy7X.js"),__vite__mapDeps([43,1,2,27,11,8,18,4,5,24,25,7,44]),import.meta.url)),or=h.lazy(()=>M(()=>import("./SimulatorScenarioManager-DVtz0PHT.js"),__vite__mapDeps([45,1,2,27,11,8,18,4,5,24]),import.meta.url)),lr=h.lazy(()=>M(()=>import("./VideoTrainingManager-CGBcpezB.js"),__vite__mapDeps([46,1,2,27,11,8,18,4,5,24]),import.meta.url)),cr=h.lazy(()=>M(()=>import("./PartnerManager-DvJKfvZI.js"),__vite__mapDeps([47,1,2,27,11,8,18,4,5,24,25,7,44]),import.meta.url)),It={DIRECT:"direct",PROXY:"proxy"},Te={BRIEFINGS:"briefings",SIMULATOR:"simulator",VIDEO:"video",ROLEPLAY:"roleplay"},dr=()=>t.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"400px",gap:"16px"},children:[t.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:`linear-gradient(135deg, ${g.sky[400]} 0%, ${g.indigo[400]} 100%)`,display:"flex",alignItems:"center",justifyContent:"center",animation:"pulse 1.5s ease-in-out infinite"},children:t.jsx(vt,{size:24,color:"white",style:{animation:"spin 1s linear infinite"}})}),t.jsx("p",{style:{color:"rgba(255, 255, 255, 0.6)",fontSize:"14px"},children:"Modul wird geladen..."}),t.jsx("style",{children:`
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
        @keyframes pulse {
          0%, 100% { transform: scale(1); opacity: 1; }
          50% { transform: scale(1.05); opacity: 0.8; }
        }
      `})]});let Oe=!1;const ur=()=>(Le.useEffect(()=>(console.log(`${Ie} üîÑ BrandingLoadingSpinner MOUNT - marking initialSplashShown=true`),Oe=!0,()=>{console.log(`${Ie} üîÑ BrandingLoadingSpinner UNMOUNT`)}),[]),t.jsxs("div",{className:"fullscreen-loader",style:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:`linear-gradient(135deg, ${g.slate[900]} 0%, ${g.slate[800]} 50%, ${g.slate[900]} 100%)`,zIndex:9999},children:[t.jsx("div",{style:{position:"absolute",top:"20%",left:"10%",width:"300px",height:"300px",borderRadius:"50%",background:`radial-gradient(circle, ${J(g.sky[400],.1)} 0%, transparent 70%)`,animation:"float 6s ease-in-out infinite"}}),t.jsx("div",{style:{position:"absolute",bottom:"20%",right:"10%",width:"400px",height:"400px",borderRadius:"50%",background:`radial-gradient(circle, ${J(g.violet[500],.1)} 0%, transparent 70%)`,animation:"float 8s ease-in-out infinite reverse"}}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"32px",zIndex:1},children:[t.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"24px",background:`linear-gradient(135deg, ${g.sky[400]} 0%, ${g.indigo[400]} 100%)`,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:`0 20px 40px ${J(g.sky[400],.3)}`,animation:"pulse 2s ease-in-out infinite"},children:t.jsxs("svg",{width:"44",height:"44",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[t.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),t.jsx("path",{d:"M2 17l10 5 10-5"}),t.jsx("path",{d:"M2 12l10 5 10-5"})]})}),t.jsxs("div",{style:{textAlign:"center",color:"white"},children:[t.jsx("h1",{style:{fontSize:"28px",fontWeight:700,margin:0,letterSpacing:"-0.02em"},children:"Karriereheld"}),t.jsx("p",{style:{fontSize:"15px",opacity:.6,margin:"8px 0 0 0",fontWeight:400},children:"wird geladen..."})]}),t.jsx("div",{style:{width:"200px",height:"4px",backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:"2px",overflow:"hidden"},children:t.jsx("div",{style:{width:"40%",height:"100%",background:`linear-gradient(90deg, ${g.sky[400]}, ${g.indigo[400]}, ${g.sky[400]})`,backgroundSize:"200% 100%",borderRadius:"2px",animation:"loading 1.5s ease-in-out infinite"}})})]}),t.jsx("style",{children:`
          @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
          }
          @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
          }
          @keyframes loading {
            0% { transform: translateX(-100%); }
            50% { transform: translateX(150%); }
            100% { transform: translateX(400%); }
          }
        `})]})),Nt=()=>{requestAnimationFrame(()=>{window.scrollTo(0,0);const e=document.getElementById("bewerbungstrainer-app");e&&(e.scrollTop=0);const n=document.querySelector("[data-main-content]");n&&(n.scrollTop=0),document.querySelectorAll('.overflow-y-auto, .overflow-auto, [style*="overflow"]').forEach(r=>{r.scrollTop>0&&(r.scrollTop=0)})})};function hr(){const e=document.body.classList.contains("admin-bar")||document.documentElement.classList.contains("admin-bar"),n=document.getElementById("wpadminbar");if(n){const s=n.getBoundingClientRect(),r=window.getComputedStyle(n);return!(r.display!=="none"&&r.visibility!=="hidden")||s.bottom<=0?0:s.top<0?Math.max(0,s.bottom):n.offsetHeight}return e?window.innerWidth<=782?46:32:0}function mr(){const e=document.getElementById("bewerbungstrainer-app"),n=hr(),s=document.elementFromPoint(window.innerWidth/2,n+10);if(s){let i=s;for(;i&&i!==document.body;){const a=i.tagName?.toLowerCase();if((a==="header"||a==="nav"||i.classList?.contains("site-header")||i.classList?.contains("elementor-location-header")||i.id==="masthead")&&(!e||!e.contains(i))){const c=i.getBoundingClientRect().bottom;return c<=n?n:Math.max(n,c)}i=i.parentElement}}const r=["header.site-header","#masthead",".site-header",".elementor-location-header",'[data-elementor-type="header"]',".ast-header-wrap","#starter-header",".header-wrapper","header"];for(const i of r){const a=document.querySelector(i);if(a&&(!e||!e.contains(a))){const l=a.getBoundingClientRect().bottom;return l<=n?n:Math.max(n,l)}}if(e){let i=e.previousElementSibling;for(;i;){const a=i.getBoundingClientRect();if(a.height>30&&a.top<100){const o=a.bottom;return o<=n?n:Math.max(n,o)}i=i.previousElementSibling}}return n}function gr(){const e=vn(),n=An(),{isAuthenticated:s,authLoading:r,isLoading:i,demoCode:a}=he(),{isAdmin:o}=At(),l=Hn(n.pathname),[c,p]=h.useState(0),[u,y]=h.useState(null),[b,d]=h.useState({}),[E,v]=h.useState(null),[C,D]=h.useState("websocket"),[K,j]=h.useState(null),[F,L]=h.useState(null),[I,k]=h.useState(null),[w,G]=h.useState(!1),V=()=>{G(!0),Ze(!0)},_=()=>{G(!1),Ze(!1)},{isOpen:$,closeDisclaimerModal:Z,checkDisclaimerStatus:f}=Kn(),[A,O]=h.useState(null),[P,U]=h.useState(null),[q,Y]=h.useState(null),[Be,$e]=h.useState(null),[me,ge]=h.useState(null),[Fe,x]=h.useState(null),[X,Q]=h.useState(null),[ve,pe]=h.useState(0);h.useEffect(()=>{s&&!r&&f()},[s,r]),h.useEffect(()=>{if(!r&&(s||a)){const S=setTimeout(()=>{Mn(s,a)},300);return()=>clearTimeout(S)}},[s,r,a]);const Ae=h.useCallback(S=>{if(S)switch(S.type){case"SELECT_ROLEPLAY_SCENARIO":U(S.scenario),e(m.LIVE_TRAINING);break;case"SELECT_SIMULATOR_SCENARIO":Y(S.scenario),e(m.SCENARIO_TRAINING);break;case"START_GYM_GAME":k(S.config),e(m.RHETORIK_GYM_SESSION,{state:{gameConfig:S.config}});break;case"SELECT_GYM_MODE":$e(S.mode),e(m.RHETORIK_GYM);break;case"SELECT_VIDEO_TRAINING_SCENARIO":ge(S.scenario),e(m.VIDEO_TRAINING);break;default:console.warn("Unknown pending action type:",S.type)}},[e]),se=h.useCallback((S,T=null)=>s?(S(),!0):(T&&O(T),V(),!1),[s]);h.useEffect(()=>{const S=()=>{const re=mr();p(re)},T=(re=0)=>{S(),re<5&&setTimeout(()=>T(re+1),200)};requestAnimationFrame(()=>{setTimeout(()=>T(),50)});const H=()=>setTimeout(S,100);return window.addEventListener("load",H),window.addEventListener("resize",S),window.addEventListener("scroll",S,{passive:!0}),()=>{window.removeEventListener("load",H),window.removeEventListener("resize",S),window.removeEventListener("scroll",S)}},[]),h.useEffect(()=>{Nt()},[n.pathname]);const ee=h.useCallback(S=>{Nt(),S==="video_training"&&pe(H=>H+1);const T=Vn[S];e(T||m.OVERVIEW)},[e]),zt=h.useCallback(S=>{y(S),d({}),v(null),e(m.LIVE_TRAINING_SETUP,{state:{scenario:S}})},[e]),Bt=h.useCallback(S=>{d(S),e(m.LIVE_TRAINING_DEVICES,{state:{scenario:u,variables:S}})},[e,u]),Kt=h.useCallback(()=>{y(null),d({}),e(m.LIVE_TRAINING)},[e]),Ut=h.useCallback(({selectedMicrophoneId:S,connectionMode:T="websocket"})=>{v(S),D(T);const H=T==="proxy"?m.LIVE_TRAINING_PROXY:m.LIVE_TRAINING_SESSION;e(H,{state:{scenario:u,variables:b,microphoneId:S}})},[e,u,b]),Wt=h.useCallback(()=>{v(null),e(m.LIVE_TRAINING_SETUP,{state:{scenario:u}})},[e,u]),Ke=h.useCallback(()=>{y(null),d({}),e(m.LIVE_TRAINING)},[e]),Ue=h.useCallback(S=>{y(null),d({}),j(S),e(`/verlauf/${S.type||"roleplay"}/${S.id}`,{state:{session:S}})},[e]),Vt=h.useCallback((S=null)=>{L(S),e(m.HISTORY,{state:{initialTab:S}})},[e]),Ht=h.useCallback(()=>{L(null),e(m.LIVE_TRAINING)},[e]),ke=h.useCallback(S=>{const H={briefings:Te.BRIEFINGS,simulator:Te.SIMULATOR,video:Te.VIDEO,roleplay:Te.ROLEPLAY}[S]||null;L(H),e(m.HISTORY,{state:{initialTab:H}})},[e]),Yt=h.useCallback(S=>{j(S),e(`/verlauf/${S.type||"roleplay"}/${S.id}`,{state:{session:S}})},[e]),Jt=h.useCallback(()=>{j(null),e(m.HISTORY)},[e]),qt=h.useCallback((S,T)=>{x({session:S,scenario:T}),e(m.SCENARIO_TRAINING)},[e]),We=h.useCallback((S,T,H)=>{const re=H||S?.type;re==="roleplay"?(T&&U(T),e(m.LIVE_TRAINING)):re==="video"?(T&&ge(T),e(m.VIDEO_TRAINING)):(Q({session:S,scenario:T}),e(m.SCENARIO_TRAINING))},[e]),Zt=h.useCallback(S=>{k(S),e(m.RHETORIK_GYM_SESSION,{state:{gameConfig:S}})},[e]),Xt=h.useCallback(()=>{k(null),e(m.RHETORIK_GYM)},[e]),Qt=h.useCallback(S=>{},[]),fe=h.useCallback(({children:S})=>o?S:t.jsx(Ce,{onNavigate:ee}),[o,ee]);if(console.log(`${Ie} üîç Loading check: isLoading=${i}, initialSplashShown=${Oe}, showSpinner=${i&&!Oe}`),i&&!Oe)return console.log(`${Ie} ‚è≥ Showing BrandingLoadingSpinner`),t.jsx(ur,{});const _e=()=>n.state?.scenario||u,Ve=()=>n.state?.variables||b,He=()=>n.state?.microphoneId||E,en=()=>n.state?.gameConfig||I,tn=()=>n.state?.session||K,nn=()=>n.state?.initialTab||F,sn=()=>t.jsx(h.Suspense,{fallback:t.jsx(dr,{}),children:t.jsxs(kn,{children:[t.jsx(R,{path:"/",element:t.jsx(Ce,{onNavigate:ee})}),t.jsx(R,{path:m.OVERVIEW,element:t.jsx(Ce,{onNavigate:ee})}),t.jsx(R,{path:m.LIVE_TRAINING,element:t.jsx(Vs,{onSelectScenario:zt,onOpenHistory:Vt,isAuthenticated:s,requireAuth:se,setPendingAction:O,pendingScenario:P,clearPendingScenario:()=>U(null),onNavigateToHistory:()=>ke("roleplay")})}),t.jsx(R,{path:m.LIVE_TRAINING_SETUP,element:t.jsx(Ys,{scenario:_e(),onBack:Kt,onNext:Bt})}),t.jsx(R,{path:m.LIVE_TRAINING_DEVICES,element:t.jsx(Hs,{scenario:_e(),onBack:Wt,onStart:Ut})}),t.jsx(R,{path:m.LIVE_TRAINING_SESSION,element:t.jsx(wt,{scenario:_e(),variables:Ve(),selectedMicrophoneId:He(),connectionMode:It.DIRECT,onEnd:Ke,onNavigateToSession:Ue})}),t.jsx(R,{path:m.LIVE_TRAINING_PROXY,element:t.jsx(wt,{scenario:_e(),variables:Ve(),selectedMicrophoneId:He(),connectionMode:It.PROXY,onEnd:Ke,onNavigateToSession:Ue})}),t.jsx(R,{path:m.SCENARIO_TRAINING,element:t.jsx(Zs,{isAuthenticated:s,requireAuth:se,setPendingAction:O,pendingContinueSession:Fe,clearPendingContinueSession:()=>x(null),pendingRepeatSession:X,clearPendingRepeatSession:()=>Q(null),onNavigateToHistory:()=>ke("simulator")})}),t.jsx(R,{path:m.VIDEO_TRAINING,element:t.jsx(Xs,{isAuthenticated:s,requireAuth:se,setPendingAction:O,pendingScenario:me,clearPendingScenario:()=>ge(null),onNavigateToHistory:()=>ke("video")},ve)}),t.jsx(R,{path:m.SMART_BRIEFING,element:t.jsx(tr,{isAuthenticated:s,requireAuth:se,setPendingAction:O,demoCode:a,onNavigateToSimulator:()=>e(m.SCENARIO_TRAINING),onNavigateToHistory:()=>ke("briefings")})}),t.jsx(R,{path:m.DECISION_BOARD,element:t.jsx(nr,{isAuthenticated:s,requireAuth:se,setPendingAction:O,onNavigateToHistory:()=>e(m.HISTORY)})}),t.jsx(R,{path:m.IKIGAI,element:t.jsx(sr,{isAuthenticated:s,requireAuth:se,setPendingAction:O,onNavigateToHistory:()=>e(m.HISTORY)})}),t.jsx(R,{path:m.RHETORIK_GYM,element:t.jsx(Qs,{onStartGame:Zt,isAuthenticated:s,requireAuth:se,setPendingAction:O})}),t.jsx(R,{path:m.RHETORIK_GYM_SESSION,element:t.jsx(er,{gameConfig:en(),onBack:Xt,onComplete:Qt})}),t.jsx(R,{path:m.HISTORY,element:t.jsx(Js,{onBack:Ht,onSelectSession:Yt,isAuthenticated:s,onLoginClick:V,onContinueSession:qt,onRepeatSession:We,initialTab:nn(),onNavigateToModule:ee})}),t.jsx(R,{path:"/verlauf/:sessionType/:sessionId",element:t.jsx(qs,{session:tn(),onBack:Jt,onRepeatSession:We})}),t.jsx(R,{path:m.USAGE_LIMITS,element:t.jsx("div",{style:{padding:"24px",maxWidth:"600px",margin:"0 auto"},children:t.jsx(rr,{onNavigateToRoleplay:()=>e(m.LIVE_TRAINING)})})}),t.jsx(R,{path:m.ADMIN,element:t.jsx(fe,{children:t.jsx("div",{style:{padding:"24px"},children:t.jsx(ir,{onNavigate:ee})})})}),t.jsx(R,{path:m.ADMIN_ROLEPLAYS,element:t.jsx(fe,{children:t.jsx("div",{style:{padding:"24px"},children:t.jsx(ar,{onBack:()=>e(m.ADMIN)})})})}),t.jsx(R,{path:m.ADMIN_SIMULATOR,element:t.jsx(fe,{children:t.jsx("div",{style:{padding:"24px"},children:t.jsx(or,{onBack:()=>e(m.ADMIN)})})})}),t.jsx(R,{path:m.ADMIN_VIDEO,element:t.jsx(fe,{children:t.jsx("div",{style:{padding:"24px"},children:t.jsx(lr,{onBack:()=>e(m.ADMIN)})})})}),t.jsx(R,{path:m.ADMIN_PARTNERS,element:t.jsx(fe,{children:t.jsx("div",{style:{padding:"24px"},children:t.jsx(cr,{onBack:()=>e(m.ADMIN)})})})}),t.jsx(R,{path:"*",element:t.jsx(Ce,{onNavigate:ee})})]})});return t.jsxs(t.Fragment,{children:[t.jsx(Dn,{activeView:l,onNavigate:ee,headerOffset:c,onLoginClick:V,children:sn()}),t.jsx(zn,{isOpen:w,onClose:()=>{_(),O(null),!s&&Wn(n.pathname)&&e(m.HOME)},onLoginSuccess:async S=>{await f(),A&&(Ae(A),O(null))}}),t.jsx(Bn,{isOpen:$,onClose:Z,onAcknowledge:S=>{Z()}})]})}function pr(){return t.jsx(Nn,{children:t.jsx(jn,{children:t.jsx(On,{children:t.jsx(gr,{})})})})}const N="[MAIN.JSX]";console.log(`${N} üöÄ Script loaded at ${new Date().toISOString()}`);function fr(){return new Promise(e=>{const n=document.querySelectorAll('link[rel="stylesheet"]'),s=Array.from(n).filter(o=>{if(!o.href)return!1;const l=o.href.toLowerCase();return l.includes("bewerbungstrainer")||l.includes("featureinfobutton")||l.includes("karriereheld")||o.id&&o.id.includes("bewerbungstrainer")});if(console.log(`${N} üé® Found ${s.length} app stylesheets`),s.length===0){console.log(`${N} üé® No external CSS found, waiting for styles to apply...`),requestAnimationFrame(()=>{requestAnimationFrame(()=>{console.log(`${N} üé® Styles should be applied now`),e()})});return}let r=0;const i=s.length,a=()=>{r++,console.log(`${N} üé® CSS loaded: ${r}/${i}`),r>=i&&(console.log(`${N} ‚úÖ All CSS loaded!`),requestAnimationFrame(()=>{e()}))};s.forEach(o=>{o.sheet?(console.log(`${N} üé® CSS already loaded: ${o.href}`),a()):(o.addEventListener("load",()=>{console.log(`${N} üé® CSS load event: ${o.href}`),a()}),o.addEventListener("error",()=>{console.warn(`${N} ‚ö†Ô∏è CSS failed to load: ${o.href}`),a()}))}),setTimeout(()=>{r<i&&(console.warn(`${N} ‚ö†Ô∏è CSS loading timeout, proceeding anyway`),e())},3e3)})}let xe=!1,Ge=null;function xr(){if(console.log(`${N} üì¶ initReactApp() called, hasAlreadyMounted=${xe}`),xe){console.log(`${N} ‚è≠Ô∏è Skipping - already mounted`);return}const e=document.getElementById("bewerbungstrainer-app")||document.getElementById("root");if(console.log(`${N} üîç Looking for root element:`,e?"FOUND":"NOT FOUND"),!e){console.error(`${N} ‚ùå Root element not found! Looking for #bewerbungstrainer-app or #root`);return}if(e._reactRootContainer||e.__reactRoot||Ge){console.warn(`${N} ‚ö†Ô∏è Root element already has a React root, skipping re-mount...`),xe=!0;return}if(e.dataset.reactMounted==="true"){console.warn(`${N} ‚ö†Ô∏è DOM marker indicates React already mounted (likely caching issue), skipping...`),xe=!0;return}try{for(console.log(`${N} üßπ Clearing root element children...`);e.firstChild;)e.removeChild(e.firstChild);console.log(`${N} üéØ Creating React root with StrictMode...`),Ge=Ln.createRoot(e),Ge.render(t.jsx(h.StrictMode,{children:t.jsx(pr,{})})),xe=!0,e.dataset.reactMounted="true",console.log(`${N} ‚úÖ React app mounted successfully!`)}catch(n){console.error(`${N} ‚ùå Failed to mount React app:`,n)}}function br(){return new Promise(e=>{let s=0;const r=()=>{s++;const i=document.documentElement.classList.contains("bewerbungstrainer-css-loaded"),o=getComputedStyle(document.documentElement).getPropertyValue("--primary-accent").trim()!=="",l=document.createElement("div");l.style.cssText="position:absolute;left:-9999px;visibility:hidden;";const c=document.createElement("div");c.className="flex";const p=document.createElement("div");p.className="rounded-xl";const u=document.createElement("div");u.className="bg-transparent",l.appendChild(c),l.appendChild(p),l.appendChild(u),document.body.appendChild(l);const y=window.getComputedStyle(c),b=window.getComputedStyle(p),d=window.getComputedStyle(u),E=y.display==="flex",v=b.borderRadius!=="0px"&&b.borderRadius!=="";d.backgroundColor==="rgba(0, 0, 0, 0)"||d.backgroundColor,document.body.removeChild(l);const C=E||v,D=document.styleSheets;let K=!1,j=!1;try{for(let L=0;L<D.length;L++){const I=D[L];I.href&&(I.href.includes("bewerbungstrainer")||I.href.includes("FeatureInfoButton")||I.href.includes("karriereheld"))&&(K=!0,I.cssRules&&I.cssRules.length>100&&(j=!0)),I.cssRules&&I.cssRules.length>500&&(j=!0)}}catch{j=!0}i||o&&C&&j||s>=150?(s>=150?(console.log(`${N} üé® CSS check timeout after ${s} attempts, proceeding...`),console.log(`${N} üé® Final state: loadedClass=${i}, cssVar=${o}, flex=${E}, rounded=${v}, rules=${j}`)):console.log(`${N} üé® CSS is fully applied (attempt ${s}, loadedClass=${i}, cssVar=${o}, flex=${E}, rounded=${v})`),setTimeout(()=>e(),100)):setTimeout(r,10)};r()})}async function yr(){console.log(`${N} üïê waitForDOMAndMount() called, readyState=${document.readyState}`);const e=async n=>{console.log(`${N} üé¨ safeMount() via ${n}`),console.log(`${N} ‚è≥ Waiting for CSS to load...`),await fr(),console.log(`${N} ‚è≥ Verifying CSS is applied...`),await br(),console.log(`${N} üé® CSS ready, mounting React...`),requestAnimationFrame(()=>{try{xr()}catch(s){console.error(`${N} ‚ùå Error during mount:`,s)}})};if(document.getElementById("bewerbungstrainer-app")||document.getElementById("root")){console.log(`${N} üìç Strategy 1: Element already available`),setTimeout(()=>e("Strategy1-ElementExists"),50);return}if(document.readyState==="loading")console.log(`${N} üìç Strategy 2: Waiting for DOMContentLoaded`),document.addEventListener("DOMContentLoaded",()=>{console.log(`${N} üì¢ DOMContentLoaded fired`),setTimeout(()=>e("Strategy2-DOMContentLoaded"),50)});else{console.log(`${N} üìç Strategy 3: Polling for element`);let n=0;const s=50,r=setInterval(()=>{n++,document.getElementById("bewerbungstrainer-app")||document.getElementById("root")?(console.log(`${N} ‚úÖ Element found after ${n} attempts`),clearInterval(r),setTimeout(()=>e("Strategy3-Polling"),50)):n>=s&&(clearInterval(r),console.error(`${N} ‚ùå Element not found after 5 seconds`))},100)}}console.log(`${N} üèÅ Starting mount process...`);yr();export{Is as G,Dt as M,Mr as a,Lr as b,Pr as c,jr as d,Tr as e,Fr as f,Bs as g,zr as h,zs as i,$r as j,Nr as k,Mt as l,Ar as m,Ir as n,Rr as o,Or as p,Cr as q,_r as r,Dr as s,kr as t,Gr as u,$t as v,Os as w,vr as x};
