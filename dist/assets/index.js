const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./RoleplayDashboard-DHnYv-x9.js","./ui-vendor-BAEfSb-X.js","./react-vendor-uDOJF2jQ.js","./roleplay-feedback-adapter-Ck-5AEhy.js","./gemini-CrJ_-LlE.js","./audio-BZs8f3gH.js","./formatting-D8kxjF5h.js","./formatting.css","./ScenarioDashboard-DRcG6L5W.js","./ScenarioCard-D-lonDCG.js","./useBranding-CvtU4d75.js","./designTokens-DbcSlXo4.js","./dialog-Bc6rUSl2.js","./utils-BEHD0UYf.js","./RoleplayDeviceSetup-Cb1Bz460.js","./DeviceSetupPage-DKzCfp2d.js","./MicrophoneTestDialog-B0wmV7tf.js","./RoleplayVariablesPage-CMQDwdAx.js","./DynamicFormField-BRlbcs6e.js","./RoleplaySessionUnified-Do_-uExs.js","./useMobile-YxjH166V.js","./button-CDcKuXez.js","./DeviceSettingsDialog-BXp_72DP.js","./SessionHistory-BJPp-JRp.js","./RoleplaySessionReport-CJRIHfls.js","./BriefingWorkbook-D4gAOUr8.js","./DecisionBoardResult-CCYX69Ou.js","./card-CRd_k1Xo.js","./input-B2p07toF.js","./textarea-AQGmZicy.js","./AudioRecorder-C1EPTzk-.js","./IkigaiResults-C4KY3k-9.js","./SessionDetailView-DBejQCGD.js","./index-B_H-R5QP.js","./progress-bar-DYdU8e8p.js","./fullscreen-loader-CUqlOTLO.js","./index-BNJNqz25.js","./index-BU1OEDFS.js","./index-922rgEkj.js","./index-D7OfFpC_.js","./IkigaiApp-D4DlQcu2.js","./UsageLimitsDisplay-D7O4pnZd.js","./AdminDashboard-DvemnGlB.js","./ScenarioManager-DLFr6lER.js","./form-accordion-CqqVK1Aa.js","./SimulatorScenarioManager-BYAzwE5m.js","./VideoTrainingManager-BFk9zmFg.js","./PartnerManager-CovGyBJw.js"])))=>i.map(i=>d[i]);
import{j as e,A as oe,m as W,L as jt,C as We,S as Ve,a as Fe,T as Ge,V as ye,M as je,R as vt,D as St,H as It,b as Pe,U as wt,c as He,G as be,X as $e,d as kt,e as ve,f as Ue,g as Ye,h as Ke,i as Ct,k as Nt,I as Et,l as Xe,n as Tt,F as At,o as Ee,p as _t,Z as Rt,q as Lt}from"./ui-vendor-BAEfSb-X.js";import{a as n,d as ue,b as Mt,H as Bt,u as Dt,e as zt,f as Ot,g as L}from"./react-vendor-uDOJF2jQ.js";import{u as X,a as ge,g as Te,b as Ae,D as _e,c as Wt,C as d,f as Vt,P as Ft,d as Gt}from"./formatting-D8kxjF5h.js";const Pt="modulepreload",Ht=function(t,o){return new URL(t,o).href},Re={},V=function(o,a,l){let g=Promise.resolve();if(a&&a.length>0){let I=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};const m=document.getElementsByTagName("link"),y=document.querySelector("meta[property=csp-nonce]"),S=y?.nonce||y?.getAttribute("nonce");g=I(a.map(u=>{if(u=Ht(u,l),u in Re)return;Re[u]=!0;const f=u.endsWith(".css"),b=f?'[rel="stylesheet"]':"";if(l)for(let k=m.length-1;k>=0;k--){const E=m[k];if(E.href===u&&(!f||E.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${b}`))return;const j=document.createElement("link");if(j.rel=f?"stylesheet":Pt,f||(j.as="script"),j.crossOrigin="",j.href=u,S&&j.setAttribute("nonce",S),document.head.appendChild(j),f)return new Promise((k,E)=>{j.addEventListener("load",k),j.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${u}`)))})}))}function p(m){const y=new Event("vite:preloadError",{cancelable:!0});if(y.payload=m,window.dispatchEvent(y),!y.defaultPrevented)throw m}return g.then(m=>{for(const y of m||[])y.status==="rejected"&&p(y.reason);return o().catch(p)})},qe=n.createContext(null),Le={success:{bgColor:"#10b981",icon:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})},error:{bgColor:"#ef4444",icon:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})},info:{bgColor:"#3b82f6",icon:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})},warning:{bgColor:"#f59e0b",icon:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}};function $t({id:t,message:o,type:a="success",duration:l=3e3,onDismiss:g}){const p=Le[a]||Le.info;return n.useEffect(()=>{if(l>0){const m=setTimeout(()=>{g(t)},l);return()=>clearTimeout(m)}},[t,l,g]),e.jsxs(W.div,{initial:{opacity:0,y:-20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},transition:{duration:.2},style:{display:"flex",alignItems:"center",gap:"12px",padding:"14px 20px",backgroundColor:p.bgColor,color:"#ffffff",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.2)",fontSize:"15px",fontWeight:500,minWidth:"280px",maxWidth:"400px"},children:[e.jsx("span",{style:{flexShrink:0},children:p.icon}),e.jsx("span",{style:{flex:1},children:o}),e.jsx("button",{onClick:()=>g(t),style:{background:"rgba(255, 255, 255, 0.2)",border:"none",borderRadius:"6px",padding:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",color:"#ffffff",flexShrink:0},onMouseEnter:m=>m.target.style.background="rgba(255, 255, 255, 0.3)",onMouseLeave:m=>m.target.style.background="rgba(255, 255, 255, 0.2)",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}function Ut({toasts:t,onDismiss:o}){return e.jsx("div",{style:{position:"fixed",top:"20px",left:"50%",transform:"translateX(-50%)",zIndex:9999,display:"flex",flexDirection:"column",gap:"10px",alignItems:"center"},children:e.jsx(oe,{children:t.map(a=>e.jsx($t,{...a,onDismiss:o},a.id))})})}function Yt({children:t}){const[o,a]=n.useState([]),l=n.useCallback((u,f="success",b=3e3)=>{const j=Date.now()+Math.random();return a(k=>[...k,{id:j,message:u,type:f,duration:b}]),j},[]),g=n.useCallback(u=>{a(f=>f.filter(b=>b.id!==u))},[]),p=n.useCallback((u,f)=>l(u,"success",f),[l]),m=n.useCallback((u,f)=>l(u,"error",f),[l]),y=n.useCallback((u,f)=>l(u,"info",f),[l]),S=n.useCallback((u,f)=>l(u,"warning",f),[l]),I={addToast:l,dismissToast:g,showSuccess:p,showError:m,showInfo:y,showWarning:S};return e.jsxs(qe.Provider,{value:I,children:[t,e.jsx(Ut,{toasts:o,onDismiss:g})]})}function Je(){const t=n.useContext(qe);if(!t)throw new Error("useToast must be used within a ToastProvider");return t}const N={blue:{50:"#E8F4F8",600:"#3A7FA7",700:"#2D6485"},teal:{500:"#3DA389"},slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",400:"#94a3b8",700:"#334155",900:"#0f172a"}},Ze=t=>t?{sidebarBg:t["--sidebar-bg-color"]||N.slate[50],sidebarText:t["--sidebar-text-color"]||N.slate[900],sidebarTextMuted:t["--sidebar-text-muted"]||N.slate[400],sidebarActiveBg:t["--sidebar-active-bg"]||N.blue[50],sidebarActiveText:t["--sidebar-active-text"]||N.blue[700],sidebarHoverBg:t["--sidebar-hover-bg"]||N.slate[50],primaryAccent:t["--primary-accent"]||N.blue[600],borderColor:t["--border-color"]||N.slate[200],borderColorLight:t["--border-color-light"]||N.slate[100]}:null,Qe=[{id:"overview",moduleId:"overview",label:"Übersicht",shortLabel:"Übersicht",icon:jt,description:"Alle Trainingsmöglichkeiten",alwaysVisible:!0},{id:"ikigai",moduleId:"ikigai",label:"Ikigai-Kompass",shortLabel:"Ikigai",icon:We,description:"Finde deinen idealen Karrierepfad"},{id:"decision_board",moduleId:"decision_board",label:"Entscheidungs-Kompass",shortLabel:"Entscheidung",icon:Ve,description:"KI-gestützte Entscheidungshilfe"},{id:"smart_briefing",moduleId:"smart_briefing",label:"Smart Briefing",shortLabel:"Briefing",icon:Fe,description:"KI-Vorbereitungs-Assistent"},{id:"simulator",moduleId:"simulator",label:"Szenario-Training",shortLabel:"Szenario",icon:Ge,description:"Frage-Antwort Training mit KI-Feedback"},{id:"video_training",moduleId:"video_training",label:"Wirkungs-Analyse",shortLabel:"Wirkung",icon:ye,description:"Video-Aufnahme mit Wirkungs-Analyse"},{id:"dashboard",moduleId:"roleplay",label:"Live-Simulationen",shortLabel:"Live",icon:je,description:"Live Simulationen mit KI-Interviewer"},{id:"gym",moduleId:"gym",label:"Rhetorik-Gym",shortLabel:"Gym",icon:St,description:"Spielerisch Rhetorik trainieren",subItems:[{id:"gym_klassiker",label:"Der Füllwort-Killer",shortLabel:"Klassiker",icon:vt,description:"60s Elevator Pitch"}]},{id:"history",moduleId:"history",label:"Meine Sessions",shortLabel:"Sessions",icon:It,description:"Vergangene Übungen ansehen"},{id:"usage_limits",moduleId:"roleplay",label:"Mein Kontingent",shortLabel:"Kontingent",icon:Pe,description:"Verfügbare Gesprächsminuten"}],et=[{id:"admin",label:"Administration",shortLabel:"Admin",icon:He,description:"Inhalte verwalten",adminOnly:!0,subItems:[{id:"admin_roleplays",label:"Live-Simulationen",shortLabel:"Live",icon:je,description:"Simulations-Szenarien verwalten"},{id:"admin_simulator",label:"Szenario-Training",shortLabel:"Simulator",icon:Ge,description:"Simulator-Szenarien verwalten"},{id:"admin_video",label:"Wirkungs-Analyse",shortLabel:"Wirkung",icon:ye,description:"Wirkungs-Analysen verwalten"},{id:"admin_partners",label:"Partner-Branding",shortLabel:"Partner",icon:wt,description:"White-Label Partner verwalten"}]}],Kt=({isCollapsed:t,onToggleCollapse:o,activeView:a,onNavigate:l,headerOffset:g=0,onLoginClick:p})=>{const[m,y]=n.useState([]),{branding:S,isWhiteLabel:I,partnerName:u,logoUrl:f,checkModuleAllowed:b}=X(),{user:j,isAuthenticated:k,isAdmin:E,logout:B}=ge(),{showSuccess:D}=Je(),C=Ze(S),G=n.useMemo(()=>{const i=Qe.filter(A=>{if(A.alwaysVisible)return!0;const _=A.moduleId||A.id;return b(_)});return E?[...i,...et]:i},[b,E]),x=async()=>{await B(),D("Sie wurden erfolgreich abgemeldet",3e3)},r=n.useMemo(()=>C?{sidebarBg:C.sidebarBg,sidebarText:C.sidebarText,sidebarTextMuted:C.sidebarTextMuted,activeBg:C.sidebarActiveBg,activeText:C.sidebarActiveText,hoverBg:C.sidebarHoverBg,primaryAccent:C.primaryAccent,borderColor:C.borderColor,borderColorLight:C.borderColorLight}:{sidebarBg:"#ffffff",sidebarText:N.slate[900],sidebarTextMuted:N.slate[400],activeBg:N.blue[50],activeText:N.blue[700],hoverBg:N.slate[50],primaryAccent:N.blue[600],borderColor:N.slate[200],borderColorLight:N.slate[100]},[C]),w=i=>{y(A=>A.includes(i)?A.filter(_=>_!==i):[...A,i])},T=i=>{i.subItems&&!t?w(i.id):l(i.id)};return e.jsxs(W.aside,{initial:!1,animate:{width:t?72:280},transition:{duration:.3,ease:[.4,0,.2,1]},style:{position:"fixed",left:0,top:g,bottom:0,zIndex:40,backgroundColor:r.sidebarBg,borderRight:`1px solid ${r.borderColor}`,display:"flex",flexDirection:"column",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)"},children:[e.jsx("div",{style:{height:"64px",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 16px",borderBottom:`1px solid ${r.borderColorLight}`},children:e.jsx(oe,{mode:"wait",children:t?e.jsx(W.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.2},style:{width:"40px",height:"40px",borderRadius:"12px",background:I?r.primaryAccent:`linear-gradient(135deg, ${N.blue[600]} 0%, ${N.teal[500]} 100%)`,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",margin:"0 auto",overflow:"hidden"},children:f?e.jsx("img",{src:f,alt:u,style:{width:"100%",height:"100%",objectFit:"contain"}}):e.jsx(be,{style:{width:"20px",height:"20px",color:"white"}})},"logo-collapsed"):e.jsxs(W.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},transition:{duration:.2},style:{display:"flex",alignItems:"center",gap:"12px"},children:[f?e.jsx("img",{src:f,alt:u,style:{width:"40px",height:"40px",borderRadius:"12px",objectFit:"contain"}}):e.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"12px",background:I?r.primaryAccent:`linear-gradient(135deg, ${N.blue[600]} 0%, ${N.teal[500]} 100%)`,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},children:e.jsx(be,{style:{width:"20px",height:"20px",color:"white"}})}),e.jsx("div",{style:{display:"flex",flexDirection:"column"},children:I?e.jsx("span",{style:{fontWeight:700,color:r.sidebarText,fontSize:"14px",lineHeight:"1.4"},children:u}):e.jsxs(e.Fragment,{children:[e.jsx("span",{style:{fontWeight:700,color:r.sidebarText,fontSize:"14px",lineHeight:"1.2"},children:"Karriere"}),e.jsx("span",{style:{fontWeight:700,color:r.primaryAccent,fontSize:"14px",lineHeight:"1.2"},children:"Navigation"})]})})]},"logo-full")})}),e.jsx("nav",{style:{flex:1,padding:"8px 12px",overflowY:"auto"},children:G.map((i,A)=>{const _=i.icon,F=a===i.id||i.id==="dashboard"&&a==="roleplay"||i.id==="gym"&&a.startsWith("gym")||i.id==="admin"&&a.startsWith("admin"),H=i.subItems&&i.subItems.length>0,$=m.includes(i.id),P=i.adminOnly;return e.jsxs("div",{children:[P&&e.jsx("div",{style:{margin:"12px 0",padding:t?"0":"0 4px",borderTop:`1px solid ${r.borderColor}`},children:!t&&e.jsx("span",{style:{display:"block",fontSize:"11px",fontWeight:600,color:r.sidebarTextMuted,textTransform:"uppercase",letterSpacing:"0.5px",marginTop:"12px",marginBottom:"8px",paddingLeft:"12px"},children:"Admin"})}),e.jsxs("button",{onClick:()=>T(i),style:{width:"100%",borderRadius:"12px",display:"flex",alignItems:"center",gap:"12px",position:"relative",padding:t?"12px":"12px 16px",justifyContent:t?"center":"flex-start",backgroundColor:F?r.activeBg:"transparent",color:F?r.activeText:r.sidebarText,fontWeight:F?600:400,fontSize:"14px",border:"none",cursor:"pointer",marginBottom:"4px",transition:"all 0.2s",textAlign:"left"},onMouseEnter:z=>{F||(z.currentTarget.style.backgroundColor=r.hoverBg,z.currentTarget.style.color=r.sidebarText)},onMouseLeave:z=>{F||(z.currentTarget.style.backgroundColor="transparent",z.currentTarget.style.color=r.sidebarText)},children:[F&&e.jsx("div",{style:{position:"absolute",left:0,top:"50%",transform:"translateY(-50%)",width:"4px",height:"32px",backgroundColor:r.primaryAccent,borderTopRightRadius:"9999px",borderBottomRightRadius:"9999px"}}),e.jsx(_,{style:{width:"20px",height:"20px",flexShrink:0,color:F?r.primaryAccent:r.sidebarTextMuted}}),!t&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",overflow:"hidden",flex:1,minWidth:0},children:[e.jsx("span",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:i.label}),e.jsx("span",{style:{fontSize:"12px",color:r.sidebarTextMuted,whiteSpace:"normal",lineHeight:1.3},children:i.description})]}),H&&e.jsx(ve,{style:{width:"16px",height:"16px",color:r.sidebarTextMuted,transition:"transform 0.2s",transform:$?"rotate(180deg)":"rotate(0deg)"}})]})]}),H&&!t&&e.jsx(oe,{children:$&&e.jsx(W.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},style:{overflow:"hidden",marginLeft:"16px"},children:i.subItems.map(z=>{const R=z.icon,M=a===z.id;return e.jsxs("button",{onClick:()=>l(z.id),style:{width:"100%",borderRadius:"10px",display:"flex",alignItems:"center",gap:"10px",padding:"10px 14px",backgroundColor:M?r.activeBg:"transparent",color:M?r.activeText:r.sidebarText,fontWeight:M?600:400,fontSize:"13px",border:"none",cursor:"pointer",marginBottom:"2px",transition:"all 0.2s",textAlign:"left"},onMouseEnter:v=>{M||(v.currentTarget.style.backgroundColor=r.hoverBg,v.currentTarget.style.color=r.sidebarText)},onMouseLeave:v=>{M||(v.currentTarget.style.backgroundColor="transparent",v.currentTarget.style.color=r.sidebarText)},children:[e.jsx(R,{style:{width:"16px",height:"16px",flexShrink:0,color:M?r.primaryAccent:r.sidebarTextMuted}}),e.jsx("span",{style:{whiteSpace:"nowrap"},children:z.label})]},z.id)})})})]},i.id)})}),e.jsx("div",{style:{padding:"12px",borderTop:`1px solid ${r.borderColorLight}`},children:k&&j?e.jsxs("div",{style:{marginBottom:"8px"},children:[!t&&e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"10px",borderRadius:"12px",backgroundColor:"transparent",border:`1px solid ${r.borderColor}`,marginBottom:"8px"},children:[e.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"50%",backgroundColor:r.primaryAccent,display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontWeight:600,fontSize:"14px",flexShrink:0},children:(j.firstName||j.displayName||"U").charAt(0).toUpperCase()}),e.jsxs("div",{style:{flex:1,minWidth:0,overflow:"hidden"},children:[e.jsx("div",{style:{fontWeight:600,fontSize:"14px",color:r.sidebarText,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:j.displayName||j.firstName||"Benutzer"}),j.email&&e.jsx("div",{style:{fontSize:"12px",color:r.sidebarText,opacity:.7,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:j.email})]})]}),e.jsxs("button",{onClick:x,style:{width:"100%",borderRadius:"12px",padding:"10px 12px",display:"flex",alignItems:"center",gap:"10px",justifyContent:t?"center":"flex-start",color:r.sidebarText,backgroundColor:"transparent",border:"none",cursor:"pointer",fontSize:"13px",transition:"all 0.2s"},onMouseEnter:i=>{i.currentTarget.style.backgroundColor=r.hoverBg},onMouseLeave:i=>{i.currentTarget.style.backgroundColor="transparent"},title:"Abmelden",children:[e.jsx(Ue,{style:{width:"18px",height:"18px",flexShrink:0}}),!t&&e.jsx("span",{children:"Abmelden"})]})]}):e.jsxs("button",{onClick:p,style:{width:"100%",borderRadius:"12px",padding:"10px 12px",display:"flex",alignItems:"center",gap:"10px",justifyContent:t?"center":"flex-start",color:r.sidebarText,backgroundColor:"transparent",border:`1px solid ${r.borderColor}`,cursor:"pointer",fontSize:"13px",fontWeight:500,transition:"all 0.2s",marginBottom:"8px"},onMouseEnter:i=>{i.currentTarget.style.backgroundColor=r.hoverBg},onMouseLeave:i=>{i.currentTarget.style.backgroundColor="transparent"},title:"Anmelden",children:[e.jsx(Ye,{style:{width:"18px",height:"18px",flexShrink:0}}),!t&&e.jsx("span",{children:"Anmelden"})]})}),e.jsx("div",{style:{padding:"0 12px 12px 12px"},children:e.jsx("button",{onClick:o,style:{width:"100%",borderRadius:"12px",padding:"12px",display:"flex",alignItems:"center",gap:"12px",justifyContent:t?"center":"flex-start",color:r.sidebarTextMuted,backgroundColor:"transparent",border:"none",cursor:"pointer",fontSize:"14px",transition:"all 0.2s"},onMouseEnter:i=>{i.currentTarget.style.backgroundColor=r.hoverBg,i.currentTarget.style.color=r.sidebarText},onMouseLeave:i=>{i.currentTarget.style.backgroundColor="transparent",i.currentTarget.style.color=r.sidebarTextMuted},children:t?e.jsx(Ke,{style:{width:"20px",height:"20px"}}):e.jsxs(e.Fragment,{children:[e.jsx(Ct,{style:{width:"20px",height:"20px"}}),e.jsx("span",{children:"Einklappen"})]})})})]})},Xt=({activeView:t,onNavigate:o,headerOffset:a=0,onLoginClick:l})=>{const[g,p]=n.useState(!1),[m,y]=n.useState([]),{branding:S,isWhiteLabel:I,partnerName:u,logoUrl:f,checkModuleAllowed:b}=X(),{user:j,isAuthenticated:k,isAdmin:E,logout:B}=ge(),{showSuccess:D}=Je(),C=Ze(S),G=n.useMemo(()=>{const i=Qe.filter(A=>{const _=A.moduleId||A.id;return b(_)});return E?[...i,...et]:i},[b,E]),x=async()=>{await B(),D("Sie wurden erfolgreich abgemeldet",3e3)},r=n.useMemo(()=>C?{headerBg:C.sidebarBg,headerText:C.sidebarText,headerTextMuted:C.sidebarTextMuted,menuBg:"#ffffff",activeBg:C.sidebarActiveBg,activeText:C.sidebarActiveText,hoverBg:C.sidebarHoverBg,primaryAccent:C.primaryAccent,borderColor:C.borderColor,textMain:N.slate[700],textMuted:N.slate[400]}:{headerBg:"#ffffff",headerText:N.slate[900],headerTextMuted:N.slate[400],menuBg:"#ffffff",activeBg:N.blue[50],activeText:N.blue[700],hoverBg:N.slate[50],primaryAccent:N.blue[600],borderColor:N.slate[200],textMain:N.slate[700],textMuted:N.slate[400]},[C]),w=i=>{o(i),p(!1)},T=i=>{y(A=>A.includes(i)?A.filter(_=>_!==i):[...A,i])};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{position:"fixed",top:a,left:0,right:0,height:"56px",backgroundColor:r.headerBg,borderBottom:`1px solid ${r.borderColor}`,display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 16px",zIndex:50,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.08)",transition:"top 0.15s ease-out"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[f?e.jsx("img",{src:f,alt:u,style:{width:"36px",height:"36px",borderRadius:"10px",objectFit:"contain"}}):e.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"10px",background:I?r.primaryAccent:`linear-gradient(135deg, ${N.blue[600]} 0%, ${N.teal[500]} 100%)`,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(be,{style:{width:"18px",height:"18px",color:"white"}})}),e.jsx("span",{style:{fontWeight:700,color:r.headerText,fontSize:"15px"},children:I?u:"Karriere Navigation"})]}),e.jsx("button",{onClick:()=>p(!g),style:{width:"56px",height:"56px",borderRadius:"12px",border:"none",backgroundColor:g?r.hoverBg:"transparent",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:g?e.jsx($e,{style:{width:"40px",height:"40px",color:r.headerText}}):e.jsx(kt,{style:{width:"40px",height:"40px",color:r.headerText}})})]}),e.jsx(oe,{children:g&&e.jsxs(e.Fragment,{children:[e.jsx(W.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>p(!1),style:{position:"fixed",top:a+56,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.3)",zIndex:40}}),e.jsxs(W.nav,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},style:{position:"fixed",top:a+56,left:0,right:0,backgroundColor:r.menuBg,zIndex:45,padding:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",borderBottomLeftRadius:"16px",borderBottomRightRadius:"16px",maxHeight:"70vh",overflowY:"auto"},children:[G.map(i=>{const A=i.icon,_=t===i.id||i.id==="dashboard"&&t==="roleplay"||i.id==="gym"&&t.startsWith("gym")||i.id==="admin"&&t.startsWith("admin"),F=i.subItems&&i.subItems.length>0,H=m.includes(i.id),$=i.adminOnly;return e.jsxs("div",{children:[$&&e.jsx("div",{style:{margin:"12px 8px",borderTop:`1px solid ${r.borderColor}`},children:e.jsx("span",{style:{display:"block",fontSize:"11px",fontWeight:600,color:r.textMuted,textTransform:"uppercase",letterSpacing:"0.5px",marginTop:"12px",marginBottom:"8px",paddingLeft:"8px"},children:"Admin"})}),e.jsxs("button",{onClick:()=>F?T(i.id):w(i.id),style:{width:"100%",display:"flex",alignItems:"center",gap:"12px",padding:"14px 16px",borderRadius:"12px",border:"none",backgroundColor:_?r.activeBg:"transparent",color:_?r.activeText:r.textMain,fontSize:"15px",fontWeight:_?600:500,cursor:"pointer",textAlign:"left",marginBottom:"4px"},children:[e.jsx(A,{style:{width:"22px",height:"22px",color:_?r.primaryAccent:r.textMuted}}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{children:i.label}),e.jsx("div",{style:{fontSize:"12px",color:r.textMuted,fontWeight:400},children:i.description})]}),F&&e.jsx(ve,{style:{width:"18px",height:"18px",color:r.textMuted,transition:"transform 0.2s",transform:H?"rotate(180deg)":"rotate(0deg)"}})]}),F&&H&&e.jsx("div",{style:{marginLeft:"20px",marginBottom:"8px"},children:i.subItems.map(P=>{const z=P.icon,R=t===P.id;return e.jsxs("button",{onClick:()=>w(P.id),style:{width:"100%",display:"flex",alignItems:"center",gap:"10px",padding:"12px 14px",borderRadius:"10px",border:"none",backgroundColor:R?r.activeBg:"transparent",color:R?r.activeText:r.textMain,fontSize:"14px",fontWeight:R?600:400,cursor:"pointer",textAlign:"left",marginBottom:"4px"},children:[e.jsx(z,{style:{width:"18px",height:"18px",color:R?r.primaryAccent:r.textMuted}}),e.jsx("span",{children:P.label})]},P.id)})})]},i.id)}),e.jsx("div",{style:{marginTop:"16px",paddingTop:"16px",borderTop:`1px solid ${r.borderColor}`},children:k&&j?e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",borderRadius:"12px",backgroundColor:"transparent",border:`1px solid ${r.borderColor}`,marginBottom:"8px"},children:[e.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:r.primaryAccent,display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontWeight:600,fontSize:"16px",flexShrink:0},children:(j.firstName||j.displayName||"U").charAt(0).toUpperCase()}),e.jsxs("div",{style:{flex:1,minWidth:0},children:[e.jsx("div",{style:{fontWeight:600,fontSize:"15px",color:r.textMain},children:j.displayName||j.firstName||"Benutzer"}),j.email&&e.jsx("div",{style:{fontSize:"13px",color:r.textMain,opacity:.7},children:j.email})]})]}),e.jsxs("button",{onClick:()=>{x(),p(!1)},style:{width:"100%",display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",borderRadius:"12px",border:"none",backgroundColor:"transparent",color:r.textMain,fontSize:"15px",fontWeight:500,cursor:"pointer",textAlign:"left"},children:[e.jsx(Ue,{style:{width:"20px",height:"20px"}}),e.jsx("span",{children:"Abmelden"})]})]}):e.jsxs("button",{onClick:()=>{l&&l(),p(!1)},style:{width:"100%",display:"flex",alignItems:"center",gap:"12px",padding:"14px 16px",borderRadius:"12px",border:`1px solid ${r.borderColor}`,backgroundColor:"transparent",color:r.textMain,fontSize:"15px",fontWeight:600,cursor:"pointer",textAlign:"left"},children:[e.jsx(Ye,{style:{width:"20px",height:"20px"}}),e.jsx("span",{children:"Anmelden"})]})})]})]})})]})},qt=({children:t,activeView:o,onNavigate:a,headerOffset:l=0,onLoginClick:g})=>{const[p,m]=n.useState(!1),[y,S]=n.useState(!1),{branding:I}=X(),u=n.useMemo(()=>{if(I){const b=I["--app-bg-start"]||"#f8fafc",j=I["--app-bg-mid"]||"#eff6ff",k=I["--app-bg-end"]||"#f0fdfa";return`linear-gradient(135deg, ${b} 0%, ${j} 50%, ${k} 100%)`}return"linear-gradient(135deg, #f8fafc 0%, #eff6ff 50%, #f0fdfa 100%)"},[I]);n.useEffect(()=>{const b=()=>{S(window.innerWidth<768)};b(),window.addEventListener("resize",b);const j=localStorage.getItem("sidebar-collapsed");return j!==null&&m(JSON.parse(j)),()=>window.removeEventListener("resize",b)},[]);const f=()=>{const b=!p;m(b),localStorage.setItem("sidebar-collapsed",JSON.stringify(b))};return y?e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:u,zIndex:-1}}),e.jsxs("div",{style:{minHeight:l>0?`calc(100vh - ${l}px)`:"100vh"},children:[e.jsx(Xt,{activeView:o,onNavigate:a,headerOffset:l,onLoginClick:g}),e.jsx("main",{"data-main-content":!0,style:{paddingTop:"56px",minHeight:l>0?`calc(100vh - ${l}px)`:"100vh"},children:t})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:u,zIndex:-1}}),e.jsxs("div",{style:{minHeight:l>0?`calc(100vh - ${l}px)`:"100vh"},children:[e.jsx(Kt,{isCollapsed:p,onToggleCollapse:f,activeView:o,onNavigate:a,headerOffset:l,onLoginClick:g}),e.jsx(W.main,{"data-main-content":!0,initial:!1,animate:{marginLeft:p?72:280},transition:{duration:.3,ease:[.4,0,.2,1]},style:{minHeight:l>0?`calc(100vh - ${l}px)`:"100vh"},children:t})]})]})};function Jt({isOpen:t,onClose:o,onSuccess:a}){const{branding:l,partnerName:g,logoUrl:p}=X(),[m,y]=n.useState(1),[S,I]=n.useState(""),[u,f]=n.useState(""),[b,j]=n.useState(""),[k,E]=n.useState(""),[B,D]=n.useState(""),[C,G]=n.useState(""),[x,r]=n.useState(!1),[w,T]=n.useState(""),[i,A]=n.useState(!1),[_,F]=n.useState(!1),H=l?.["--primary-accent"]||"#3A7FA7",$=l?.["--button-gradient"]||"linear-gradient(135deg, #3A7FA7 0%, #3DA389 100%)",P=l?.["--header-gradient"]||"linear-gradient(135deg, #3A7FA7 0%, #3DA389 100%)",z=l?.["--focus-ring"]||"rgba(58, 127, 167, 0.3)",R=l?.["--header-text"]||"#ffffff",M=l?.["--sidebar-text-color"]||"#ffffff",v=async c=>{if(c.preventDefault(),T(""),!S.trim()){T("Bitte geben Sie Ihren Demo-Code ein.");return}if(S.trim().length!==5){T("Der Demo-Code muss 5 Zeichen lang sein.");return}A(!0);try{const Z=Te(),Q=Ae(),ie=await(await fetch(`${Z}/demo/validate`,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":Q},credentials:"same-origin",body:JSON.stringify({demo_code:S.toUpperCase().trim()})})).json();if(!ie.valid){T("Der Demo-Code ist ungültig. Bitte überprüfen Sie Ihre Eingabe.");return}ie.is_activated?(F(!0),a&&a(S.toUpperCase().trim())):y(2)}catch(Z){console.error("[DEMO] Validation error:",Z),T("Ein Fehler ist aufgetreten. Bitte versuchen Sie es erneut.")}finally{A(!1)}},U=async c=>{if(c.preventDefault(),T(""),!u.trim()){T("Bitte geben Sie den Firmennamen ein.");return}if(!b.trim()){T("Bitte geben Sie den Namen des Ansprechpartners ein.");return}if(!B.trim()){T("Bitte geben Sie eine Kontakt-E-Mail ein.");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(B)){T("Bitte geben Sie eine gültige E-Mail-Adresse ein.");return}if(!x){T("Bitte stimmen Sie den Datenschutzbestimmungen zu.");return}A(!0);try{const Q=Te(),ae=Ae(),le=await(await fetch(`${Q}/demo/activate`,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":ae},credentials:"same-origin",body:JSON.stringify({demo_code:S.toUpperCase().trim(),company_name:u.trim(),contact_name:b.trim(),homepage:k.trim(),contact_email:B.trim(),phone:C.trim(),privacy_accepted:x})})).json();le.success?(F(!0),a&&a(S.toUpperCase().trim())):T(le.error?.message||"Ein Fehler ist aufgetreten. Bitte versuchen Sie es erneut.")}catch(Q){console.error("[DEMO] Activation error:",Q),T("Ein Fehler ist aufgetreten. Bitte versuchen Sie es erneut.")}finally{A(!1)}},re=()=>{_||(y(1),I(""),f(""),j(""),E(""),D(""),G(""),r(!1),T(""),o&&o())},Se=()=>{y(1),T("")},he=c=>{c.target===c.currentTarget&&re()};if(ue.useEffect(()=>{const c=Z=>{Z.key==="Escape"&&t&&re()};return document.addEventListener("keydown",c),()=>document.removeEventListener("keydown",c)},[t,_]),!t)return null;const q={width:"100%",padding:"10px 14px",fontSize:"14px",border:"1px solid #e2e8f0",borderRadius:"10px",outline:"none",transition:"all 0.2s ease",backgroundColor:"#ffffff"},K={borderColor:H,boxShadow:`0 0 0 3px ${z}`,backgroundColor:"#ffffff"},J={display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",onClick:he,role:"dialog","aria-modal":"true","aria-labelledby":"demo-modal-title",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-4 overflow-hidden max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"px-6 py-5",style:{background:P,color:R},children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[m===2&&e.jsx("button",{onClick:Se,className:"p-1.5 rounded-lg transition-colors",style:{color:R,backgroundColor:"transparent"},onMouseEnter:c=>c.target.style.backgroundColor="rgba(255,255,255,0.2)",onMouseLeave:c=>c.target.style.backgroundColor="transparent","aria-label":"Zurück",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("h2",{id:"demo-modal-title",className:"text-xl font-semibold",style:{color:R},children:m===1?"Demo-Code eingeben":"Kontaktdaten"})]}),e.jsx("button",{onClick:re,className:"p-2 rounded-xl transition-colors",style:{color:R,backgroundColor:"transparent"},onMouseEnter:c=>c.target.style.backgroundColor="rgba(255,255,255,0.2)",onMouseLeave:c=>c.target.style.backgroundColor="transparent","aria-label":"Schließen",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),p&&m===1&&e.jsx("div",{className:"mt-3 mb-1 flex justify-center",children:e.jsx("img",{src:p,alt:`${g} Logo`,style:{height:"4rem",maxWidth:"100%",objectFit:"contain"}})}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mt-3",children:[e.jsx("div",{className:"w-8 h-1 rounded-full transition-colors",style:{backgroundColor:R,opacity:m>=1?1:.3}}),e.jsx("div",{className:"w-8 h-1 rounded-full transition-colors",style:{backgroundColor:R,opacity:m>=2?1:.3}})]})]}),m===1&&e.jsxs("form",{onSubmit:v,className:"p-6 space-y-4",children:[e.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-xl text-blue-700 text-sm",children:e.jsx("p",{children:"Willkommen zur Demo! Bitte geben Sie den Demo-Code ein, den Sie von uns erhalten haben."})}),w&&e.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-xl text-red-700 text-sm flex items-start gap-3",children:[e.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{children:w})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"demo-code",style:J,children:["Demo-Code ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"demo-code",value:S,onChange:c=>I(c.target.value.toUpperCase()),style:{...q,fontFamily:"monospace",fontSize:"24px",fontWeight:"600",letterSpacing:"4px",textAlign:"center",padding:"16px 14px"},onFocus:c=>Object.assign(c.target.style,K),onBlur:c=>{c.target.style.borderColor="#e2e8f0",c.target.style.boxShadow="none"},placeholder:"XXXXX",maxLength:5,disabled:i,autoComplete:"off",autoFocus:!0})]}),e.jsx("button",{type:"submit",disabled:i,style:{width:"100%",padding:"14px 24px",fontSize:"16px",fontWeight:600,color:M,background:i?"#94a3b8":$,border:"none",borderRadius:"12px",cursor:i?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",transition:"all 0.2s ease",opacity:i?.7:1,boxShadow:i?"none":"0 4px 14px rgba(58, 127, 167, 0.3)",marginTop:"16px"},onMouseEnter:c=>{i||(c.target.style.transform="translateY(-1px)",c.target.style.boxShadow="0 6px 20px rgba(58, 127, 167, 0.4)")},onMouseLeave:c=>{c.target.style.transform="translateY(0)",c.target.style.boxShadow=i?"none":"0 4px 14px rgba(58, 127, 167, 0.3)"},children:i?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{fill:"none",viewBox:"0 0 24 24",style:{width:"20px",height:"20px",color:M,animation:"spin 1s linear infinite"},children:[e.jsx("circle",{style:{opacity:.25},cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{style:{opacity:.75},fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{style:{color:M},children:"Wird überprüft..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{fill:"none",viewBox:"0 0 24 24",stroke:M,style:{width:"20px",height:"20px"},children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),e.jsx("span",{style:{color:M},children:"Weiter"})]})}),e.jsxs("p",{className:"text-xs text-center text-gray-500 pt-2",children:["Haben Sie keinen Demo-Code? Kontaktieren Sie uns unter"," ",e.jsx("a",{href:"mailto:info@karriereheld.de",className:"underline",style:{color:H},children:"info@karriereheld.de"})]})]}),m===2&&e.jsxs("form",{onSubmit:U,className:"p-6 space-y-4",children:[e.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-xl text-green-700 text-sm",children:e.jsxs("p",{children:[e.jsx("strong",{children:"Code gültig!"})," Bitte geben Sie noch Ihre Kontaktdaten ein, um die Demo zu starten."]})}),w&&e.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-xl text-red-700 text-sm flex items-start gap-3",children:[e.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{children:w})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"company-name",style:J,children:["Firma ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"company-name",value:u,onChange:c=>f(c.target.value),style:q,onFocus:c=>Object.assign(c.target.style,K),onBlur:c=>{c.target.style.borderColor="#e2e8f0",c.target.style.boxShadow="none"},placeholder:"Ihre Firma",disabled:i,autoComplete:"organization",autoFocus:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"contact-name",style:J,children:["Ansprechpartner ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"contact-name",value:b,onChange:c=>j(c.target.value),style:q,onFocus:c=>Object.assign(c.target.style,K),onBlur:c=>{c.target.style.borderColor="#e2e8f0",c.target.style.boxShadow="none"},placeholder:"Ihr Name",disabled:i,autoComplete:"name"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"contact-email",style:J,children:["E-Mail ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",id:"contact-email",value:B,onChange:c=>D(c.target.value),style:q,onFocus:c=>Object.assign(c.target.style,K),onBlur:c=>{c.target.style.borderColor="#e2e8f0",c.target.style.boxShadow="none"},placeholder:"email@firma.de",disabled:i,autoComplete:"email"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"homepage",style:J,children:["Homepage ",e.jsx("span",{className:"text-gray-400",children:"(optional)"})]}),e.jsx("input",{type:"url",id:"homepage",value:k,onChange:c=>E(c.target.value),style:q,onFocus:c=>Object.assign(c.target.style,K),onBlur:c=>{c.target.style.borderColor="#e2e8f0",c.target.style.boxShadow="none"},placeholder:"https://www.ihre-firma.de",disabled:i,autoComplete:"url"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"phone",style:J,children:["Telefon ",e.jsx("span",{className:"text-gray-400",children:"(optional)"})]}),e.jsx("input",{type:"tel",id:"phone",value:C,onChange:c=>G(c.target.value),style:q,onFocus:c=>Object.assign(c.target.style,K),onBlur:c=>{c.target.style.borderColor="#e2e8f0",c.target.style.boxShadow="none"},placeholder:"+49 123 456789",disabled:i,autoComplete:"tel"})]}),e.jsxs("div",{className:"flex items-start gap-3 pt-2",children:[e.jsx("input",{type:"checkbox",id:"privacy-accepted",checked:x,onChange:c=>r(c.target.checked),className:"mt-1 w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500",disabled:i,style:{accentColor:H}}),e.jsxs("label",{htmlFor:"privacy-accepted",className:"text-sm text-gray-600",children:["Ich stimme den"," ",e.jsx("a",{href:"/datenschutz",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-gray-900",style:{color:H},children:"Datenschutzbestimmungen"})," ","zu. ",e.jsx("span",{className:"text-red-500",children:"*"})]})]}),e.jsx("button",{type:"submit",disabled:i,style:{width:"100%",padding:"14px 24px",fontSize:"16px",fontWeight:600,color:M,background:i?"#94a3b8":$,border:"none",borderRadius:"12px",cursor:i?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",transition:"all 0.2s ease",opacity:i?.7:1,boxShadow:i?"none":"0 4px 14px rgba(58, 127, 167, 0.3)",marginTop:"16px"},onMouseEnter:c=>{i||(c.target.style.transform="translateY(-1px)",c.target.style.boxShadow="0 6px 20px rgba(58, 127, 167, 0.4)")},onMouseLeave:c=>{c.target.style.transform="translateY(0)",c.target.style.boxShadow=i?"none":"0 4px 14px rgba(58, 127, 167, 0.3)"},children:i?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{fill:"none",viewBox:"0 0 24 24",style:{width:"20px",height:"20px",color:M,animation:"spin 1s linear infinite"},children:[e.jsx("circle",{style:{opacity:.25},cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{style:{opacity:.75},fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{style:{color:M},children:"Wird aktiviert..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{fill:"none",viewBox:"0 0 24 24",stroke:M,style:{width:"20px",height:"20px"},children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e.jsx("span",{style:{color:M},children:"Demo starten"})]})})]})]})})}const Zt="demo";function Qt({isOpen:t,onClose:o,onLoginSuccess:a}){const{login:l,logout:g,branding:p,partnerName:m,logoUrl:y,setDemoCode:S}=X(),[I,u]=n.useState(""),[f,b]=n.useState(""),[j,k]=n.useState(""),[E,B]=n.useState(!1),[D,C]=n.useState(!1),[G,x]=n.useState(null),r=p?.["--primary-accent"]||"#3A7FA7",w=p?.["--button-gradient"]||"linear-gradient(135deg, #3A7FA7 0%, #3DA389 100%)",T=p?.["--header-gradient"]||"linear-gradient(135deg, #3A7FA7 0%, #3DA389 100%)",i=p?.["--focus-ring"]||"rgba(58, 127, 167, 0.3)",A=p?.["--header-text"]||"#ffffff",_=p?.["--sidebar-text-color"]||"#ffffff",F=async v=>{if(v.preventDefault(),k(""),!I.trim()||!f.trim()){k("Bitte geben Sie Benutzername und Passwort ein.");return}B(!0);try{const U=await l(I,f);U.success?I.toLowerCase()===Zt?(localStorage.setItem("bewerbungstrainer_demo_pending","true"),x(U.user),C(!0),b("")):(u(""),b(""),a&&a(U.user),o&&o()):k(U.error||"Login fehlgeschlagen. Bitte versuchen Sie es erneut.")}catch(U){console.error("Login error:",U),k("Ein Fehler ist aufgetreten. Bitte versuchen Sie es erneut.")}finally{B(!1)}},H=v=>{localStorage.removeItem("bewerbungstrainer_demo_pending"),S&&S(v),u(""),b(""),C(!1),a&&G&&a(G),o&&o()},$=async()=>{localStorage.removeItem("bewerbungstrainer_demo_pending");try{g&&await g()}catch(v){console.error("[LOGIN] Error logging out demo user:",v)}C(!1),x(null),u(""),b("")},P=()=>{k(""),u(""),b(""),o&&o()},z=v=>{v.target===v.currentTarget&&P()};if(ue.useEffect(()=>{const v=U=>{U.key==="Escape"&&t&&P()};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[t]),!t)return null;const R={width:"100%",padding:"12px 16px",fontSize:"15px",border:"1px solid #e2e8f0",borderRadius:"12px",outline:"none",transition:"all 0.2s ease",backgroundColor:"#ffffff"},M={borderColor:r,boxShadow:`0 0 0 3px ${i}`,backgroundColor:"#ffffff"};return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",onClick:z,role:"dialog","aria-modal":"true","aria-labelledby":"login-modal-title",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-4 overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-5",style:{background:T,color:A},children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{id:"login-modal-title",className:"text-xl font-semibold",style:{color:A},children:"Anmelden"}),e.jsx("button",{onClick:P,className:"p-2 rounded-xl transition-colors",style:{color:A,backgroundColor:"transparent"},onMouseEnter:v=>v.target.style.backgroundColor="rgba(255,255,255,0.2)",onMouseLeave:v=>v.target.style.backgroundColor="transparent","aria-label":"Schließen",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),y&&e.jsx("div",{className:"mt-4 mb-2 flex justify-center",children:e.jsx("img",{src:y,alt:`${m} Logo`,style:{height:"8.5rem",maxWidth:"100%",objectFit:"contain"}})}),e.jsxs("p",{className:"text-sm mt-1",style:{color:A,opacity:.8},children:["Bei ",m," anmelden"]})]}),e.jsxs("form",{onSubmit:F,className:"p-6 space-y-5",children:[j&&e.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-xl text-red-700 text-sm flex items-start gap-3",children:[e.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{children:j})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"login-username",className:"block text-sm font-medium text-gray-700 mb-2",children:"Benutzername oder E-Mail"}),e.jsx("input",{type:"text",id:"login-username",value:I,onChange:v=>u(v.target.value),style:R,onFocus:v=>Object.assign(v.target.style,M),onBlur:v=>{v.target.style.borderColor="#e2e8f0",v.target.style.boxShadow="none",v.target.style.backgroundColor="#ffffff"},placeholder:"Ihr Benutzername",disabled:E,autoComplete:"username",autoFocus:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"login-password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Passwort"}),e.jsx("input",{type:"password",id:"login-password",value:f,onChange:v=>b(v.target.value),style:R,onFocus:v=>Object.assign(v.target.style,M),onBlur:v=>{v.target.style.borderColor="#e2e8f0",v.target.style.boxShadow="none",v.target.style.backgroundColor="#ffffff"},placeholder:"Ihr Passwort",disabled:E,autoComplete:"current-password"})]}),e.jsx("button",{type:"submit",disabled:E,style:{width:"100%",padding:"14px 24px",fontSize:"16px",fontWeight:600,color:_,background:E?"#94a3b8":w,border:"none",borderRadius:"12px",cursor:E?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",transition:"all 0.2s ease",opacity:E?.7:1,boxShadow:E?"none":"0 4px 14px rgba(58, 127, 167, 0.3)"},onMouseEnter:v=>{E||(v.target.style.transform="translateY(-1px)",v.target.style.boxShadow="0 6px 20px rgba(58, 127, 167, 0.4)")},onMouseLeave:v=>{v.target.style.transform="translateY(0)",v.target.style.boxShadow=E?"none":"0 4px 14px rgba(58, 127, 167, 0.3)"},children:E?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{fill:"none",viewBox:"0 0 24 24",style:{width:"20px",height:"20px",color:_,animation:"spin 1s linear infinite"},children:[e.jsx("circle",{style:{opacity:.25},cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{style:{opacity:.75},fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{style:{color:_,fontSize:"16px",fontWeight:600},children:"Wird angemeldet..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{fill:"none",viewBox:"0 0 24 24",stroke:_,style:{width:"20px",height:"20px"},children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),e.jsx("span",{style:{color:_,fontSize:"16px",fontWeight:600},children:"Anmelden"})]})}),e.jsx("p",{className:"text-xs text-center text-gray-500 pt-2",children:"Verwenden Sie Ihre WordPress-Zugangsdaten zur Anmeldung."})]})]}),e.jsx(Jt,{isOpen:D,onClose:$,onSuccess:H})]})}function en({isOpen:t,onClose:o,onAcknowledge:a}){const{branding:l,partnerName:g}=X(),[p,m]=n.useState(!1),[y,S]=n.useState(null),[I,u]=n.useState(!1),[f,b]=n.useState(""),j=l?.["--primary-accent"]||"#3A7FA7",k=l?.["--button-gradient"]||"linear-gradient(135deg, #3A7FA7 0%, #3DA389 100%)",E=l?.["--header-gradient"]||"linear-gradient(135deg, #3A7FA7 0%, #3DA389 100%)",B=l?.["--header-text"]||"#ffffff",D=l?.["--sidebar-text-color"]||"#ffffff";n.useEffect(()=>{t&&C()},[t]);const C=async()=>{try{const w=window.bewerbungstrainerConfig?.apiUrl||"/wp-json/bewerbungstrainer/v1",i=await(await fetch(`${w}/disclaimer/status`,{method:"GET",headers:{"Content-Type":"application/json","X-WP-Nonce":window.bewerbungstrainerConfig?.nonce||""},credentials:"same-origin"})).json();i.success&&i.disclaimer&&S(i.disclaimer)}catch(w){console.error("[DISCLAIMER] Error fetching status:",w),b("Fehler beim Laden des Hinweises")}},G=async()=>{if(y){u(!0),b("");try{const w=window.bewerbungstrainerConfig?.apiUrl||"/wp-json/bewerbungstrainer/v1",i=await(await fetch(`${w}/disclaimer/acknowledge`,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":window.bewerbungstrainerConfig?.nonce||""},credentials:"same-origin",body:JSON.stringify({disclaimer_id:y.id,dont_show_again:p})})).json();i.success?(a&&a(p),o&&o()):b(i.message||"Fehler bei der Bestätigung")}catch(w){console.error("[DISCLAIMER] Error acknowledging:",w),b("Ein Fehler ist aufgetreten")}finally{u(!1)}}},x=w=>{w.stopPropagation()};if(n.useEffect(()=>{const w=T=>{T.key==="Escape"&&t&&T.preventDefault()};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[t]),!t||!y)return null;const r=w=>w?w.split(`
`).map((T,i)=>T.trim()?e.jsx("p",{className:"mb-3 last:mb-0",children:T},i):null):null;return e.jsxs("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",style:{zIndex:99999},onClick:x,role:"dialog","aria-modal":"true","aria-labelledby":"disclaimer-modal-title",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full flex flex-col",style:{maxHeight:"min(85vh, 600px)",maxWidth:"520px",width:"100%"},children:[e.jsx("div",{className:"px-4 sm:px-6 py-4 flex-shrink-0 rounded-t-2xl",style:{background:E,color:B},children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-xl hidden sm:flex",style:{backgroundColor:"rgba(255,255,255,0.2)"},children:e.jsx(He,{className:"w-5 h-5",style:{color:B}})}),e.jsxs("div",{children:[e.jsx("h2",{id:"disclaimer-modal-title",className:"text-lg sm:text-xl font-semibold",style:{color:B},children:y.title}),e.jsxs("p",{className:"text-xs sm:text-sm mt-0.5",style:{color:B,opacity:.8},children:["Version ",y.version]})]})]})}),e.jsxs("div",{className:"p-5 sm:p-6 overflow-y-auto flex-1",children:[f&&e.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-xl text-red-700 text-sm flex items-start gap-3",children:[e.jsx(Nt,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:f})]}),e.jsx("div",{className:"bg-slate-50 rounded-xl p-4 border border-slate-200 mb-4 overflow-y-auto",style:{maxHeight:"180px"},children:e.jsx("div",{className:"text-gray-700 text-sm leading-relaxed",children:r(y.content)})}),e.jsxs("div",{className:"flex items-start gap-2 sm:gap-3 p-3 sm:p-4 bg-blue-50 rounded-xl border border-blue-100 mb-4",children:[e.jsx(Et,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("p",{className:"text-xs sm:text-sm text-blue-700",children:["Mit der Bestätigung akzeptieren Sie diese Nutzungshinweise für ",g,"."]})]}),e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group mb-4 sm:mb-5",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"checkbox",checked:p,onChange:w=>m(w.target.checked),className:"sr-only"}),e.jsx("div",{className:"w-5 h-5 rounded border-2 transition-all flex items-center justify-center",style:{borderColor:p?j:"#cbd5e1",backgroundColor:p?j:"transparent"},children:p&&e.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})]}),e.jsx("span",{className:"text-sm text-gray-700 group-hover:text-gray-900 transition-colors",children:"Diesen Hinweis nicht mehr anzeigen"})]}),e.jsx("button",{onClick:G,disabled:I,style:{width:"100%",padding:"12px 20px",fontSize:"15px",fontWeight:600,color:D,background:I?"#94a3b8":k,border:"none",borderRadius:"12px",cursor:I?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",transition:"all 0.2s ease",opacity:I?.7:1,boxShadow:I?"none":"0 4px 14px rgba(58, 127, 167, 0.3)"},onMouseEnter:w=>{I||(w.target.style.transform="translateY(-1px)",w.target.style.boxShadow="0 6px 20px rgba(58, 127, 167, 0.4)")},onMouseLeave:w=>{w.target.style.transform="translateY(0)",w.target.style.boxShadow=I?"none":"0 4px 14px rgba(58, 127, 167, 0.3)"},children:I?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{fill:"none",viewBox:"0 0 24 24",style:{width:"18px",height:"18px",color:D,animation:"spin 1s linear infinite"},children:[e.jsx("circle",{style:{opacity:.25},cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{style:{opacity:.75},fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{style:{color:D,fontSize:"15px",fontWeight:600},children:"Wird gespeichert..."})]}):e.jsx("span",{style:{color:D,fontSize:"15px",fontWeight:600},children:"Verstanden"})}),e.jsx("p",{className:"text-xs text-center text-gray-500 mt-3",children:p?"Sie werden diesen Hinweis bei zukünftigen Anmeldungen nicht mehr sehen.":"Dieser Hinweis wird bei jeder Anmeldung angezeigt."})]})]}),e.jsx("style",{children:`
          @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
          }
        `})]})}function tn(){const[t,o]=n.useState(!1),[a,l]=n.useState(!1),[g,p]=n.useState(!1);return{isOpen:t,needsDisclaimer:a,isChecking:g,openDisclaimerModal:()=>o(!0),closeDisclaimerModal:()=>{o(!1),l(!1)},checkDisclaimerStatus:async()=>{p(!0);try{const I=window.bewerbungstrainerConfig?.apiUrl||"/wp-json/bewerbungstrainer/v1",f=await(await fetch(`${I}/disclaimer/status`,{method:"GET",headers:{"Content-Type":"application/json","X-WP-Nonce":window.bewerbungstrainerConfig?.nonce||""},credentials:"same-origin"})).json();if(f.success){const b=f.needs_acknowledgment;return l(b),b&&o(!0),b}return!1}catch(I){return console.error("[DISCLAIMER] Error checking status:",I),!1}finally{p(!1)}}}}const s={HOME:"/",OVERVIEW:"/uebersicht",LIVE_TRAINING:"/live-training",LIVE_TRAINING_SETUP:"/live-training/vorbereitung",LIVE_TRAINING_DEVICES:"/live-training/geraete",LIVE_TRAINING_SESSION:"/live-training/session",LIVE_TRAINING_PROXY:"/live-training/session-proxy",SCENARIO_TRAINING:"/szenario-training",VIDEO_TRAINING:"/wirkungs-analyse",SMART_BRIEFING:"/smart-briefing",DECISION_BOARD:"/entscheidungs-kompass",IKIGAI:"/ikigai-kompass",RHETORIK_GYM:"/rhetorik-gym",RHETORIK_GYM_SESSION:"/rhetorik-gym/session",HISTORY:"/verlauf",SESSION_DETAIL:"/verlauf/:sessionType/:sessionId",USAGE_LIMITS:"/nutzung",ADMIN:"/admin",ADMIN_ROLEPLAYS:"/admin/szenarien",ADMIN_SIMULATOR:"/admin/simulator",ADMIN_VIDEO:"/admin/video",ADMIN_PARTNERS:"/admin/partner"},nn={overview:s.OVERVIEW,dashboard:s.LIVE_TRAINING,roleplay_variables:s.LIVE_TRAINING_SETUP,roleplay_device_setup:s.LIVE_TRAINING_DEVICES,roleplay:s.LIVE_TRAINING_SESSION,roleplay_proxy:s.LIVE_TRAINING_PROXY,simulator:s.SCENARIO_TRAINING,video_training:s.VIDEO_TRAINING,smart_briefing:s.SMART_BRIEFING,decision_board:s.DECISION_BOARD,ikigai:s.IKIGAI,history:s.HISTORY,session_detail:s.SESSION_DETAIL,usage_limits:s.USAGE_LIMITS,gym:s.RHETORIK_GYM,gym_klassiker:s.RHETORIK_GYM,gym_session:s.RHETORIK_GYM_SESSION,admin:s.ADMIN,admin_roleplays:s.ADMIN_ROLEPLAYS,admin_simulator:s.ADMIN_SIMULATOR,admin_video:s.ADMIN_VIDEO,admin_partners:s.ADMIN_PARTNERS},Me={[s.HOME]:"overview",[s.OVERVIEW]:"overview",[s.LIVE_TRAINING]:"dashboard",[s.LIVE_TRAINING_SETUP]:"dashboard",[s.LIVE_TRAINING_DEVICES]:"dashboard",[s.LIVE_TRAINING_SESSION]:"dashboard",[s.LIVE_TRAINING_PROXY]:"dashboard",[s.SCENARIO_TRAINING]:"simulator",[s.VIDEO_TRAINING]:"video_training",[s.SMART_BRIEFING]:"smart_briefing",[s.DECISION_BOARD]:"decision_board",[s.IKIGAI]:"ikigai",[s.RHETORIK_GYM]:"gym_klassiker",[s.RHETORIK_GYM_SESSION]:"gym_klassiker",[s.HISTORY]:"history",[s.USAGE_LIMITS]:"usage_limits",[s.ADMIN]:"admin",[s.ADMIN_ROLEPLAYS]:"admin_roleplays",[s.ADMIN_SIMULATOR]:"admin_simulator",[s.ADMIN_VIDEO]:"admin_video",[s.ADMIN_PARTNERS]:"admin_partners"};function rn(t){return Me[t]?Me[t]:t.startsWith("/verlauf/")?"history":"overview"}const Be={"#e91e63":"#3b82f6","#ec407a":"#3b82f6","#f06292":"#3b82f6","#d81b60":"#3b82f6","#c2185b":"#3b82f6","#ad1457":"#3b82f6","#880e4f":"#3b82f6","#ff4081":"#3b82f6","#f50057":"#3b82f6","#f44336":"#3b82f6","#e53935":"#3b82f6","#d32f2f":"#3b82f6","#c62828":"#3b82f6","#b71c1c":"#3b82f6","#ff1744":"#3b82f6","#ff5252":"#3b82f6","#ef5350":"#3b82f6","#e57373":"#3b82f6","#ff5722":"#f59e0b","#e64a19":"#f59e0b","#bf360c":"#f59e0b"},sn=t=>{if(!t||typeof t!="string")return!1;const o=t.replace("#","");if(o.length!==6)return!1;const a=parseInt(o.substring(0,2),16)/255,l=parseInt(o.substring(2,4),16)/255,g=parseInt(o.substring(4,6),16)/255,p=Math.max(a,l,g),m=Math.min(a,l,g),y=(p+m)/2;if(p===m)return!1;const S=p-m,I=y>.5?S/(2-p-m):S/(p+m);let u;switch(p){case a:u=((l-g)/S+(l<g?6:0))/6;break;case l:u=((g-a)/S+2)/6;break;case g:u=((a-l)/S+4)/6;break;default:u=0}const f=u*360;return I>.4&&(f>=330&&f<=360||f>=0&&f<=20)},tt=(t,o="#3b82f6")=>{if(!t||typeof t!="string")return o;const a=t.toLowerCase().trim();return Be[a]?Be[a]:sn(a)?o:t},on=({setup:t,isSelected:o,onSelect:a})=>{const[l,g]=n.useState(!1),p=tt(t.color),m=()=>o?p:l?"#d1d5db":"#f3f4f6",y=()=>o?`${p}08`:l?"#f9fafb":"white";return e.jsxs("button",{onClick:a,onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),className:"relative p-4 rounded-xl text-left transition-all",style:{border:`2px solid ${m()}`,backgroundColor:y(),boxShadow:l||o?"0 4px 6px -1px rgba(0, 0, 0, 0.1)":"none",outline:"none",WebkitAppearance:"none"},children:[o&&e.jsx("div",{className:"absolute top-3 right-3 w-5 h-5 rounded-full flex items-center justify-center",style:{backgroundColor:p},children:e.jsx(Tt,{size:12,className:"text-white",strokeWidth:3})}),e.jsx("div",{className:"w-11 h-11 rounded-xl flex items-center justify-center mb-3",style:{backgroundColor:`${p}15`},children:e.jsx("span",{className:"text-2xl",children:t.icon})}),e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-1 pr-6",children:t.name}),e.jsx("p",{className:"text-xs text-gray-500 leading-relaxed mb-3",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",wordBreak:"break-word"},children:t.description}),e.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[e.jsx("span",{className:"inline-flex text-[10px] px-2 py-0.5 rounded-full font-medium",style:{backgroundColor:`${p}15`,color:p},children:t.focus}),e.jsx("span",{className:"inline-flex text-[10px] px-2 py-0.5 rounded-full bg-gray-100 text-gray-600 font-medium",children:t.targetGroup})]})]})},an=()=>{const{currentSetup:t,setSelectedSetup:o,clearSelectedSetup:a,availableSetups:l,branding:g,setupsLoading:p}=X(),[m,y]=n.useState(!1),[S,I]=n.useState(!1);ue.useEffect(()=>{const k=()=>I(window.innerWidth<640);return k(),window.addEventListener("resize",k),()=>window.removeEventListener("resize",k)},[]);const u=g?.["--primary-accent"]||"#3A7FA7",f=k=>{o(k),y(!1)},b=()=>{a(),y(!1)},j=t?tt(t.color):null;return p?e.jsx("div",{className:"w-full flex items-center justify-center py-4",children:e.jsx(Xe,{className:"w-5 h-5 animate-spin text-gray-400"})}):!l||l.length===0?null:e.jsxs(e.Fragment,{children:[e.jsxs(W.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"w-full",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-2 px-1",children:"Filtere Trainingsszenarien nach deinem Fokus"}),e.jsxs("button",{onClick:()=>y(!0),className:"w-full flex items-center justify-between gap-3 transition-all cursor-pointer group",style:{padding:"12px 16px",borderRadius:"12px",border:"1px solid #e5e7eb",backgroundColor:"white",outline:"none",WebkitAppearance:"none"},children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0",style:{backgroundColor:j?`${j}15`:"#f1f5f9"},children:t?e.jsx("span",{className:"text-xl",children:t.icon}):e.jsx(Fe,{size:20,className:"text-gray-400"})}),e.jsxs("div",{className:"text-left min-w-0",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900 truncate",children:t?t.name:"Alle Szenarien"}),e.jsx("div",{className:"text-xs text-gray-500 truncate",children:t?`${t.focus} • ${t.targetGroup}`:"Trainings-Setup wählen"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[e.jsx("span",{className:"text-xs font-medium text-gray-400 hidden sm:inline group-hover:text-gray-600",children:"Ändern"}),e.jsx(ve,{size:18,className:"text-gray-400 group-hover:text-gray-600"})]})]})]}),Mt.createPortal(e.jsx(oe,{children:m&&e.jsxs(e.Fragment,{children:[e.jsx(W.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>y(!1),className:"fixed inset-0 bg-black/40 backdrop-blur-sm",style:{zIndex:9999}}),e.jsx("div",{className:"fixed inset-0 flex items-end sm:items-center justify-center sm:p-4",style:{zIndex:1e4},children:e.jsxs(W.div,{initial:{opacity:0,y:S?100:20,scale:S?1:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:S?100:20,scale:S?1:.95},transition:{type:"spring",damping:25,stiffness:400},className:"w-full sm:max-w-2xl bg-white shadow-2xl flex flex-col",style:{maxHeight:S?"calc(100vh - 60px)":"calc(100vh - 2rem)",borderRadius:S?"20px 20px 0 0":"16px"},children:[e.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-5 border-b border-gray-100 flex-shrink-0",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Trainings-Setup wählen"}),e.jsx("p",{className:"text-sm text-gray-500 mt-0.5 hidden sm:block",children:"Wähle deinen Schwerpunkt für passende Trainingsszenarien"})]}),e.jsx("button",{onClick:()=>y(!1),className:"flex items-center justify-center transition-colors flex-shrink-0",style:{width:"32px",height:"32px",borderRadius:"8px",backgroundColor:"#f3f4f6",border:"none",outline:"none",cursor:"pointer",WebkitAppearance:"none"},children:e.jsx($e,{size:18,style:{color:"#6b7280"}})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-5 overscroll-contain",style:{WebkitOverflowScrolling:"touch"},children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:l.map(k=>e.jsx(on,{setup:k,isSelected:t?.id===k.id,onSelect:()=>f(k.id)},k.id))})}),e.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-5 border-t border-gray-100 bg-gray-50/80 flex-shrink-0",style:{paddingBottom:S?"max(16px, env(safe-area-inset-bottom))":void 0},children:[e.jsx("button",{onClick:b,className:"transition-colors",style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid #e5e7eb",backgroundColor:"white",color:"#4b5563",fontSize:"14px",fontWeight:500,cursor:"pointer",outline:"none",WebkitAppearance:"none"},children:"Alle anzeigen"}),e.jsx("button",{onClick:()=>y(!1),className:"transition-all",style:{padding:"8px 20px",borderRadius:"8px",border:"none",background:u,color:"white",fontSize:"14px",fontWeight:600,cursor:"pointer",outline:"none",WebkitAppearance:"none"},children:"Fertig"})]})]})})]})}),document.body)]})},pe=({onNavigate:t})=>{const{branding:o,user:a}=X(),{isAuthenticated:l}=ge(),[g,p]=n.useState([]),[m,y]=n.useState(!1),S=o?.["--header-gradient"]||_e["--header-gradient"],I=o?.["--primary-accent"]||_e["--primary-accent"];n.useEffect(()=>{l&&u()},[l]);const u=async()=>{y(!0);try{const x=await Wt(6);p(x||[])}catch(x){console.error("Failed to load recent activities:",x),p([])}y(!1)},b=a?a.first_name?a.first_name:a.display_name?a.display_name.split(" ")[0]:a.name?a.name.split(" ")[0]:null:null,j=[{id:"ikigai",step:"1",title:"Orientierung",subtitle:"Ikigai-Kompass",description:"Finde den Schnittpunkt deiner Talente, Leidenschaften und Möglichkeiten.",icon:We,color:d.purple[500],bgLight:d.purple[50],gradient:`linear-gradient(135deg, ${d.purple[400]} 0%, ${d.purple[600]} 100%)`,route:"ikigai"},{id:"decision",step:"2",title:"Entscheiden",subtitle:"Decision-Navigator",description:"Löse dein Dilemma mit KI-gestützter Pro & Contra Analyse.",icon:Ve,color:d.blue[500],bgLight:d.blue[50],gradient:`linear-gradient(135deg, ${d.blue[400]} 0%, ${d.blue[600]} 100%)`,route:"decision_board"},{id:"briefing",step:"3",title:"Vorbereiten",subtitle:"Smart Briefing",description:"Erstelle deinen Schlachtplan mit personalisierten Leitfäden.",icon:At,color:d.amber[500],bgLight:d.amber[50],gradient:`linear-gradient(135deg, ${d.amber[400]} 0%, ${d.amber[600]} 100%)`,route:"smart_briefing"}],k=[{id:"simulator",title:"Szenario Training",subtitle:"Frage-Antwort",description:"Beantworte Interview-Fragen und erhalte sofortiges KI-Feedback.",icon:je,tag:"Audio-KI",color:d.green[500],bgLight:d.green[50],gradient:`linear-gradient(135deg, ${d.green[400]} 0%, ${d.teal[500]} 100%)`,route:"simulator"},{id:"roleplay",title:"Live Simulation",subtitle:"Echtzeit-Dialog",description:"Führe ein realistisches Gespräch mit dem KI-Interviewer.",icon:_t,tag:"Voice-KI",color:d.amber[500],bgLight:d.amber[50],gradient:`linear-gradient(135deg, ${d.amber[400]} 0%, ${d.red[400]} 100%)`,route:"dashboard"},{id:"video",title:"Wirkungsanalyse",subtitle:"Körpersprache",description:"Nimm dich auf Video auf und erhalte Feedback zu deiner Wirkung.",icon:ye,tag:"Video-KI",color:d.red[500],bgLight:d.red[50],gradient:`linear-gradient(135deg, ${d.red[400]} 0%, ${d.purple[500]} 100%)`,route:"video_training"},{id:"gym",title:"Rhetorik Gym",subtitle:"Sprechtraining",description:"Reduziere Füllwörter und verbessere deine Redegewandtheit.",icon:Rt,tag:"Drills",color:d.purple[500],bgLight:d.purple[50],gradient:`linear-gradient(135deg, ${d.purple[500]} 0%, ${d.blue[500]} 100%)`,route:"gym_klassiker"}],E={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.15}}},B={hidden:{opacity:0,y:24},visible:{opacity:1,y:0,transition:{duration:.5,ease:[.25,.1,.25,1]}}},D=x=>{t&&t(x)},C=x=>({briefing:"Smart Briefing",simulator:"Szenario-Training",video:"Wirkungs-Analyse",roleplay:"Live-Simulation",game:"Rhetorik-Gym",ikigai:"Ikigai-Kompass",decision:"Entscheidungs-Navigator"})[x]||x,G=x=>({briefing:d.amber[500],simulator:d.green[500],video:d.red[500],roleplay:d.amber[600],game:d.purple[500],ikigai:d.purple[500],decision:d.blue[500]})[x]||d.slate[400];return e.jsxs("div",{className:"min-h-screen py-8 lg:py-12 px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{style:{maxWidth:"1000px",margin:"0 auto"},children:[e.jsxs(W.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6,ease:[.25,.1,.25,1]},className:"text-center mb-14",children:[e.jsx("h1",{style:{fontSize:"clamp(26px, 4.5vw, 38px)",fontWeight:800,color:d.slate[900],marginBottom:"12px",lineHeight:1.2,letterSpacing:"-0.02em"},children:b?e.jsxs(e.Fragment,{children:["Hallo"," ",e.jsx("span",{style:{background:S,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:b}),", wo stehst du?"]}):e.jsxs(e.Fragment,{children:["Willkommen bei"," ",e.jsx("span",{style:{background:S,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"Karriereheld"})]})}),e.jsx("p",{style:{fontSize:"clamp(15px, 2vw, 17px)",color:d.slate[500],maxWidth:"420px",margin:"0 auto",lineHeight:1.6},children:"Erst denken, dann handeln. Wähle deine Phase."})]}),e.jsxs(W.section,{variants:E,initial:"hidden",animate:"visible",style:{marginBottom:"48px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"14px",marginBottom:"24px"},children:[e.jsx("span",{style:{background:`linear-gradient(135deg, ${d.slate[100]} 0%, ${d.slate[200]} 100%)`,color:d.slate[700],padding:"8px 14px",borderRadius:"10px",fontSize:"12px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Phase 1"}),e.jsx("h2",{style:{fontSize:"18px",fontWeight:700,color:d.slate[800],margin:0},children:"Deine Strategie"})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"20px"},className:"strategy-grid",children:j.map(x=>e.jsxs(W.div,{variants:B,whileHover:{y:-6,transition:{duration:.2}},whileTap:{scale:.98},onClick:()=>D(x.route),style:{background:"white",borderRadius:"20px",padding:"28px",cursor:"pointer",border:`1px solid ${d.slate[100]}`,boxShadow:"0 4px 20px rgba(0, 0, 0, 0.04)",transition:"all 0.3s cubic-bezier(0.25, 0.1, 0.25, 1)",position:"relative",overflow:"hidden"},onMouseEnter:r=>{r.currentTarget.style.boxShadow=`0 20px 40px -12px ${x.color}25`,r.currentTarget.style.borderColor=`${x.color}30`},onMouseLeave:r=>{r.currentTarget.style.boxShadow="0 4px 20px rgba(0, 0, 0, 0.04)",r.currentTarget.style.borderColor=d.slate[100]},children:[e.jsx("div",{style:{position:"absolute",top:"-30px",right:"-30px",width:"120px",height:"120px",borderRadius:"50%",background:`${x.color}08`,pointerEvents:"none"}}),e.jsx("div",{style:{position:"absolute",top:"20px",right:"20px",width:"32px",height:"32px",borderRadius:"10px",background:x.bgLight,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",fontWeight:700,color:x.color},children:x.step}),e.jsx("div",{style:{width:"56px",height:"56px",borderRadius:"16px",background:x.gradient,display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"20px",boxShadow:`0 8px 20px -4px ${x.color}40`},children:e.jsx(x.icon,{style:{width:"26px",height:"26px",color:"white"}})}),e.jsx("h3",{style:{fontSize:"20px",fontWeight:700,color:d.slate[900],marginBottom:"6px"},children:x.title}),e.jsx("p",{style:{fontSize:"13px",fontWeight:600,color:x.color,marginBottom:"10px"},children:x.subtitle}),e.jsx("p",{style:{fontSize:"14px",color:d.slate[500],lineHeight:1.6,margin:0,minHeight:"44px"},children:x.description}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"20px"},children:e.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"10px",background:d.slate[50],display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},children:e.jsx(Ee,{style:{width:"16px",height:"16px",color:d.slate[400]}})})})]},x.id))})]}),e.jsxs(W.section,{variants:E,initial:"hidden",animate:"visible",style:{marginBottom:"48px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"14px",marginBottom:"24px"},children:[e.jsx("span",{style:{background:`linear-gradient(135deg, ${d.green[50]} 0%, ${d.green[100]} 100%)`,color:d.green[700],padding:"8px 14px",borderRadius:"10px",fontSize:"12px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Phase 2"}),e.jsx("h2",{style:{fontSize:"18px",fontWeight:700,color:d.slate[800],margin:0},children:"Trainings-Arena"})]}),e.jsx("div",{style:{marginBottom:"24px"},children:e.jsx(an,{})}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"20px"},className:"training-grid",children:k.map(x=>e.jsxs(W.div,{variants:B,whileHover:{y:-6,transition:{duration:.2}},whileTap:{scale:.98},onClick:()=>D(x.route),style:{background:"white",borderRadius:"20px",padding:"26px",cursor:"pointer",border:`1px solid ${d.slate[100]}`,boxShadow:"0 4px 20px rgba(0, 0, 0, 0.04)",transition:"all 0.3s cubic-bezier(0.25, 0.1, 0.25, 1)",position:"relative",overflow:"hidden",display:"flex",flexDirection:"column"},onMouseEnter:r=>{r.currentTarget.style.boxShadow=`0 20px 40px -12px ${x.color}25`,r.currentTarget.style.borderColor=`${x.color}30`},onMouseLeave:r=>{r.currentTarget.style.boxShadow="0 4px 20px rgba(0, 0, 0, 0.04)",r.currentTarget.style.borderColor=d.slate[100]},children:[e.jsx("div",{style:{position:"absolute",top:"18px",right:"18px",background:x.bgLight,color:x.color,padding:"6px 12px",borderRadius:"8px",fontSize:"11px",fontWeight:700,textTransform:"uppercase",letterSpacing:"0.3px"},children:x.tag}),e.jsx("div",{style:{width:"52px",height:"52px",borderRadius:"14px",background:x.gradient,display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"18px",boxShadow:`0 8px 20px -4px ${x.color}40`},children:e.jsx(x.icon,{style:{width:"24px",height:"24px",color:"white"}})}),e.jsx("h3",{style:{fontSize:"18px",fontWeight:700,color:d.slate[900],marginBottom:"4px"},children:x.title}),e.jsx("p",{style:{fontSize:"13px",fontWeight:600,color:x.color,marginBottom:"8px"},children:x.subtitle}),e.jsx("p",{style:{fontSize:"14px",color:d.slate[500],lineHeight:1.5,margin:0,flex:1},children:x.description}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"16px"},children:e.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"10px",background:d.slate[50],display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(Ee,{style:{width:"16px",height:"16px",color:d.slate[400]}})})})]},x.id))})]}),l&&g.length>0&&e.jsx(W.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.5},children:e.jsxs("div",{style:{background:"white",borderRadius:"20px",padding:"28px",border:`1px solid ${d.slate[100]}`,boxShadow:"0 4px 20px rgba(0, 0, 0, 0.04)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"10px",background:d.slate[100],display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(Pe,{style:{width:"18px",height:"18px",color:d.slate[500]}})}),e.jsx("h3",{style:{fontSize:"16px",fontWeight:700,color:d.slate[800],margin:0},children:"Letzte Aktivitäten"})]}),e.jsxs("button",{onClick:()=>D("history"),style:{display:"flex",alignItems:"center",gap:"4px",color:I,fontSize:"13px",fontWeight:600,background:"none",border:"none",cursor:"pointer",padding:"6px 10px",borderRadius:"8px",transition:"background 0.2s ease"},onMouseEnter:x=>{x.currentTarget.style.background=d.slate[50]},onMouseLeave:x=>{x.currentTarget.style.background="none"},children:["Alle ansehen",e.jsx(Ke,{style:{width:"16px",height:"16px"}})]})]}),m?e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",padding:"32px",color:d.slate[500]},children:[e.jsx("div",{className:"animate-spin",style:{width:"20px",height:"20px",border:`2px solid ${d.slate[200]}`,borderTopColor:I,borderRadius:"50%"}}),"Lädt..."]}):e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:g.slice(0,5).map((x,r)=>e.jsxs(W.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.05*r},style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"14px 16px",background:d.slate[50],borderRadius:"12px",cursor:"pointer",transition:"all 0.2s ease",border:"1px solid transparent"},onClick:()=>D("history"),onMouseEnter:w=>{w.currentTarget.style.background="white",w.currentTarget.style.borderColor=d.slate[200]},onMouseLeave:w=>{w.currentTarget.style.background=d.slate[50],w.currentTarget.style.borderColor="transparent"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"14px",minWidth:0,flex:1},children:[e.jsx("div",{style:{width:"10px",height:"10px",borderRadius:"50%",background:G(x.type),flexShrink:0}}),e.jsxs("div",{style:{minWidth:0,flex:1},children:[e.jsx("p",{style:{fontSize:"14px",fontWeight:600,color:d.slate[800],margin:0,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:x.title||C(x.type)}),e.jsx("p",{style:{fontSize:"12px",color:d.slate[500],margin:"2px 0 0 0"},children:C(x.type)})]})]}),e.jsx("span",{style:{fontSize:"12px",color:d.slate[400],fontWeight:500,flexShrink:0,marginLeft:"16px"},children:Vt(x.created_at||x.date)})]},x.id||r))})]})}),!l&&e.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.4},style:{textAlign:"center",padding:"40px 32px",background:"white",borderRadius:"20px",border:`1px solid ${d.slate[100]}`,boxShadow:"0 4px 20px rgba(0, 0, 0, 0.04)"},children:[e.jsx("div",{style:{width:"56px",height:"56px",borderRadius:"16px",background:`linear-gradient(135deg, ${d.blue[50]} 0%, ${d.purple[50]} 100%)`,display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:e.jsx(Lt,{style:{width:"28px",height:"28px",color:d.blue[500]}})}),e.jsx("h3",{style:{fontSize:"18px",fontWeight:700,color:d.slate[800],marginBottom:"8px"},children:"Verfolge deinen Fortschritt"}),e.jsx("p",{style:{fontSize:"14px",color:d.slate[500],margin:0,maxWidth:"360px",marginLeft:"auto",marginRight:"auto",lineHeight:1.6},children:"Melde dich an, um deinen Fortschritt zu speichern und personalisierte Empfehlungen zu erhalten."})]})]}),e.jsx("style",{children:`
        @media (max-width: 900px) {
          .strategy-grid {
            grid-template-columns: 1fr !important;
          }
          .training-grid {
            grid-template-columns: 1fr !important;
          }
        }
        @media (min-width: 901px) and (max-width: 1100px) {
          .strategy-grid {
            grid-template-columns: repeat(3, 1fr) !important;
          }
          .training-grid {
            grid-template-columns: repeat(2, 1fr) !important;
          }
        }
      `})]})},ln=n.lazy(()=>V(()=>import("./RoleplayDashboard-DHnYv-x9.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13]),import.meta.url)),dn=n.lazy(()=>V(()=>import("./RoleplayDeviceSetup-Cb1Bz460.js"),__vite__mapDeps([14,1,2,15,10,6,7,11,16,13]),import.meta.url)),cn=n.lazy(()=>V(()=>import("./RoleplayVariablesPage-CMQDwdAx.js"),__vite__mapDeps([17,1,2,10,6,7,11,18]),import.meta.url)),De=n.lazy(()=>V(()=>import("./RoleplaySessionUnified-Do_-uExs.js"),__vite__mapDeps([19,1,2,20,6,7,3,4,5,21,11,12,13,16,10,22,15]),import.meta.url)),pn=n.lazy(()=>V(()=>import("./SessionHistory-BJPp-JRp.js"),__vite__mapDeps([23,1,2,21,6,7,11,12,13,3,4,5,10,20,24,25,26,27,28,29,30,31]),import.meta.url).then(t=>({default:t.default}))),xn=n.lazy(()=>V(()=>import("./SessionDetailView-DBejQCGD.js"),__vite__mapDeps([32,1,2,21,6,7,11,3,4,5,24,10,20]),import.meta.url)),un=n.lazy(()=>V(()=>import("./index-B_H-R5QP.js"),__vite__mapDeps([33,1,2,6,7,8,9,10,11,12,13,20,16,34,22,15,35,18]),import.meta.url).then(t=>({default:t.SimulatorApp}))),gn=n.lazy(()=>V(()=>import("./index-BNJNqz25.js"),__vite__mapDeps([36,1,2,6,7,8,9,10,11,12,13,15,16,35,20,22,34]),import.meta.url).then(t=>({default:t.VideoTrainingApp}))),hn=n.lazy(()=>V(()=>import("./index-BU1OEDFS.js"),__vite__mapDeps([37,1,2,20,4,5,6,7,16,10,11,13,9]),import.meta.url).then(t=>({default:t.RhetorikGym}))),mn=n.lazy(()=>V(()=>import("./index-BU1OEDFS.js"),__vite__mapDeps([37,1,2,20,4,5,6,7,16,10,11,13,9]),import.meta.url).then(t=>({default:t.GameSession}))),fn=n.lazy(()=>V(()=>import("./index-922rgEkj.js"),__vite__mapDeps([38,1,2,6,7,8,9,10,11,12,13,35,25,20]),import.meta.url).then(t=>({default:t.SmartBriefingApp}))),bn=n.lazy(()=>V(()=>import("./index-D7OfFpC_.js"),__vite__mapDeps([39,1,2,26,27,13,21,6,7,11,28,29,10,4,5,30]),import.meta.url).then(t=>({default:t.DecisionBoardApp}))),yn=n.lazy(()=>V(()=>import("./IkigaiApp-D4DlQcu2.js"),__vite__mapDeps([40,1,2,31,10,6,7,11,20,27,13,21,30,5]),import.meta.url)),jn=n.lazy(()=>V(()=>import("./UsageLimitsDisplay-D7O4pnZd.js"),__vite__mapDeps([41,1,2,21,6,7,11]),import.meta.url)),vn=n.lazy(()=>V(()=>import("./AdminDashboard-DvemnGlB.js"),__vite__mapDeps([42,1,2,27,13,21,6,7,11]),import.meta.url)),Sn=n.lazy(()=>V(()=>import("./ScenarioManager-DLFr6lER.js"),__vite__mapDeps([43,1,2,27,13,21,6,7,11,28,29,12,44]),import.meta.url)),In=n.lazy(()=>V(()=>import("./SimulatorScenarioManager-BYAzwE5m.js"),__vite__mapDeps([45,1,2,27,13,21,6,7,11,28]),import.meta.url)),wn=n.lazy(()=>V(()=>import("./VideoTrainingManager-BFk9zmFg.js"),__vite__mapDeps([46,1,2,27,13,21,6,7,11,28]),import.meta.url)),kn=n.lazy(()=>V(()=>import("./PartnerManager-CovGyBJw.js"),__vite__mapDeps([47,1,2,27,13,21,6,7,11,28,29,12,44]),import.meta.url)),ze={DIRECT:"direct",PROXY:"proxy"},xe={BRIEFINGS:"briefings",SIMULATOR:"simulator",VIDEO:"video",ROLEPLAY:"roleplay"},Cn=()=>e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"400px",gap:"16px"},children:[e.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:"linear-gradient(135deg, #38bdf8 0%, #818cf8 100%)",display:"flex",alignItems:"center",justifyContent:"center",animation:"pulse 1.5s ease-in-out infinite"},children:e.jsx(Xe,{size:24,color:"white",style:{animation:"spin 1s linear infinite"}})}),e.jsx("p",{style:{color:"rgba(255, 255, 255, 0.6)",fontSize:"14px"},children:"Modul wird geladen..."}),e.jsx("style",{children:`
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
        @keyframes pulse {
          0%, 100% { transform: scale(1); opacity: 1; }
          50% { transform: scale(1.05); opacity: 0.8; }
        }
      `})]});let nt=!1;const Nn=()=>(ue.useEffect(()=>{nt=!0},[]),e.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #0f172a 100%)",zIndex:9999},children:[e.jsx("div",{style:{position:"absolute",top:"20%",left:"10%",width:"300px",height:"300px",borderRadius:"50%",background:"radial-gradient(circle, rgba(56, 189, 248, 0.1) 0%, transparent 70%)",animation:"float 6s ease-in-out infinite"}}),e.jsx("div",{style:{position:"absolute",bottom:"20%",right:"10%",width:"400px",height:"400px",borderRadius:"50%",background:"radial-gradient(circle, rgba(139, 92, 246, 0.1) 0%, transparent 70%)",animation:"float 8s ease-in-out infinite reverse"}}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"32px",zIndex:1},children:[e.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"24px",background:"linear-gradient(135deg, #38bdf8 0%, #818cf8 100%)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 20px 40px rgba(56, 189, 248, 0.3)",animation:"pulse 2s ease-in-out infinite"},children:e.jsxs("svg",{width:"44",height:"44",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),e.jsx("path",{d:"M2 17l10 5 10-5"}),e.jsx("path",{d:"M2 12l10 5 10-5"})]})}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("h1",{style:{fontSize:"28px",fontWeight:700,color:"white",margin:0,letterSpacing:"-0.02em"},children:"Karriereheld"}),e.jsx("p",{style:{fontSize:"15px",color:"rgba(255, 255, 255, 0.6)",margin:"8px 0 0 0",fontWeight:400},children:"wird geladen..."})]}),e.jsx("div",{style:{width:"200px",height:"4px",backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:"2px",overflow:"hidden"},children:e.jsx("div",{style:{width:"40%",height:"100%",background:"linear-gradient(90deg, #38bdf8, #818cf8, #38bdf8)",backgroundSize:"200% 100%",borderRadius:"2px",animation:"loading 1.5s ease-in-out infinite"}})})]}),e.jsx("style",{children:`
          @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
          }
          @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
          }
          @keyframes loading {
            0% { transform: translateX(-100%); }
            50% { transform: translateX(150%); }
            100% { transform: translateX(400%); }
          }
        `})]})),Oe=()=>{requestAnimationFrame(()=>{window.scrollTo(0,0);const t=document.getElementById("bewerbungstrainer-app");t&&(t.scrollTop=0);const o=document.querySelector("[data-main-content]");o&&(o.scrollTop=0),document.querySelectorAll('.overflow-y-auto, .overflow-auto, [style*="overflow"]').forEach(l=>{l.scrollTop>0&&(l.scrollTop=0)})})};function En(){const t=document.body.classList.contains("admin-bar")||document.documentElement.classList.contains("admin-bar"),o=document.getElementById("wpadminbar");if(o){const a=o.getBoundingClientRect(),l=window.getComputedStyle(o);return!(l.display!=="none"&&l.visibility!=="hidden")||a.bottom<=0?0:a.top<0?Math.max(0,a.bottom):o.offsetHeight}return t?window.innerWidth<=782?46:32:0}function Tn(){const t=document.getElementById("bewerbungstrainer-app"),o=En(),a=document.elementFromPoint(window.innerWidth/2,o+10);if(a){let g=a;for(;g&&g!==document.body;){const p=g.tagName?.toLowerCase();if((p==="header"||p==="nav"||g.classList?.contains("site-header")||g.classList?.contains("elementor-location-header")||g.id==="masthead")&&(!t||!t.contains(g))){const S=g.getBoundingClientRect().bottom;return S<=o?o:Math.max(o,S)}g=g.parentElement}}const l=["header.site-header","#masthead",".site-header",".elementor-location-header",'[data-elementor-type="header"]',".ast-header-wrap","#starter-header",".header-wrapper","header"];for(const g of l){const p=document.querySelector(g);if(p&&(!t||!t.contains(p))){const y=p.getBoundingClientRect().bottom;return y<=o?o:Math.max(o,y)}}if(t){let g=t.previousElementSibling;for(;g;){const p=g.getBoundingClientRect();if(p.height>30&&p.top<100){const m=p.bottom;return m<=o?o:Math.max(o,m)}g=g.previousElementSibling}}return o}function An(){const t=Dt(),o=zt(),{isAuthenticated:a,authLoading:l,isLoading:g,demoCode:p}=X(),{isAdmin:m}=ge(),y=rn(o.pathname),[S,I]=n.useState(0),[u,f]=n.useState(null),[b,j]=n.useState({}),[k,E]=n.useState(null),[B,D]=n.useState("websocket"),[C,G]=n.useState(null),[x,r]=n.useState(null),[w,T]=n.useState(null),[i,A]=n.useState(!1),_=()=>A(!0),F=()=>A(!1),{isOpen:H,closeDisclaimerModal:$,checkDisclaimerStatus:P}=tn(),[z,R]=n.useState(null),[M,v]=n.useState(null),[U,re]=n.useState(null),[Se,he]=n.useState(null),[q,K]=n.useState(null),[J,c]=n.useState(null),[Z,Q]=n.useState(null),[ae,ie]=n.useState(0);n.useEffect(()=>{a&&!l&&P()},[a,l]);const le=n.useCallback(h=>{if(h)switch(h.type){case"SELECT_ROLEPLAY_SCENARIO":v(h.scenario),t(s.LIVE_TRAINING);break;case"SELECT_SIMULATOR_SCENARIO":re(h.scenario),t(s.SCENARIO_TRAINING);break;case"START_GYM_GAME":T(h.config),t(s.RHETORIK_GYM_SESSION,{state:{gameConfig:h.config}});break;case"SELECT_GYM_MODE":he(h.mode),t(s.RHETORIK_GYM);break;case"SELECT_VIDEO_TRAINING_SCENARIO":K(h.scenario),t(s.VIDEO_TRAINING);break;default:console.warn("Unknown pending action type:",h.type)}},[t]),te=n.useCallback((h,O=null)=>a?(h(),!0):(O&&R(O),_(),!1),[a]);n.useEffect(()=>{const h=()=>{const ne=Tn();I(ne)},O=(ne=0)=>{h(),ne<5&&setTimeout(()=>O(ne+1),200)};requestAnimationFrame(()=>{setTimeout(()=>O(),50)});const Y=()=>setTimeout(h,100);return window.addEventListener("load",Y),window.addEventListener("resize",h),window.addEventListener("scroll",h,{passive:!0}),()=>{window.removeEventListener("load",Y),window.removeEventListener("resize",h),window.removeEventListener("scroll",h)}},[]),n.useEffect(()=>{Oe()},[o.pathname]);const ee=n.useCallback(h=>{Oe(),h==="video_training"&&ie(Y=>Y+1);const O=nn[h];t(O||s.OVERVIEW)},[t]),rt=n.useCallback(h=>{f(h),j({}),E(null),t(s.LIVE_TRAINING_SETUP,{state:{scenario:h}})},[t]),it=n.useCallback(h=>{j(h),t(s.LIVE_TRAINING_DEVICES,{state:{scenario:u,variables:h}})},[t,u]),st=n.useCallback(()=>{f(null),j({}),t(s.LIVE_TRAINING)},[t]),ot=n.useCallback(({selectedMicrophoneId:h,connectionMode:O="websocket"})=>{E(h),D(O);const Y=O==="proxy"?s.LIVE_TRAINING_PROXY:s.LIVE_TRAINING_SESSION;t(Y,{state:{scenario:u,variables:b,microphoneId:h}})},[t,u,b]),at=n.useCallback(()=>{E(null),t(s.LIVE_TRAINING_SETUP,{state:{scenario:u}})},[t,u]),Ie=n.useCallback(()=>{f(null),j({}),t(s.LIVE_TRAINING)},[t]),we=n.useCallback(h=>{f(null),j({}),G(h),t(`/verlauf/${h.type||"roleplay"}/${h.id}`,{state:{session:h}})},[t]),lt=n.useCallback((h=null)=>{r(h),t(s.HISTORY,{state:{initialTab:h}})},[t]),dt=n.useCallback(()=>{r(null),t(s.LIVE_TRAINING)},[t]),de=n.useCallback(h=>{const Y={briefings:xe.BRIEFINGS,simulator:xe.SIMULATOR,video:xe.VIDEO,roleplay:xe.ROLEPLAY}[h]||null;r(Y),t(s.HISTORY,{state:{initialTab:Y}})},[t]),ct=n.useCallback(h=>{G(h),t(`/verlauf/${h.type||"roleplay"}/${h.id}`,{state:{session:h}})},[t]),pt=n.useCallback(()=>{G(null),t(s.HISTORY)},[t]),xt=n.useCallback((h,O)=>{c({session:h,scenario:O}),t(s.SCENARIO_TRAINING)},[t]),ke=n.useCallback((h,O,Y)=>{const ne=Y||h?.type;ne==="roleplay"?(O&&v(O),t(s.LIVE_TRAINING)):ne==="video"?(O&&K(O),t(s.VIDEO_TRAINING)):(Q({session:h,scenario:O}),t(s.SCENARIO_TRAINING))},[t]),ut=n.useCallback(h=>{T(h),t(s.RHETORIK_GYM_SESSION,{state:{gameConfig:h}})},[t]),gt=n.useCallback(()=>{T(null),t(s.RHETORIK_GYM)},[t]),ht=n.useCallback(h=>{},[]),se=n.useCallback(({children:h})=>m?h:e.jsx(pe,{onNavigate:ee}),[m,ee]);if(g&&!nt)return e.jsx(Nn,{});const ce=()=>o.state?.scenario||u,Ce=()=>o.state?.variables||b,Ne=()=>o.state?.microphoneId||k,mt=()=>o.state?.gameConfig||w,ft=()=>o.state?.session||C,bt=()=>o.state?.initialTab||x,yt=()=>e.jsx(n.Suspense,{fallback:e.jsx(Cn,{}),children:e.jsxs(Ot,{children:[e.jsx(L,{path:"/",element:e.jsx(pe,{onNavigate:ee})}),e.jsx(L,{path:s.OVERVIEW,element:e.jsx(pe,{onNavigate:ee})}),e.jsx(L,{path:s.LIVE_TRAINING,element:e.jsx(ln,{onSelectScenario:rt,onOpenHistory:lt,isAuthenticated:a,requireAuth:te,setPendingAction:R,pendingScenario:M,clearPendingScenario:()=>v(null),onNavigateToHistory:()=>de("roleplay")})}),e.jsx(L,{path:s.LIVE_TRAINING_SETUP,element:e.jsx(cn,{scenario:ce(),onBack:st,onNext:it})}),e.jsx(L,{path:s.LIVE_TRAINING_DEVICES,element:e.jsx(dn,{scenario:ce(),onBack:at,onStart:ot})}),e.jsx(L,{path:s.LIVE_TRAINING_SESSION,element:e.jsx(De,{scenario:ce(),variables:Ce(),selectedMicrophoneId:Ne(),connectionMode:ze.DIRECT,onEnd:Ie,onNavigateToSession:we})}),e.jsx(L,{path:s.LIVE_TRAINING_PROXY,element:e.jsx(De,{scenario:ce(),variables:Ce(),selectedMicrophoneId:Ne(),connectionMode:ze.PROXY,onEnd:Ie,onNavigateToSession:we})}),e.jsx(L,{path:s.SCENARIO_TRAINING,element:e.jsx(un,{isAuthenticated:a,requireAuth:te,setPendingAction:R,pendingContinueSession:J,clearPendingContinueSession:()=>c(null),pendingRepeatSession:Z,clearPendingRepeatSession:()=>Q(null),onNavigateToHistory:()=>de("simulator")})}),e.jsx(L,{path:s.VIDEO_TRAINING,element:e.jsx(gn,{isAuthenticated:a,requireAuth:te,setPendingAction:R,pendingScenario:q,clearPendingScenario:()=>K(null),onNavigateToHistory:()=>de("video")},ae)}),e.jsx(L,{path:s.SMART_BRIEFING,element:e.jsx(fn,{isAuthenticated:a,requireAuth:te,setPendingAction:R,demoCode:p,onNavigateToSimulator:()=>t(s.SCENARIO_TRAINING),onNavigateToHistory:()=>de("briefings")})}),e.jsx(L,{path:s.DECISION_BOARD,element:e.jsx(bn,{isAuthenticated:a,requireAuth:te,setPendingAction:R})}),e.jsx(L,{path:s.IKIGAI,element:e.jsx(yn,{isAuthenticated:a,requireAuth:te,setPendingAction:R,onNavigateToHistory:()=>t(s.HISTORY)})}),e.jsx(L,{path:s.RHETORIK_GYM,element:e.jsx(hn,{onStartGame:ut,isAuthenticated:a,requireAuth:te,setPendingAction:R})}),e.jsx(L,{path:s.RHETORIK_GYM_SESSION,element:e.jsx(mn,{gameConfig:mt(),onBack:gt,onComplete:ht})}),e.jsx(L,{path:s.HISTORY,element:e.jsx(pn,{onBack:dt,onSelectSession:ct,isAuthenticated:a,onLoginClick:_,onContinueSession:xt,onRepeatSession:ke,initialTab:bt(),onNavigateToModule:ee})}),e.jsx(L,{path:"/verlauf/:sessionType/:sessionId",element:e.jsx(xn,{session:ft(),onBack:pt,onRepeatSession:ke})}),e.jsx(L,{path:s.USAGE_LIMITS,element:e.jsx("div",{style:{padding:"24px",maxWidth:"600px",margin:"0 auto"},children:e.jsx(jn,{onNavigateToRoleplay:()=>t(s.LIVE_TRAINING)})})}),e.jsx(L,{path:s.ADMIN,element:e.jsx(se,{children:e.jsx("div",{style:{padding:"24px"},children:e.jsx(vn,{onNavigate:ee})})})}),e.jsx(L,{path:s.ADMIN_ROLEPLAYS,element:e.jsx(se,{children:e.jsx("div",{style:{padding:"24px"},children:e.jsx(Sn,{onBack:()=>t(s.ADMIN)})})})}),e.jsx(L,{path:s.ADMIN_SIMULATOR,element:e.jsx(se,{children:e.jsx("div",{style:{padding:"24px"},children:e.jsx(In,{onBack:()=>t(s.ADMIN)})})})}),e.jsx(L,{path:s.ADMIN_VIDEO,element:e.jsx(se,{children:e.jsx("div",{style:{padding:"24px"},children:e.jsx(wn,{onBack:()=>t(s.ADMIN)})})})}),e.jsx(L,{path:s.ADMIN_PARTNERS,element:e.jsx(se,{children:e.jsx("div",{style:{padding:"24px"},children:e.jsx(kn,{onBack:()=>t(s.ADMIN)})})})}),e.jsx(L,{path:"*",element:e.jsx(pe,{onNavigate:ee})})]})});return e.jsxs(e.Fragment,{children:[e.jsx(qt,{activeView:y,onNavigate:ee,headerOffset:S,onLoginClick:_,children:yt()}),e.jsx(Qt,{isOpen:i,onClose:()=>{F(),R(null)},onLoginSuccess:async h=>{await P(),z&&(le(z),R(null))}}),e.jsx(en,{isOpen:H,onClose:$,onAcknowledge:h=>{$()}})]})}function _n(){return e.jsx(Bt,{children:e.jsx(Ft,{children:e.jsx(Yt,{children:e.jsx(An,{})})})})}let me=!1,fe=null;function Rn(){if(me)return;const t=document.getElementById("bewerbungstrainer-app")||document.getElementById("root");if(!t){console.error("❌ Bewerbungstrainer: Root element not found! Looking for #bewerbungstrainer-app or #root");return}if(t._reactRootContainer||t.__reactRoot||fe){console.warn("⚠️ Bewerbungstrainer: Root element already has a React root, skipping re-mount..."),me=!0;return}try{for(;t.firstChild;)t.removeChild(t.firstChild);fe=Gt.createRoot(t),fe.render(e.jsx(n.StrictMode,{children:e.jsx(_n,{})})),me=!0}catch(o){console.error("❌ Bewerbungstrainer: Failed to mount React app:",o)}}function Ln(){const t=()=>{requestAnimationFrame(()=>{try{Rn()}catch(o){console.error("❌ Bewerbungstrainer: Error during mount:",o)}})};if(document.getElementById("bewerbungstrainer-app")||document.getElementById("root")){setTimeout(t,50);return}if(document.readyState==="loading")document.addEventListener("DOMContentLoaded",()=>setTimeout(t,50));else{let o=0;const a=50,l=setInterval(()=>{o++,document.getElementById("bewerbungstrainer-app")||document.getElementById("root")?(clearInterval(l),setTimeout(t,50)):o>=a&&(clearInterval(l),console.error("❌ Bewerbungstrainer: Element not found after 5 seconds"))},100)}}Ln();
