import{c as se,w as U,a as l,q as re,j as e,t as te,x as ie,B as le,z as w,L as ne,N as L,C as ae,Q as O,V as H,s as oe,v as ce,A as de,E as me,b as xe,y as he,G as ue,J as ge,P as be,M as q,S as fe,T as J,U as X,$ as pe}from"./button-M9vmrOUV.js";const je=se("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);const Y=se("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);function ve({onComplete:c}){const d=U.isWordPress()?U.getCurrentUser():null,R=d?.id&&d.id>0&&(d?.firstName||d?.name)||"",[t,j]=l.useState(1),[h,y]=l.useState({name:R,position:"",company:"",experience_level:"professional"}),[f,k]=l.useState([]),[o,i]=l.useState([]),[a,m]=l.useState({}),[C,z]=l.useState(!1),[p,E]=l.useState(null),[S,D]=l.useState({video:"",audio:""}),[P,B]=l.useState({video:[],audio:[]}),N=(s,r)=>{y(n=>({...n,[s]:r})),a[s]&&m(n=>({...n,[s]:""}))},$=s=>{const r={};return s===1&&(h.position.trim()||(r.position="Bitte gib die Position ein")),m(r),Object.keys(r).length===0},W=async()=>{z(!0),m({});try{const s=await U.generateQuestions({position:h.position,company:h.company,experience_level:h.experience_level});if(s.success&&s.data.questions){const r=s.data.questions;k(r),i(r.map(n=>n.id)),j(2)}else m({generate:"Fehler beim Generieren der Fragen"})}catch(s){console.error("Error generating questions:",s),m({generate:s.message||"Fehler beim Generieren der Fragen"})}finally{z(!1)}},G=s=>{i(r=>r.includes(s)?r.filter(n=>n!==s):[...r,s])},_=async()=>{m({});try{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("MediaDevices API not available in this browser");const s=await navigator.mediaDevices.enumerateDevices(),r=s.some(g=>g.kind==="videoinput"),n=s.some(g=>g.kind==="audioinput");if(!r&&!n)throw new Error("Keine Kamera oder Mikrofon gefunden. Bitte stelle sicher, dass GerÃ¤te angeschlossen sind.");let b=null;try{b=await navigator.mediaDevices.getUserMedia({video:r,audio:n})}catch(g){if(r)try{b=await navigator.mediaDevices.getUserMedia({video:!0,audio:!1})}catch(M){console.error("Could not get camera:",M)}if(!b&&n)try{b=await navigator.mediaDevices.getUserMedia({video:!1,audio:!0})}catch(M){console.error("Could not get microphone:",M)}if(!b)throw g}E(b);const I=await navigator.mediaDevices.enumerateDevices(),v=I.filter(g=>g.kind==="videoinput"),F=I.filter(g=>g.kind==="audioinput");B({video:v,audio:F});const V=b.getVideoTracks()[0],Z=b.getAudioTracks()[0];if(V){const g=V.getSettings();D(M=>({...M,video:g.deviceId||v[0]?.deviceId||""}))}if(Z){const g=Z.getSettings();D(M=>({...M,audio:g.deviceId||F[0]?.deviceId||""}))}if(v.length===0||F.length===0){const g=[];v.length===0&&g.push("Kamera"),F.length===0&&g.push("Mikrofon"),m({devices:`âš ï¸ ${g.join(" und ")} nicht gefunden. Du kannst trotzdem fortfahren, aber die AufnahmequalitÃ¤t kÃ¶nnte eingeschrÃ¤nkt sein.`,showRetry:!1})}}catch(s){console.error("âŒ Error accessing devices:",s),console.error("Error name:",s.name),console.error("Error message:",s.message);let r="Fehler beim Zugriff auf Kamera oder Mikrofon",n=!0;s.name==="NotAllowedError"||s.name==="PermissionDeniedError"?r='Zugriff auf Kamera/Mikrofon wurde verweigert. Bitte klicke auf "Zulassen" im Browser-Dialog und versuche es erneut.':s.name==="NotFoundError"?r=`Keine Kamera oder Mikrofon gefunden. MÃ¶gliche GrÃ¼nde:

â€¢ Kein GerÃ¤t ist angeschlossen
â€¢ Das GerÃ¤t wird von einer anderen Anwendung verwendet
â€¢ Der Browser hat keinen Zugriff auf das GerÃ¤t

Bitte Ã¼berprÃ¼fe deine GerÃ¤te und Browser-Einstellungen.`:s.name==="NotReadableError"||s.name==="OverconstrainedError"?r="Kamera/Mikrofon wird bereits von einer anderen Anwendung verwendet oder ist nicht verfÃ¼gbar. Bitte schlieÃŸe andere Apps, die auf die Kamera/Mikrofon zugreifen (z.B. Zoom, Teams, Skype).":r=`Fehler beim Zugriff auf Kamera/Mikrofon: ${s.message}`,m({devices:r,showRetry:n})}},A=async()=>{if($(t)){if(t===1)await W();else if(t===2){if(o.length===0){m({questions:"Bitte wÃ¤hle mindestens eine Frage aus"});return}j(3),await _()}}},K=()=>{t>1&&(j(t-1),t===3&&p&&(p.getTracks().forEach(s=>s.stop()),E(null)))},Q=()=>{const s=f.filter(r=>o.includes(r.id));c({...h,questions:s,cameraStream:p,selectedDevices:S})},x=async(s,r)=>{if(!r||r===""){console.warn("Invalid deviceId, skipping change");return}if(D(n=>({...n,[s]:r})),p){p.getTracks().forEach(v=>v.stop());const n=s==="video"?r:S.video,b=s==="audio"?r:S.audio,I={video:n&&n!==""?{deviceId:{exact:n}}:!0,audio:b&&b!==""?{deviceId:{exact:b}}:!0};try{const v=await navigator.mediaDevices.getUserMedia(I);E(v)}catch(v){console.error("Error changing device:",v),m({devices:"Fehler beim Wechseln des GerÃ¤ts: "+v.message})}}};return re.useEffect(()=>{if(p&&t===3){const s=document.getElementById("camera-preview");s&&(s.srcObject=p)}},[p,t]),e.jsxs("div",{className:"w-full max-w-4xl mx-auto p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:[1,2,3].map(s=>e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${t>=s?"bg-ocean-600 text-white":"bg-gray-200 text-gray-500"}`,children:t>s?e.jsx(te,{className:"w-6 h-6"}):s}),s<3&&e.jsx("div",{className:`flex-1 h-1 mx-2 ${t>s?"bg-ocean-600":"bg-gray-200"}`})]},s))}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[e.jsx("span",{children:"PersÃ¶nliche Daten"}),e.jsx("span",{children:"Fragen generieren"}),e.jsx("span",{children:"Kamera & Mikrofon"})]})]}),t===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"PersÃ¶nliche Parameter"}),e.jsx("p",{className:"text-gray-600",children:"Gib deine Informationen ein, um personalisierte Interviewfragen zu generieren."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(ie,{className:"inline w-4 h-4 mr-2"}),"Name (optional)"]}),e.jsx("input",{type:"text",value:h.name,onChange:s=>N("name",s.target.value),placeholder:"Dein Name",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ocean-500 focus:border-ocean-500"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(le,{className:"inline w-4 h-4 mr-2"}),"Zielposition *"]}),e.jsx("input",{type:"text",value:h.position,onChange:s=>N("position",s.target.value),placeholder:"z.B. Junior Product Manager",className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-ocean-500 focus:border-ocean-500 ${a.position?"border-red-500":"border-gray-300"}`}),a.position&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.position})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(je,{className:"inline w-4 h-4 mr-2"}),"Firma / Wunschfirma (optional)"]}),e.jsx("input",{type:"text",value:h.company,onChange:s=>N("company",s.target.value),placeholder:"z.B. BMW",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ocean-500 focus:border-ocean-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Erfahrungslevel"}),e.jsxs("select",{value:h.experience_level,onChange:s=>N("experience_level",s.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ocean-500 focus:border-ocean-500",children:[e.jsx("option",{value:"student",children:"SchÃ¼ler"}),e.jsx("option",{value:"entry",children:"Berufseinsteiger"}),e.jsx("option",{value:"professional",children:"Professional"}),e.jsx("option",{value:"senior",children:"Senior / FÃ¼hrungskraft"})]})]})]}),a.generate&&e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:a.generate}),e.jsx("div",{className:"flex justify-end",children:e.jsx(w,{onClick:A,disabled:C,className:"bg-ocean-600 hover:bg-ocean-700 text-white px-6 py-3 flex items-center",children:C?e.jsxs(e.Fragment,{children:[e.jsx(ne,{className:"w-5 h-5 mr-2 animate-spin"}),e.jsx("span",{children:"Fragen werden generiert..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Fragen generieren"}),e.jsx(L,{className:"w-5 h-5 ml-2"})]})})})]}),t===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Deine Interviewfragen"}),e.jsxs("p",{className:"text-gray-600",children:["KarriereHeld hat ",f.length," Fragen fÃ¼r dich erstellt. Alle Fragen sind bereits ausgewÃ¤hlt. Du kannst Fragen abwÃ¤hlen, wenn du mÃ¶chtest (mindestens 1 Frage muss ausgewÃ¤hlt bleiben)."]}),e.jsx("div",{className:"p-4 bg-ocean-50 border border-ocean-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-ocean-800",children:[e.jsx("strong",{children:o.length})," von ",e.jsx("strong",{children:f.length})," Fragen ausgewÃ¤hlt"]})}),e.jsx("div",{className:"space-y-3",children:f.map((s,r)=>e.jsx("div",{className:`p-4 border-2 rounded-lg cursor-pointer transition-all ${o.includes(s.id)?"border-ocean-500 bg-ocean-50":"border-gray-200 bg-white hover:border-gray-300"}`,onClick:()=>G(s.id),children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:`w-6 h-6 rounded border-2 flex items-center justify-center mr-3 mt-0.5 flex-shrink-0 transition-colors ${o.includes(s.id)?"border-ocean-500 bg-ocean-500":"border-gray-400 bg-white"}`,children:o.includes(s.id)&&e.jsx(ae,{className:"w-4 h-4 text-white",strokeWidth:3})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"font-medium text-gray-800",children:[r+1,". ",s.question]}),s.category&&e.jsx("span",{className:"inline-block mt-2 px-2 py-1 text-xs rounded-full bg-gray-100 text-gray-600",children:s.category})]})]})},s.id))}),a.questions&&e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:a.questions}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs(w,{onClick:K,variant:"outline",className:"px-6 py-3 flex items-center",children:[e.jsx(O,{className:"w-5 h-5 mr-2"}),e.jsx("span",{children:"ZurÃ¼ck"})]}),e.jsxs(w,{onClick:A,className:"bg-ocean-600 hover:bg-ocean-700 !text-white px-6 py-3 flex items-center",children:[e.jsx("span",{children:"Weiter"}),e.jsx(L,{className:"w-5 h-5 ml-2"})]})]})]}),t===3&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Kamera & Mikrofon Check"}),e.jsx("p",{className:"text-gray-600",children:"Stelle sicher, dass deine Kamera und dein Mikrofon richtig funktionieren. Das gesamte Interview wird in einem durchgehenden Video aufgezeichnet."}),!p&&!a.devices&&e.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx("strong",{children:"âš ï¸ Wichtig:"})," Bitte erlaube den Zugriff auf Kamera und Mikrofon im Browser-Dialog, wenn dieser erscheint."]})}),e.jsx("div",{className:"bg-black rounded-lg overflow-hidden",children:e.jsx("video",{id:"camera-preview",autoPlay:!0,playsInline:!0,muted:!0,className:"w-full aspect-video"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(H,{className:"inline w-4 h-4 mr-2"}),"Kamera"]}),e.jsx("select",{value:S.video,onChange:s=>x("video",s.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ocean-500",children:P.video.map(s=>e.jsx("option",{value:s.deviceId,children:s.label||`Kamera ${s.deviceId.slice(0,8)}`},s.deviceId))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(oe,{className:"inline w-4 h-4 mr-2"}),"Mikrofon"]}),e.jsx("select",{value:S.audio,onChange:s=>x("audio",s.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ocean-500",children:P.audio.map(s=>e.jsx("option",{value:s.deviceId,children:s.label||`Mikrofon ${s.deviceId.slice(0,8)}`},s.deviceId))})]})]}),a.devices&&e.jsxs("div",{className:`p-4 border rounded-lg ${a.showRetry?"bg-red-50 border-red-200":"bg-yellow-50 border-yellow-200"}`,children:[e.jsx("p",{className:`mb-3 whitespace-pre-line ${a.showRetry?"text-red-700":"text-yellow-800"}`,children:a.devices}),a.showRetry&&e.jsx(w,{onClick:_,className:"bg-red-600 hover:bg-red-700 text-white",children:"Erneut versuchen"})]}),e.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Hinweis:"})," Das gesamte Interview wird in einem durchgehenden Video aufgezeichnet. Du kannst zwischen den Fragen hin- und herspringen."]})}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs(w,{onClick:K,variant:"outline",className:"px-6 py-3 flex items-center",children:[e.jsx(O,{className:"w-5 h-5 mr-2"}),e.jsx("span",{children:"ZurÃ¼ck"})]}),e.jsxs(w,{onClick:Q,className:"bg-green-600 hover:bg-green-700 text-white px-8 py-3 text-lg font-semibold flex items-center",children:[e.jsx(H,{className:"w-5 h-5 mr-2"}),e.jsx("span",{children:"Aufnahme starten"})]})]})]})]})}function we({questions:c,cameraStream:u,trainingData:d,onComplete:T,onCancel:R}){const[t,j]=l.useState(0),[h,y]=l.useState(!1),[f,k]=l.useState(0),[o,i]=l.useState([]),[a,m]=l.useState(!1),[C,z]=l.useState(0),p=l.useRef(null),E=l.useRef([]),S=l.useRef(null),D=l.useRef(null),P=l.useRef(0),B=c[t],N=c.length;l.useEffect(()=>(S.current&&u&&(S.current.srcObject=u),()=>{D.current&&clearInterval(D.current)}),[u]);const $=()=>{if(!u){console.error("No camera stream available");return}try{const x={mimeType:"video/webm;codecs=vp9"};MediaRecorder.isTypeSupported(x.mimeType)||(x.mimeType="video/webm;codecs=vp8");const s=new MediaRecorder(u,x);p.current=s,E.current=[],s.ondataavailable=r=>{r.data&&r.data.size>0&&E.current.push(r.data)},s.onstop=G,s.start(1e3),y(!0),P.current=0,D.current=setInterval(()=>{k(r=>r+1)},1e3),i([{question_index:0,question_id:B.id,start_time:0}])}catch(x){console.error("Error starting recording:",x),alert("Fehler beim Starten der Aufnahme: "+x.message)}},W=()=>{p.current&&h&&(p.current.stop(),y(!1),D.current&&clearInterval(D.current),i(x=>{const s=[...x];return s.length>0&&(s[s.length-1].end_time=f),s}))},G=async()=>{const x=new Blob(E.current,{type:"video/webm"});await _(x)},_=async x=>{m(!0),z(0);try{const s=new File([x],`interview-${Date.now()}.webm`,{type:"video/webm"}),r=await fetch("/wp-json/bewerbungstrainer/v1/video-training",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:d.name,position:d.position,company:d.company,experience_level:d.experience_level,questions:c})});if(!r.ok)throw new Error("Failed to create training session");const b=(await r.json()).data.id,I=new FormData;if(I.append("video",s),I.append("timeline",JSON.stringify(o)),!(await fetch(`/wp-json/bewerbungstrainer/v1/video-training/${b}/upload`,{method:"POST",body:I})).ok)throw new Error("Failed to upload video");z(100);const F=await fetch(`/wp-json/bewerbungstrainer/v1/video-training/${b}/analyze`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!F.ok)throw new Error("Failed to start analysis");const V=await F.json();T(V.data)}catch(s){console.error("Error uploading video:",s),alert("Fehler beim Hochladen des Videos: "+s.message),m(!1)}},A=()=>{if(t<N-1){const x=f;i(r=>{const n=[...r];return n.length>0&&(n[n.length-1].end_time=x),n});const s=t+1;j(s),i(r=>[...r,{question_index:s,question_id:c[s].id,start_time:x}])}},K=()=>{if(t>0){const x=f;i(r=>{const n=[...r];return n.length>0&&(n[n.length-1].end_time=x),n});const s=t-1;j(s),i(r=>[...r,{question_index:s,question_id:c[s].id,start_time:x}])}},Q=()=>{window.confirm("MÃ¶chtest du das Interview beenden und die Aufnahme hochladen?")&&W()};return e.jsxs("div",{className:"w-full max-w-6xl mx-auto p-6",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"KarriereHeld Coach"}),e.jsxs("p",{className:"text-gray-600",children:["Video-Interview Training fÃ¼r ",d.position]})]}),h&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Y,{className:"w-4 h-4 text-red-600 fill-current animate-pulse"}),e.jsx("span",{className:"text-red-600 font-semibold",children:"REC"})]}),e.jsx("span",{className:"text-2xl font-mono font-bold text-gray-800",children:ce(f)})]})]}),e.jsxs("div",{className:"mb-6 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{className:"bg-black rounded-lg overflow-hidden shadow-2xl",children:e.jsx("video",{ref:S,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full aspect-video"})}),e.jsxs("div",{className:"p-6 bg-ocean-50 border-2 border-ocean-200 rounded-lg flex flex-col justify-center",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"text-sm font-semibold text-ocean-600",children:["Frage ",t+1," von ",N]}),B.category&&e.jsx("span",{className:"px-3 py-1 text-xs rounded-full bg-ocean-100 text-ocean-700",children:B.category})]}),e.jsx("p",{className:"text-xl font-medium text-gray-800 leading-relaxed",children:B.question})]})]}),!h&&!a&&e.jsx("div",{className:"flex justify-center",children:e.jsxs(w,{onClick:$,className:"bg-red-600 hover:bg-red-700 text-white px-8 py-4 text-lg font-semibold",size:"lg",children:[e.jsx(Y,{className:"w-6 h-6 mr-2 fill-current"}),"Aufnahme starten"]})}),h&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(w,{onClick:K,disabled:t===0,variant:"outline",className:"px-6 py-3",children:[e.jsx(O,{className:"w-5 h-5 mr-2"}),"Vorherige Frage"]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-sm text-gray-600 mb-1",children:["Frage ",t+1," / ",N]}),e.jsx("div",{className:"w-64 h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-ocean-600 transition-all duration-300",style:{width:`${(t+1)/N*100}%`}})})]}),e.jsxs(w,{onClick:A,disabled:t===N-1,variant:"outline",className:"px-6 py-3",children:["NÃ¤chste Frage",e.jsx(L,{className:"w-5 h-5 ml-2"})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs(w,{onClick:Q,className:"bg-green-600 hover:bg-green-700 text-white px-8 py-3 text-lg font-semibold",children:[e.jsx(ae,{className:"w-5 h-5 mr-2"}),"Interview beenden"]})})]}),a&&e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"p-6 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-center mb-4",children:[e.jsx(ne,{className:"w-8 h-8 text-blue-600 animate-spin mr-3"}),e.jsx("p",{className:"text-lg font-semibold text-blue-800",children:"Video wird hochgeladen und analysiert..."})]}),C>0&&e.jsx("div",{className:"w-full bg-blue-100 rounded-full h-3 overflow-hidden",children:e.jsx("div",{className:"bg-blue-600 h-full transition-all duration-300",style:{width:`${C}%`}})}),e.jsx("p",{className:"text-sm text-blue-700 text-center mt-4",children:"Die KI analysiert jetzt dein Video. Das kann einen Moment dauern..."})]})}),!h&&!a&&e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Tipps fÃ¼r dein Video-Interview:"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1 list-disc list-inside",children:[e.jsx("li",{children:"Achte auf gute Beleuchtung und einen ruhigen Hintergrund"}),e.jsx("li",{children:"Sprich klar und deutlich, halte Blickkontakt zur Kamera"}),e.jsx("li",{children:"Nimm dir Zeit fÃ¼r deine Antworten, aber bleibe fokussiert"}),e.jsx("li",{children:"Du kannst jederzeit zwischen den Fragen navigieren"}),e.jsx("li",{children:"Die Aufnahme lÃ¤uft durchgehend, aber du bestimmst das Tempo"})]})]})]})}function Ne({analysis:c,trainingData:u,onStartNew:d,onGoHome:T}){if(!c)return e.jsx("div",{className:"w-full max-w-4xl mx-auto p-6",children:e.jsx("div",{className:"p-8 bg-yellow-50 border border-yellow-200 rounded-lg text-center",children:e.jsx("p",{className:"text-yellow-800",children:"Keine Analysedaten verfÃ¼gbar."})})});const{overall_score:R,categories:t,staerken_und_positive_ueberraschungen:j,kurzfeedback_fuer_user:h}=c,y=o=>o>=80?"bg-green-100 border-green-300":o>=60?"bg-yellow-100 border-yellow-300":"bg-red-100 border-red-300",f=({score:o,size:i="large"})=>{const a=i==="large",m=a?70:45,C=2*Math.PI*m,z=o/100*C;return e.jsxs("div",{className:"relative",children:[e.jsxs("svg",{className:a?"w-40 h-40":"w-24 h-24",viewBox:"0 0 160 160",children:[e.jsx("circle",{cx:"80",cy:"80",r:m,fill:"none",stroke:"#e5e7eb",strokeWidth:a?"12":"8"}),e.jsx("circle",{cx:"80",cy:"80",r:m,fill:"none",stroke:o>=80?"#10b981":o>=60?"#f59e0b":"#ef4444",strokeWidth:a?"12":"8",strokeDasharray:C,strokeDashoffset:C-z,strokeLinecap:"round",transform:"rotate(-90 80 80)",className:"transition-all duration-1000"})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("span",{className:`font-bold ${a?"text-4xl":"text-2xl"} ${be(o)}`,children:Math.round(o)})})]})},k={auftreten:"Auftreten",selbstbewusstsein:"Selbstbewusstsein",koerpersprache:"KÃ¶rpersprache",kommunikation:"Kommunikation",professionalitaet:"ProfessionalitÃ¤t",persoenliche_wirkung:"PersÃ¶nliche Wirkung"};return e.jsxs("div",{className:"w-full max-w-6xl mx-auto p-6 space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center mb-4",children:[e.jsx(de,{className:"w-12 h-12 text-ocean-600 mr-3"}),e.jsx("h1",{className:"text-4xl font-bold text-gray-800",children:"Dein Video-Interview Feedback"})]}),e.jsxs("p",{className:"text-xl text-gray-600",children:["Analyse fÃ¼r: ",u.position,u.company&&` bei ${u.company}`]})]}),e.jsx("div",{className:"p-8 bg-gradient-to-br from-ocean-50 to-blue-50 border-2 border-ocean-200 rounded-2xl shadow-lg",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-8",children:[e.jsxs("div",{className:"flex-1 text-center md:text-left",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Gesamtbewertung"}),h&&e.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:h})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx(f,{score:R||0,size:"large"})})]})}),j&&j.length>0&&e.jsxs("div",{className:"p-6 bg-green-50 border-2 border-green-200 rounded-xl",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(me,{className:"w-6 h-6 text-green-600 mr-3"}),e.jsx("h3",{className:"text-2xl font-bold text-green-900",children:"Deine StÃ¤rken & positive Ãœberraschungen"})]}),e.jsx("ul",{className:"space-y-2",children:j.map((o,i)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(te,{className:"w-5 h-5 text-green-600 mr-3 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-800",children:o})]},i))})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Detaillierte Bewertung nach Kategorien"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:t&&Object.entries(t).map(([o,i])=>e.jsxs("div",{className:`p-6 border-2 rounded-xl ${y(i.score||0)}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:k[o]||o}),e.jsx(f,{score:i.score||0,size:"small"})]}),i.einschaetzung&&e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"EinschÃ¤tzung:"}),e.jsx("p",{className:"text-gray-800",children:i.einschaetzung})]}),i.verbesserungspotenziale&&i.verbesserungspotenziale.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(xe,{className:"w-4 h-4 text-orange-600 mr-2"}),e.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Verbesserungspotenziale:"})]}),e.jsx("ul",{className:"space-y-1 text-sm",children:i.verbesserungspotenziale.map((a,m)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-orange-600 mr-2",children:"â€¢"}),e.jsx("span",{className:"text-gray-700",children:a})]},m))})]}),i.praktische_tipps&&i.praktische_tipps.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(he,{className:"w-4 h-4 text-blue-600 mr-2"}),e.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Praktische Tipps:"})]}),e.jsx("ul",{className:"space-y-1 text-sm",children:i.praktische_tipps.map((a,m)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-blue-600 mr-2",children:"â†’"}),e.jsx("span",{className:"text-gray-700",children:a})]},m))})]})]},o))})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center pt-8 border-t-2 border-gray-200",children:[e.jsxs(w,{onClick:d,className:"bg-ocean-600 hover:bg-ocean-700 text-white px-8 py-3 text-lg",children:[e.jsx(ue,{className:"w-5 h-5 mr-2"}),"Neue Wirkungs-Analyse starten"]}),e.jsxs(w,{onClick:T,variant:"outline",className:"px-8 py-3 text-lg",children:[e.jsx(ge,{className:"w-5 h-5 mr-2"}),"Zur Startseite"]})]}),e.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg text-center",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Tipp:"})," Speichere dieses Feedback und arbeite gezielt an den genannten Punkten. Mit jedem Training wirst du besser!"]})})]})}const ye=({userName:c,position:u,company:d})=>e.jsxs("div",{className:"relative bg-gradient-to-br from-ocean-blue-600 via-ocean-deep-600 to-ocean-teal-500 text-white overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/5 to-transparent"}),e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-ocean-teal-300/10 rounded-full blur-3xl translate-y-1/2 -translate-x-1/2"}),e.jsxs("div",{className:"relative p-6 md:p-8",children:[e.jsx("div",{className:"flex items-start justify-between gap-4 mb-6",children:e.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 rounded-2xl bg-white/10 backdrop-blur-xl border border-white/20 flex items-center justify-center shadow-2xl group-hover:scale-105 transition-transform duration-300",children:e.jsx(q,{className:"w-8 h-8 md:w-10 md:h-10 text-white",strokeWidth:2.5})}),e.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-gradient-to-br from-ocean-teal-300 to-ocean-teal-400 rounded-full flex items-center justify-center shadow-lg",children:e.jsx(fe,{className:"w-3 h-3 text-white"})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-2xl md:text-4xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-white to-white/90 mb-1",children:"Dein Bewerbungstrainer"}),e.jsxs("p",{className:"text-ocean-blue-100 text-sm md:text-base flex items-center gap-2",children:[e.jsx(J,{className:"w-4 h-4"}),"Ãœbe, verbessere dich und glÃ¤nze im Interview"]})]})]})}),c&&u&&d&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsx("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-3 hover:bg-white/15 transition-all duration-300",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{className:"w-4 h-4 text-ocean-blue-200"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-ocean-blue-200 mb-0.5",children:"Bewerber"}),e.jsx("p",{className:"font-semibold text-sm truncate",children:c})]})]})}),e.jsx("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-3 hover:bg-white/15 transition-all duration-300",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{className:"w-4 h-4 text-ocean-blue-200"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-ocean-blue-200 mb-0.5",children:"Position"}),e.jsx("p",{className:"font-semibold text-sm truncate",children:u})]})]})}),e.jsx("div",{className:"bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl p-3 hover:bg-white/15 transition-all duration-300",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(q,{className:"w-4 h-4 text-ocean-blue-200"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs text-ocean-blue-200 mb-0.5",children:"Unternehmen"}),e.jsx("p",{className:"font-semibold text-sm truncate",children:d})]})]})})]}),e.jsx("div",{className:"mt-4 bg-gradient-to-r from-ocean-blue-500/20 to-ocean-deep-500/20 backdrop-blur-sm rounded-xl p-4 border border-white/10",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-ocean-teal-400 to-ocean-teal-500 flex items-center justify-center shadow-lg",children:e.jsx(X,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-ocean-blue-100 mb-0.5",children:"Dein GesprÃ¤chspartner"}),e.jsx("p",{className:"font-semibold",children:"Herr MÃ¼ller, Personalverantwortlicher"})]})]})})]})]});function ke(){const[c,u]=l.useState("wizard"),[d,T]=l.useState(null),[R,t]=l.useState(null),j=k=>{T(k),u("recording")},h=k=>{t(k),u("feedback")},y=()=>{T(null),t(null),u("wizard")},f=()=>{window.location.href="/"};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-ocean-50",children:[c==="wizard"&&e.jsx(ye,{}),e.jsxs("div",{className:"container mx-auto py-8",children:[c==="wizard"&&e.jsx(ve,{onComplete:j}),c==="recording"&&d&&e.jsx(we,{questions:d.questions,cameraStream:d.cameraStream,trainingData:d,onComplete:h,onCancel:y}),c==="feedback"&&R&&e.jsx(Ne,{analysis:R.analysis,trainingData:d,onStartNew:y,onGoHome:f})]})]})}window.bewerbungstrainerVideoTraining&&!window.bewerbungstrainerConfig?window.bewerbungstrainerConfig=window.bewerbungstrainerVideoTraining:window.bewerbungstrainerConfig||console.error("ðŸ“¹ No configuration found! Neither bewerbungstrainerVideoTraining nor bewerbungstrainerConfig is defined.");const ee=()=>{const c=document.getElementById("bewerbungstrainer-video-training-app");c?pe.createRoot(c).render(e.jsx(re.StrictMode,{children:e.jsx(ke,{})})):console.warn("ðŸ“¹ Video Training container not found - waiting for shortcode")};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",ee):ee();
