import{j as e,Y as D,p as A,e as _,O as W,m as I,A as Y,X as Z,r as J,ad as Q,aq as O,aa as ee}from"./ui-vendor-BAEfSb-X.js";import{a as p}from"./react-vendor-uDOJF2jQ.js";import{u as U}from"./useBranding-C82W9Jgj.js";import{C as n}from"./designTokens-C-Oq4uPZ.js";import{c as z}from"./utils-BEHD0UYf.js";const pe=({selectedDeviceId:s,onDeviceChange:a,onTestClick:g,disabled:i=!1})=>{const[l,f]=p.useState([]),[d,u]=p.useState(!0),[x,w]=p.useState(null),[h,j]=p.useState(!1),m=p.useRef(0),t=p.useRef(!1),r=U(),R=async(o=!1)=>{if(!t.current&&!(o&&Date.now()-m.current<2e3)){t.current=!0,m.current=Date.now(),u(!0),w(null);try{(await navigator.mediaDevices.getUserMedia({audio:!0})).getTracks().forEach(v=>v.stop());const b=await navigator.mediaDevices.enumerateDevices();console.log("[MicrophoneSelector] All detected devices:",b.map(v=>({kind:v.kind,label:v.label||"(no label)",deviceId:v.deviceId?.substring(0,8)+"..."})));const C=b.filter(v=>v.kind==="audioinput");if(console.log("[MicrophoneSelector] Audio input devices:",C.length,C.map(v=>v.label||v.deviceId?.substring(0,8))),C.length===0)console.warn("[MicrophoneSelector] No audioinput devices found. All device kinds:",[...new Set(b.map(v=>v.kind))]),w("Kein Mikrofon gefunden"),f([]);else if(f(C),!s&&C.length>0){const v=C.find(T=>T.deviceId==="default")||C[0];a?.(v.deviceId)}}catch(c){console.error("Error loading microphone devices:",c),c.name==="NotAllowedError"||c.name==="PermissionDeniedError"?w("Mikrofonzugriff verweigert"):c.name==="NotFoundError"?w("Kein Mikrofon gefunden"):w("Fehler beim Laden der Mikrofone"),f([])}finally{u(!1),t.current=!1,m.current=Date.now()}}};p.useEffect(()=>{R(!1);let o=null;const c=()=>{o&&clearTimeout(o),o=setTimeout(()=>{R(!0)},500)};return navigator.mediaDevices?.addEventListener("devicechange",c),()=>{o&&clearTimeout(o),navigator.mediaDevices?.removeEventListener("devicechange",c)}},[]);const S=o=>{if(o.label){let c=o.label;return c=c.replace(/^Default - /,""),c=c.replace(/^Kommunikation - /,""),c=c.replace(/^Standard - /,""),c.length>35&&(c=c.substring(0,32)+"..."),c}return`Mikrofon ${l.indexOf(o)+1}`},y=o=>{a?.(o),j(!1)},k=l.find(o=>o.deviceId===s);return e.jsxs("div",{className:"microphone-selector",style:{position:"relative"},children:[e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:r.space[3]},children:[e.jsxs("button",{type:"button",onClick:()=>!i&&!d&&j(!h),disabled:i||d,style:{flex:"1 1 250px",minWidth:"200px",display:"flex",alignItems:"center",justifyContent:"space-between",gap:r.space[3],padding:`${r.space[3]} ${r.space[4]}`,borderRadius:r.radius.lg,border:`2px solid ${x?n.red[500]:n.slate[200]}`,backgroundColor:x?n.red[50]:n.white,cursor:i||d?"not-allowed":"pointer",opacity:i||d?.6:1,transition:r.transition.normal},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:r.space[3]},children:[e.jsx("div",{style:{width:"40px",height:"40px",borderRadius:r.radius.md,display:"flex",alignItems:"center",justifyContent:"center",background:x?n.red[100]:r.headerGradient},children:x?e.jsx(D,{style:{width:"22px",height:"22px",color:n.red[500]}}):e.jsx(A,{style:{width:"22px",height:"22px",color:r.headerText}})}),e.jsxs("div",{style:{textAlign:"left"},children:[e.jsx("div",{style:{fontSize:r.fontSize.xs,color:n.slate[500],fontWeight:500,marginBottom:"2px"},children:"Mikrofon"}),e.jsx("div",{style:{fontSize:r.fontSize.base,fontWeight:600,color:x?n.red[600]:n.slate[800]},children:d?"Lade...":x||(k?S(k):"Bitte w√§hlen")})]})]}),e.jsx(_,{style:{width:"20px",height:"20px",color:n.slate[400],transform:h?"rotate(180deg)":"rotate(0)",transition:r.transition.normal}})]}),g&&!x&&e.jsxs("button",{type:"button",onClick:g,disabled:i||d||!s,style:{flex:"0 0 auto",display:"flex",alignItems:"center",gap:r.space[2],padding:`${r.space[3]} ${r.space[5]}`,borderRadius:r.radius.lg,border:`2px solid ${n.slate[200]}`,backgroundColor:n.white,cursor:i||d||!s?"not-allowed":"pointer",opacity:i||d||!s?.5:1,transition:r.transition.normal,whiteSpace:"nowrap"},children:[e.jsx(A,{style:{width:"18px",height:"18px",color:r.primaryAccent}}),e.jsx("span",{style:{fontSize:r.fontSize.base,fontWeight:600,color:n.slate[700]},children:"Testen"})]}),e.jsx("button",{type:"button",onClick:()=>R(!1),disabled:d,title:"Ger√§teliste aktualisieren",style:{display:"flex",alignItems:"center",justifyContent:"center",padding:`${r.space[3]} ${r.space[4]}`,borderRadius:r.radius.lg,border:`2px solid ${n.slate[200]}`,backgroundColor:n.white,cursor:d?"not-allowed":"pointer",opacity:d?.5:1,transition:r.transition.normal},children:e.jsx(W,{style:{width:"20px",height:"20px",color:n.slate[600],animation:d?"spin 1s linear infinite":"none"}})})]}),h&&l.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{onClick:()=>j(!1),style:{position:"fixed",inset:0,zIndex:40}}),e.jsx("div",{style:{position:"absolute",top:"calc(100% + 8px)",left:0,right:0,backgroundColor:n.white,borderRadius:r.radius.lg,boxShadow:r.shadow.lg,border:`1px solid ${n.slate[200]}`,zIndex:r.zIndex.overlay,overflow:"hidden",maxHeight:"280px",overflowY:"auto"},children:l.map((o,c)=>e.jsxs("button",{type:"button",onClick:()=>y(o.deviceId),style:{width:"100%",padding:`${r.space[3.5]} ${r.space[4]}`,textAlign:"left",display:"flex",alignItems:"center",gap:r.space[3],border:"none",backgroundColor:s===o.deviceId?r.primaryAccentLight:"transparent",cursor:"pointer",transition:r.transition.fast},onMouseEnter:b=>{s!==o.deviceId&&(b.currentTarget.style.backgroundColor=n.slate[50])},onMouseLeave:b=>{b.currentTarget.style.backgroundColor=s===o.deviceId?r.primaryAccentLight:"transparent"},children:[e.jsx("div",{style:{width:"36px",height:"36px",borderRadius:r.radius.sm,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:s===o.deviceId?r.primaryAccent:n.slate[100]},children:e.jsx(A,{style:{width:"18px",height:"18px",color:s===o.deviceId?n.white:n.slate[500]}})}),e.jsxs("div",{style:{flex:1,minWidth:0},children:[e.jsx("div",{style:{fontSize:r.fontSize.base,fontWeight:500,color:s===o.deviceId?r.primaryAccent:n.slate[800],overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:S(o)}),o.deviceId==="default"&&e.jsx("div",{style:{fontSize:r.fontSize.xs,color:n.slate[400]},children:"Systemstandard"})]}),s===o.deviceId&&e.jsx("div",{style:{width:"8px",height:"8px",borderRadius:r.radius.full,backgroundColor:r.primaryAccent}})]},o.deviceId||c))})]}),!x&&l.length>0&&l.length<3&&e.jsx("div",{style:{marginTop:r.space[2.5],fontSize:r.fontSize.xs,color:n.slate[500],lineHeight:1.4},children:'Dein Headset wird nicht angezeigt? Klicke auf "Aktualisieren" nach dem Anschlie√üen oder pr√ºfe die Bluetooth-Verbindung (Headset-Modus statt Audio-Modus).'}),x==="Kein Mikrofon gefunden"&&e.jsxs("div",{style:{marginTop:r.space[3],padding:`${r.space[3]} ${r.space[3.5]}`,backgroundColor:n.amber[50],border:`1px solid ${n.amber[200]}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,color:n.amber[800],lineHeight:1.5},children:[e.jsx("div",{style:{fontWeight:600,marginBottom:r.space[1.5]},children:"üí° Tipps zur Fehlerbehebung:"}),e.jsxs("ul",{style:{margin:0,paddingLeft:"18px"},children:[e.jsxs("li",{children:["Bei ",e.jsx("strong",{children:"Bluetooth-Headsets"}),': Stelle sicher, dass das Headset im "Headset"- oder "Hands-Free"-Modus verbunden ist (nicht nur "Audio")']}),e.jsxs("li",{children:["Bei ",e.jsx("strong",{children:"USB-Headsets"}),": Trenne das Ger√§t kurz und schlie√üe es erneut an"]}),e.jsxs("li",{children:["Pr√ºfe die ",e.jsx("strong",{children:"Systemeinstellungen"})," deines Computers, ob das Mikrofon dort erkannt wird"]}),e.jsxs("li",{children:["Versuche einen anderen ",e.jsx("strong",{children:"Browser"})," (Chrome/Edge empfohlen)"]})]})]}),x==="Mikrofonzugriff verweigert"&&e.jsxs("div",{style:{marginTop:r.space[3],padding:`${r.space[3]} ${r.space[3.5]}`,backgroundColor:n.amber[50],border:`1px solid ${n.amber[200]}`,borderRadius:r.radius.md,fontSize:r.fontSize.sm,color:n.amber[800],lineHeight:1.5},children:[e.jsx("div",{style:{fontWeight:600,marginBottom:r.space[1.5]},children:"üí° So erlaubst du den Mikrofonzugriff:"}),e.jsxs("ul",{style:{margin:0,paddingLeft:"18px"},children:[e.jsxs("li",{children:["Klicke auf das ",e.jsx("strong",{children:"Schloss-Symbol"})," in der Adressleiste deines Browsers"]}),e.jsxs("li",{children:['Setze "Mikrofon" auf ',e.jsx("strong",{children:'"Zulassen"'})]}),e.jsx("li",{children:"Lade die Seite neu und versuche es erneut"})]})]}),e.jsx("style",{children:`
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
      `})]})},te=({audioLevel:s=0,isActive:a=!1,variant:g="spectrum",size:i="md",className:l,accentColor:f})=>{const d=s>1?s/100:s,u=p.useMemo(()=>({sm:{height:48,barCount:40,barWidth:3,gap:2},md:{height:64,barCount:50,barWidth:4,gap:2},lg:{height:80,barCount:60,barWidth:5,gap:3}}),[]),x=u[i]||u.md;switch(g){case"waveform":return e.jsx(ne,{level:d,isActive:a,config:x,className:l,accentColor:f});case"bars":return e.jsx(se,{level:d,isActive:a,config:x,className:l,accentColor:f});case"pulse":return e.jsx(ie,{level:d,isActive:a,size:i,className:l,accentColor:f});case"minimal":return e.jsx(ae,{level:d,isActive:a,className:l,accentColor:f});case"spectrum":default:return e.jsx(re,{level:d,isActive:a,config:x,className:l,accentColor:f})}},re=({level:s,isActive:a,config:g,className:i,accentColor:l})=>{const[f,d]=p.useState([]),u=p.useRef(null),x=p.useRef(0),w=l||"#3b82f6",h=l?`${l}60`:"rgba(59, 130, 246, 0.4)";return p.useEffect(()=>{const j=g.barCount,m=()=>{const t=Date.now();if(t-x.current<50){u.current=requestAnimationFrame(m);return}x.current=t;const r=Array.from({length:j},(R,S)=>{if(!a)return 8+Math.random()*12;const y=Math.pow(s,.5),k=15+y*60,o=Math.sin(S/j*Math.PI*2+t*.003)*.3+.7,c=(Math.random()-.5)*y*40,b=Math.sin(S/j*Math.PI*3+t*.005)*y*15,C=k*o+c+b;return Math.min(95,Math.max(8,C))});d(r),u.current=requestAnimationFrame(m)};return m(),()=>{u.current&&cancelAnimationFrame(u.current)}},[a,s,g.barCount]),e.jsxs("div",{className:z("relative w-full flex items-end justify-center",i),style:{height:g.height},children:[a&&s>.1&&e.jsx("div",{className:"absolute inset-0 rounded-lg opacity-30",style:{background:`radial-gradient(ellipse at center, ${h} 0%, transparent 70%)`}}),e.jsx("div",{className:"flex items-end justify-center h-full",style:{gap:g.gap},children:f.map((j,m)=>e.jsx("div",{className:"rounded-full transition-all",style:{width:g.barWidth,height:`${j}%`,background:a?`linear-gradient(to top, ${w}, ${L(w,40)})`:`linear-gradient(to top, ${L(w,-30)}, ${L(w,10)})`,opacity:a?.85+s*.15:.4,boxShadow:a&&s>.2?`0 0 ${4+s*8}px ${h}`:"none",transition:"height 0.08s ease-out, opacity 0.15s ease-out"}},m))})]})},ne=({level:s,isActive:a,config:g,className:i,accentColor:l})=>{const f=p.useRef(null),d=p.useRef(null),u=p.useRef(0),x=l||"#3b82f6";return p.useEffect(()=>{const w=f.current;if(!w)return;const h=w.getContext("2d"),j=w.width,m=w.height,t=()=>{h.clearRect(0,0,j,m);const r=a?.3+s*.5:.15,R=a?2+s:1.5;u.current+=a?.08+s*.04:.02;const S=h.createLinearGradient(0,0,j,0);S.addColorStop(0,L(x,-20)+"80"),S.addColorStop(.5,x),S.addColorStop(1,L(x,-20)+"80"),h.beginPath(),h.moveTo(0,m/2);for(let y=0;y<=j;y++){const k=y/j,o=Math.sin(k*Math.PI*R+u.current)*r,c=Math.sin(k*Math.PI*R*1.5+u.current*1.3)*r*.5,b=Math.sin(k*Math.PI*R*2.5+u.current*.7)*r*.25,C=Math.sin(k*Math.PI),v=m/2+(o+c+b)*m*C;h.lineTo(y,v)}h.strokeStyle=S,h.lineWidth=3,h.lineCap="round",h.stroke(),h.globalAlpha=.3,h.beginPath(),h.moveTo(0,m/2);for(let y=0;y<=j;y++){const k=y/j,o=Math.sin(k*Math.PI*R+u.current+.5)*r*.6,c=Math.sin(k*Math.PI),b=m/2+o*m*c;h.lineTo(y,b)}h.strokeStyle=S,h.lineWidth=2,h.stroke(),h.globalAlpha=1,d.current=requestAnimationFrame(t)};return t(),()=>{d.current&&cancelAnimationFrame(d.current)}},[a,s,x]),e.jsx("div",{className:z("relative w-full",i),style:{height:g.height},children:e.jsx("canvas",{ref:f,width:500,height:g.height,className:"w-full h-full",style:{filter:a&&s>.2?`drop-shadow(0 0 8px ${x}60)`:"none"}})})},se=({level:s,isActive:a,config:g,className:i,accentColor:l})=>{const f=g.barCount,d=l||"#3b82f6",x=(()=>{if(!a)return Array.from({length:f},()=>8+Math.random()*10);const w=Math.pow(s,.6);return Array.from({length:f},(h,j)=>{const m=20+w*55,t=Math.random()*w*30,r=Math.sin(j/f*Math.PI*4+Date.now()*.005)*w*10;return Math.min(95,Math.max(10,m+t+r))})})();return e.jsx("div",{className:z("flex items-end justify-center w-full",i),style:{height:g.height,gap:g.gap},children:x.map((w,h)=>e.jsx(I.div,{className:"rounded-sm",style:{width:g.barWidth,background:`linear-gradient(to top, ${d}, ${L(d,50)})`,boxShadow:a&&s>.15?`0 0 ${4+s*10}px ${d}50`:"none"},animate:{height:`${w}%`,opacity:a?.8+s*.2:.35},transition:{duration:.08,ease:"easeOut"}},h))})},ie=({level:s,isActive:a,size:g,className:i,accentColor:l})=>{const f={sm:{container:"w-16 h-16",icon:"w-6 h-6",ring:"w-20 h-20"},md:{container:"w-20 h-20",icon:"w-8 h-8",ring:"w-28 h-28"},lg:{container:"w-24 h-24",icon:"w-10 h-10",ring:"w-36 h-36"}},d=f[g]||f.md,u=l||"#3b82f6";return e.jsxs("div",{className:z("relative flex items-center justify-center",i),children:[a&&e.jsxs(e.Fragment,{children:[e.jsx(I.div,{className:z("absolute rounded-full",d.ring),style:{border:`2px solid ${u}`,opacity:.3},animate:{scale:[1,1.3+s*.4],opacity:[.4,0]},transition:{duration:1,repeat:1/0,ease:"easeOut"}}),e.jsx(I.div,{className:z("absolute rounded-full",d.ring),style:{border:`2px solid ${u}`,opacity:.3},animate:{scale:[1,1.2+s*.3],opacity:[.3,0]},transition:{duration:1,repeat:1/0,ease:"easeOut",delay:.3}})]}),e.jsx(I.div,{className:z("rounded-full flex items-center justify-center",d.container),style:{background:`linear-gradient(135deg, ${u}, ${L(u,-20)})`,boxShadow:a?`0 0 ${20+s*30}px ${u}40`:`0 4px 12px ${u}20`},animate:{scale:a?1+s*.15:1},transition:{duration:.1},children:e.jsx(A,{className:z(d.icon,"text-white")})})]})},ae=({level:s,isActive:a,className:g,accentColor:i})=>{const l=i||"#3b82f6",f=()=>a?s>.7?"rgb(34, 197, 94)":s>.3?l:"rgb(148, 163, 184)":"rgb(148, 163, 184)";return e.jsx("div",{className:z("h-3 bg-slate-200 rounded-full overflow-hidden",g),children:e.jsx(I.div,{className:"h-full rounded-full",style:{backgroundColor:f()},animate:{width:`${Math.max(5,s*100)}%`},transition:{duration:.1,ease:"easeOut"}})})};function L(s,a){const g=s.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/);if(g){const i=Math.min(255,Math.max(0,parseInt(g[1])+a)),l=Math.min(255,Math.max(0,parseInt(g[2])+a)),f=Math.min(255,Math.max(0,parseInt(g[3])+a));return`rgb(${i}, ${l}, ${f})`}if(s.startsWith("#")){const i=s.slice(1);let l;i.length===3?l=parseInt(i[0]+i[0]+i[1]+i[1]+i[2]+i[2],16):l=parseInt(i,16);const f=Math.min(255,Math.max(0,(l>>16&255)+a)),d=Math.min(255,Math.max(0,(l>>8&255)+a)),u=Math.min(255,Math.max(0,(l&255)+a));return`rgb(${f}, ${d}, ${u})`}return s}const ge=({isOpen:s,onClose:a,deviceId:g})=>{const[i,l]=p.useState("idle"),[f,d]=p.useState(0),[u,x]=p.useState(null),[w,h]=p.useState(0),[j,m]=p.useState(null),t=U(),r=p.useRef(null),R=p.useRef([]),S=p.useRef(null),y=p.useRef(null),k=p.useRef(null),o=p.useRef(null),c=p.useRef(null),b=p.useRef(null),C=10;p.useEffect(()=>()=>T(),[]),p.useEffect(()=>{s?v():T()},[s]);const v=()=>{l("idle"),d(0),h(0),m(null),u&&(URL.revokeObjectURL(u),x(null))},T=()=>{if(c.current&&(clearInterval(c.current),c.current=null),o.current&&(cancelAnimationFrame(o.current),o.current=null),r.current&&r.current.state!=="inactive")try{r.current.stop()}catch{}if(y.current){try{y.current.close()}catch{}y.current=null}S.current&&(S.current.getTracks().forEach(M=>M.stop()),S.current=null),b.current&&(b.current.pause(),b.current.src="")},q=async()=>{try{m(null),R.current=[],h(0);const M={audio:g?{deviceId:{exact:g}}:!0},B=await navigator.mediaDevices.getUserMedia(M);S.current=B,y.current=new(window.AudioContext||window.webkitAudioContext),k.current=y.current.createAnalyser(),y.current.createMediaStreamSource(B).connect(k.current),k.current.fftSize=256;const P=MediaRecorder.isTypeSupported("audio/webm;codecs=opus")?"audio/webm;codecs=opus":MediaRecorder.isTypeSupported("audio/webm")?"audio/webm":"audio/mp4";r.current=new MediaRecorder(B,{mimeType:P}),r.current.ondataavailable=$=>{$.data.size>0&&R.current.push($.data)},r.current.onstop=()=>{const $=new Blob(R.current,{type:P}),E=URL.createObjectURL($);x(E),l("recorded"),d(0)},r.current.start(100),l("recording");const H=()=>{if(k.current){const $=new Uint8Array(k.current.frequencyBinCount);k.current.getByteFrequencyData($);const E=$.reduce((K,X)=>K+X,0)/$.length;d(E/255)}o.current=requestAnimationFrame(H)};H(),c.current=setInterval(()=>{h($=>$>=C-1?(F(),C):$+1)},1e3)}catch(M){console.error("Error starting recording:",M),M.name==="NotAllowedError"?m("Mikrofonzugriff verweigert"):M.name==="NotFoundError"?m("Kein Mikrofon gefunden"):m("Fehler beim Starten der Aufnahme")}},F=()=>{c.current&&(clearInterval(c.current),c.current=null),o.current&&(cancelAnimationFrame(o.current),o.current=null),y.current&&(y.current.close(),y.current=null),r.current&&r.current.state!=="inactive"&&r.current.stop(),S.current&&(S.current.getTracks().forEach(M=>M.stop()),S.current=null)},V=()=>{u&&(b.current&&b.current.pause(),b.current=new Audio(u),b.current.onended=()=>l("recorded"),b.current.play(),l("playing"))},G=()=>{b.current&&(b.current.pause(),b.current.currentTime=0),l("recorded")},N=()=>{u&&URL.revokeObjectURL(u),x(null),h(0),l("idle")};return s?e.jsx(Y,{children:e.jsx(I.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:a,style:{position:"fixed",inset:0,backgroundColor:"rgba(15, 23, 42, 0.6)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",padding:t.space[5]},children:e.jsxs(I.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},onClick:M=>M.stopPropagation(),style:{backgroundColor:n.white,borderRadius:t.radius["2xl"],width:"100%",maxWidth:"400px",boxShadow:t.shadow.xl,overflow:"hidden"},children:[e.jsxs("div",{style:{padding:`${t.space[5]} ${t.space[6]}`,borderBottom:`1px solid ${n.slate[200]}`,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:t.space[3]},children:[e.jsx("div",{style:{width:"40px",height:"40px",borderRadius:t.radius.md,background:t.headerGradient,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(A,{style:{width:"20px",height:"20px",color:n.white}})}),e.jsxs("div",{children:[e.jsx("h2",{style:{fontSize:t.fontSize.xl,fontWeight:600,color:n.slate[900],margin:0},children:"Mikrofon testen"}),e.jsx("p",{style:{fontSize:t.fontSize.sm,color:n.slate[500],margin:0},children:"Pr√ºfe deine Audioqualit√§t"})]})]}),e.jsx("button",{onClick:a,style:{width:"44px",height:"44px",borderRadius:t.radius.lg,border:"none",backgroundColor:n.slate[100],cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transition.normal},onMouseEnter:M=>M.currentTarget.style.backgroundColor=n.slate[200],onMouseLeave:M=>M.currentTarget.style.backgroundColor=n.slate[100],children:e.jsx(Z,{style:{width:"24px",height:"24px",color:n.slate[600]}})})]}),e.jsxs("div",{style:{padding:`${t.space[8]} ${t.space[6]}`},children:[j&&e.jsxs("div",{style:{marginBottom:t.space[6],padding:t.space[4],backgroundColor:n.red[50],border:`1px solid ${n.red[100]}`,borderRadius:t.radius.lg,display:"flex",alignItems:"center",gap:t.space[3]},children:[e.jsx(D,{style:{width:"20px",height:"20px",color:n.red[500]}}),e.jsx("p",{style:{fontSize:t.fontSize.base,color:n.red[600],margin:0},children:j})]}),e.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:t.space[6]},children:e.jsxs("div",{style:{position:"relative"},children:[e.jsxs(I.div,{style:{width:"120px",height:"120px",borderRadius:"50%",backgroundColor:i==="recording"?n.red[50]:i==="playing"?n.green[50]:i==="recorded"?n.green[50]:n.slate[100],display:"flex",alignItems:"center",justifyContent:"center"},children:[i==="recording"&&e.jsx(I.div,{style:{position:"absolute",inset:0,borderRadius:"50%",border:`3px solid ${n.red[500]}`},animate:{scale:[1,1+f*.3],opacity:[1,.3]},transition:{duration:.3,repeat:1/0}}),i==="idle"&&e.jsx(A,{style:{width:"48px",height:"48px",color:n.slate[400]}}),i==="recording"&&e.jsx(A,{style:{width:"48px",height:"48px",color:n.red[500]}}),i==="recorded"&&e.jsx(J,{style:{width:"48px",height:"48px",color:n.green[500]}}),i==="playing"&&e.jsx(Q,{style:{width:"48px",height:"48px",color:n.green[600]}})]}),i==="recording"&&e.jsxs("div",{style:{position:"absolute",bottom:"-8px",left:"50%",transform:"translateX(-50%)",padding:`${t.space[1]} ${t.space[3]}`,backgroundColor:n.red[500],color:n.white,borderRadius:t.radius["2xl"],fontSize:t.fontSize.sm,fontWeight:600,fontFamily:"monospace"},children:[w,"s / ",C,"s"]})]})}),i==="recording"&&e.jsx("div",{style:{marginBottom:t.space[6]},children:e.jsx(te,{audioLevel:f,isActive:!0,variant:"bars",size:"sm"})}),e.jsxs("p",{style:{textAlign:"center",fontSize:t.fontSize.md,color:n.slate[600],marginBottom:t.space[6]},children:[i==="idle"&&'Klicke auf "Aufnahme starten" um dein Mikrofon zu testen.',i==="recording"&&"Sprich jetzt in dein Mikrofon...",i==="recorded"&&"Aufnahme fertig! H√∂re dir das Ergebnis an.",i==="playing"&&"Wiedergabe l√§uft..."]}),e.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:t.space[3]},children:[i==="idle"&&e.jsxs("button",{onClick:q,style:{display:"flex",alignItems:"center",gap:t.space[2],padding:`${t.space["3.5"]} ${t.space[7]}`,borderRadius:t.radius.lg,border:"none",background:t.buttonGradient,color:n.white,fontSize:t.fontSize.md,fontWeight:600,cursor:"pointer"},children:[e.jsx(A,{style:{width:"18px",height:"18px"}}),"Aufnahme starten"]}),i==="recording"&&e.jsxs("button",{onClick:F,style:{display:"flex",alignItems:"center",gap:t.space[2],padding:`${t.space["3.5"]} ${t.space[7]}`,borderRadius:t.radius.lg,border:"none",backgroundColor:n.red[500],color:n.white,fontSize:t.fontSize.md,fontWeight:600,cursor:"pointer"},children:[e.jsx(O,{style:{width:"18px",height:"18px"}}),"Stoppen"]}),i==="recorded"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:V,style:{display:"flex",alignItems:"center",gap:t.space[2],padding:`${t.space["3.5"]} ${t.space[7]}`,borderRadius:t.radius.lg,border:"none",background:t.buttonGradient,color:n.white,fontSize:t.fontSize.md,fontWeight:600,cursor:"pointer"},children:[e.jsx(ee,{style:{width:"18px",height:"18px"}}),"Anh√∂ren"]}),e.jsxs("button",{onClick:N,style:{display:"flex",alignItems:"center",gap:t.space[2],padding:`${t.space["3.5"]} ${t.space[5]}`,borderRadius:t.radius.lg,border:`2px solid ${n.slate[200]}`,backgroundColor:n.white,color:n.slate[700],fontSize:t.fontSize.md,fontWeight:600,cursor:"pointer"},children:[e.jsx(W,{style:{width:"18px",height:"18px"}}),"Nochmal"]})]}),i==="playing"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:G,style:{display:"flex",alignItems:"center",gap:t.space[2],padding:`${t.space["3.5"]} ${t.space[5]}`,borderRadius:t.radius.lg,border:`2px solid ${n.slate[200]}`,backgroundColor:n.white,color:n.slate[700],fontSize:t.fontSize.md,fontWeight:600,cursor:"pointer"},children:[e.jsx(O,{style:{width:"18px",height:"18px"}}),"Stoppen"]}),e.jsxs("button",{onClick:N,style:{display:"flex",alignItems:"center",gap:t.space[2],padding:`${t.space["3.5"]} ${t.space[5]}`,borderRadius:t.radius.lg,border:`2px solid ${n.slate[200]}`,backgroundColor:n.white,color:n.slate[700],fontSize:t.fontSize.md,fontWeight:600,cursor:"pointer"},children:[e.jsx(W,{style:{width:"18px",height:"18px"}}),"Nochmal"]})]})]})]})]})})}):null};export{te as A,ge as M,pe as a};
