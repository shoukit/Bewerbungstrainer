import{F as M,N as H,aD as E,r as ne,aE as oe,aF as ie,aG as ae,aH as le,aI as de,s as ce,l as v,t as pe,k as xe,I as he,X as fe,n as G,aJ as ge,ae as ue,_ as I,aK as me,aL as ye,aM as be,aN as je,b as ke,aO as Ce,P as Se,aP as we,M as ze,aa as ve,ad as Ie,Z as Be,aQ as Re,aR as _e,aS as Me,q as Pe,aT as Te,E as $e,aA as We,z as Ee,a1 as Le,a4 as Ne,p as Fe,V as De,a as L,O as U,R as Ae,C as He,c as Ge,y as O,a0 as Ue,aw as Oe,ax as qe,a8 as Ve,T as Ke,as as Ze,w as Je,U as q,aj as V,B as K,j as e,v as Qe,Q as Ye,x as Z,e as J,A as Xe,m as D,Y as et,aB as tt}from"./ui-vendor-DefauSFE.js";import{a as x}from"./react-vendor-uDOJF2jQ.js";import{u as st,w as $,j as rt}from"./FeatureInfoButton-9VrXzPXx.js";import{u as nt}from"./useBranding-Bs7H8v8_.js";import{u as ot}from"./useMobile-YxjH166V.js";const it={"file-text":M,briefcase:K,banknote:V,users:q,user:Je,"message-circle":Ze,target:Ke,award:Ve,book:qe,clipboard:Oe,star:Ue,lightbulb:O,shield:Ge,compass:He,rocket:Ae,calendar:U,sparkles:L,video:De,mic:Fe,play:Ne,"check-circle":Le,"alert-circle":Ee,"help-circle":We,settings:$e,home:Te,"trending-up":Pe,"bar-chart":Me,"pie-chart":_e,activity:Re,zap:Be,heart:Ie,"thumbs-up":ve,"message-square":ze,mail:we,phone:Se,"map-pin":Ce,clock:ke,bell:je,search:be,filter:ye,edit:me,trash:I,plus:ue,minus:ge,check:G,x:fe,info:he,warning:xe,refresh:pe,loader:v,globe:ce,link:de,bookmark:le,tag:ae,code:ie,database:oe,server:ne,pen:E,bot:H},at={"file-text":M,briefcase:K,banknote:V,users:q},lt=(r,o=M)=>it[r]||o,mt=r=>at[r]||M,dt={role_name:"Position",position:"Position",target_company:"Unternehmen",company:"Unternehmen",interview_type:"Gesprächsart",karrierelevel:"Karrierelevel",experience_years:"Berufserfahrung",industry:"Branche",current_salary:"Aktuelles Gehalt",target_salary:"Zielgehalt",negotiation_context:"Verhandlungskontext",customer_name:"Kunde",meeting_goal:"Gesprächsziel",product_service:"Produkt/Service",user_name:"Name",skills:"Fähigkeiten",strengths:"Stärken",challenges:"Herausforderungen"},ct=r=>dt[r]||r.replace(/_/g," ").replace(/\b\w/g,o=>o.toUpperCase()),W=(r,o)=>{if(!r)return null;const l=[];let u=r,s=0;for(;u.length>0;){const m=u.match(/\*\*(.+?)\*\*/),t=u.match(new RegExp("(?<!\\*)\\*([^*]+)\\*(?!\\*)|_([^_]+)_")),c=u.match(/`([^`]+)`/),h=[{match:m,type:"bold"},{match:t,type:"italic"},{match:c,type:"code"}].filter(f=>f.match);if(h.length===0){l.push(u);break}const d=h.reduce((f,p)=>(f.match?.index??1/0)<(p.match?.index??1/0)?f:p);switch(d.match.index>0&&l.push(u.substring(0,d.match.index)),d.type){case"bold":l.push(e.jsx("strong",{style:{fontWeight:600,color:"#0f172a"},children:d.match[1]},s++));break;case"italic":l.push(e.jsx("em",{style:{fontStyle:"italic"},children:d.match[1]||d.match[2]},s++));break;case"code":l.push(e.jsx("code",{style:{backgroundColor:"#f1f5f9",padding:"2px 6px",borderRadius:"4px",fontSize:"13px",fontFamily:"monospace",color:o},children:d.match[1]},s++));break}u=u.substring(d.match.index+d.match[0].length)}return l},Q=({content:r,primaryAccent:o})=>{if(!r)return null;const l=u=>{const s=u.split(`
`),m=[];let t=[],c=null;const h=()=>{t.length>0&&(m.push(e.jsx("ul",{style:{margin:"8px 0",paddingLeft:"20px",listStyle:"none"},children:t.map((d,f)=>e.jsxs("li",{style:{marginBottom:"6px",fontSize:"14px",lineHeight:1.6,color:"#374151",position:"relative",paddingLeft:"16px"},children:[e.jsx("span",{style:{position:"absolute",left:0,color:o,fontWeight:"bold"},children:c==="number"?`${f+1}.`:"•"}),W(d,o)]},f))},`list-${m.length}`)),t=[],c=null)};return s.forEach((d,f)=>{const p=d.trim();if(!p){h();return}if(p.startsWith("- ")||p.startsWith("* ")){c!=="bullet"&&(h(),c="bullet"),t.push(p.substring(2));return}const b=p.match(/^(\d+)\.\s/);if(b){c!=="number"&&(h(),c="number"),t.push(p.substring(b[0].length));return}h(),m.push(e.jsx("p",{style:{margin:"8px 0",fontSize:"14px",lineHeight:1.6,color:"#374151"},children:W(p,o)},`p-${f}`))}),h(),m};return e.jsx("div",{children:l(r)})},A=({item:r,sectionId:o,primaryAccent:l,onUpdateItem:u,branding:s})=>{const[m,t]=x.useState(r.user_note||""),[c,h]=x.useState(!1),[d,f]=x.useState(!1),[p,b]=x.useState(!1),[j,k]=x.useState(!!r.user_note);x.useEffect(()=>{b(m!==(r.user_note||""))},[m,r.user_note]);const S=async()=>{h(!0);try{await u(o,r.id,{user_note:m}),f(!0),b(!1),setTimeout(()=>f(!1),2e3)}catch(g){console.error("Error saving note:",g)}finally{h(!1)}},B=async()=>{try{await u(o,r.id,{deleted:!0})}catch(g){console.error("Error deleting item:",g)}},n=async()=>{try{await u(o,r.id,{deleted:!1})}catch(g){console.error("Error restoring item:",g)}};return r.deleted?e.jsxs("div",{style:{padding:"12px 16px",backgroundColor:s.cardBgHover,borderRadius:"10px",marginBottom:"8px",display:"flex",alignItems:"center",justifyContent:"space-between",opacity:.6},children:[e.jsxs("span",{style:{fontSize:"14px",color:s.textMuted,fontStyle:"italic"},children:[e.jsx("s",{children:r.label})," - gelöscht"]}),e.jsxs("button",{onClick:n,style:{display:"flex",alignItems:"center",gap:"4px",padding:"6px 10px",borderRadius:"6px",border:"none",backgroundColor:s.borderColor,color:s.textMuted,fontSize:"12px",cursor:"pointer"},children:[e.jsx(et,{size:12}),"Wiederherstellen"]})]}):e.jsxs("div",{style:{backgroundColor:s.cardBg,borderRadius:"12px",border:`1px solid ${s.borderColor}`,marginBottom:"10px",overflow:"hidden"},children:[e.jsxs("div",{style:{padding:"14px 16px",display:"flex",alignItems:"flex-start",gap:"12px"},children:[e.jsxs("div",{style:{flex:1,minWidth:0},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[e.jsx("span",{style:{width:"6px",height:"6px",borderRadius:"50%",backgroundColor:l,flexShrink:0}}),e.jsx("h4",{style:{fontSize:"14px",fontWeight:600,color:s.textMain,margin:0},children:r.label})]}),r.content&&e.jsx("p",{style:{fontSize:"13px",color:s.textMuted,margin:"0 0 0 14px",lineHeight:1.5},children:W(r.content,l)})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",flexShrink:0},children:[r.user_note&&!j&&e.jsx("span",{style:{fontSize:"11px",color:l,backgroundColor:`${l}15`,padding:"2px 6px",borderRadius:"4px"},children:"Notiz"}),e.jsx("button",{onClick:()=>k(!j),title:"Notiz hinzufügen",style:{padding:"6px",borderRadius:"6px",border:"none",backgroundColor:j?`${l}15`:"transparent",color:j?l:s.textMuted,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(E,{size:16})}),e.jsx("button",{onClick:B,title:"Löschen",style:{padding:"6px",borderRadius:"6px",border:"none",backgroundColor:"transparent",color:s.textMuted,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(I,{size:16})})]})]}),j&&e.jsxs("div",{style:{padding:"12px 16px",backgroundColor:s.cardBgHover,borderTop:`1px solid ${s.borderColor}`},children:[e.jsx("textarea",{value:m,onChange:g=>t(g.target.value),placeholder:"Deine Notiz zu diesem Punkt...",style:{width:"100%",minHeight:"60px",padding:"10px",borderRadius:"8px",border:`1px solid ${s.borderColor}`,fontSize:"13px",color:s.textSecondary,resize:"vertical",outline:"none",boxSizing:"border-box",transition:"border-color 0.2s"},onFocus:g=>{g.target.style.borderColor=l},onBlur:g=>{g.target.style.borderColor=s.borderColor}}),e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"8px",gap:"8px"},children:[e.jsx("button",{onClick:()=>{k(!1),t(r.user_note||"")},style:{padding:"6px 12px",borderRadius:"6px",border:`1px solid ${s.borderColor}`,backgroundColor:s.cardBg,color:s.textMuted,fontSize:"12px",cursor:"pointer"},children:"Abbrechen"}),e.jsxs("button",{onClick:S,disabled:c||!p,style:{display:"flex",alignItems:"center",gap:"4px",padding:"6px 12px",borderRadius:"6px",border:"none",backgroundColor:d?s.successLight:p?l:s.cardBgHover,color:d?s.success:p?"white":s.textMuted,fontSize:"12px",fontWeight:500,cursor:p&&!c?"pointer":"default"},children:[c?e.jsx(v,{size:12,style:{animation:"spin 1s linear infinite"}}):d?e.jsx(G,{size:12}):e.jsx(tt,{size:12}),d?"Gespeichert!":"Speichern"]})]})]}),e.jsx("style",{children:"@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }"})]})},pt=({section:r,primaryAccent:o,onUpdateItem:l,onGenerateMore:u,isExpanded:s,onToggle:m,branding:t})=>{const[c,h]=x.useState(!1),d=async()=>{h(!0);try{await u(r.id)}catch(n){console.error("Error generating more items:",n)}finally{h(!1)}},f=x.useCallback(()=>{if(!r.ai_content)return{type:"empty",items:[],content:""};try{const n=JSON.parse(r.ai_content);if(n&&Array.isArray(n.items))return{type:"items",items:n.items,content:""}}catch{}return{type:"markdown",items:[],content:r.ai_content}},[r.ai_content]),{type:p,items:b,content:j}=f(),k=b.filter(n=>!n.deleted),S=b.filter(n=>n.deleted),B=b.some(n=>n.user_note&&!n.deleted);return e.jsxs("div",{style:{backgroundColor:t.cardBgColor,borderRadius:t.radius.xl,boxShadow:t.shadow.xs,overflow:"hidden",marginBottom:t.space[4]},children:[e.jsxs("button",{onClick:m,style:{width:"100%",padding:`${t.space[4]} ${t.space[5]}`,display:"flex",alignItems:"flex-start",justifyContent:"space-between",gap:t.space[2],border:"none",background:"none",cursor:"pointer",borderBottom:s?`1px solid ${t.borderColorLight}`:"none"},children:[e.jsx("h3",{style:{fontSize:t.fontSize.lg,fontWeight:t.fontWeight.semibold,color:t.textMain,margin:0,textAlign:"left",flex:1,minWidth:0,wordBreak:"break-word",lineHeight:1.3},children:r.section_title}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:t.space[2],flexShrink:0,flexWrap:"wrap",justifyContent:"flex-end"},children:[p==="items"&&e.jsxs("span",{style:{fontSize:t.fontSize.xs,color:t.textMuted,backgroundColor:t.borderColorLight,padding:`${t.space[1]} ${t.space[2]}`,borderRadius:t.radius.lg},children:[k.length," Punkte"]}),B&&e.jsxs("span",{style:{display:"flex",alignItems:"center",gap:t.space[1],fontSize:t.fontSize.xs,color:o,backgroundColor:`${o}15`,padding:`${t.space[1]} ${t.space[2]}`,borderRadius:t.radius.lg},children:[e.jsx(E,{size:t.iconSize.xs}),"Notizen"]}),s?e.jsx(Z,{size:t.iconSize.lg,style:{color:t.textMuted}}):e.jsx(J,{size:t.iconSize.lg,style:{color:t.textMuted}})]})]}),s&&e.jsx("div",{style:{padding:`${t.space[4]} ${t.space[5]}`},children:p==="items"?e.jsxs(e.Fragment,{children:[k.map(n=>e.jsx(A,{item:n,sectionId:r.id,primaryAccent:o,onUpdateItem:l,branding:t},n.id)),u&&e.jsx("button",{onClick:d,disabled:c,style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",width:"100%",padding:"12px 16px",marginTop:"12px",marginBottom:"8px",borderRadius:"10px",border:`1px dashed ${o}40`,backgroundColor:`${o}08`,color:o,fontSize:"13px",fontWeight:500,cursor:c?"wait":"pointer",transition:"all 0.2s"},onMouseEnter:n=>{c||(n.currentTarget.style.backgroundColor=`${o}15`,n.currentTarget.style.borderColor=`${o}60`)},onMouseLeave:n=>{n.currentTarget.style.backgroundColor=`${o}08`,n.currentTarget.style.borderColor=`${o}40`},children:c?e.jsxs(e.Fragment,{children:[e.jsx(v,{size:16,style:{animation:"spin 1s linear infinite"}}),"Generiere 5 weitere Punkte..."]}):e.jsxs(e.Fragment,{children:[e.jsx(L,{size:16}),"5 weitere Punkte generieren"]})}),S.length>0&&e.jsxs("div",{style:{marginTop:"16px"},children:[e.jsxs("div",{style:{fontSize:"12px",color:"#94a3b8",marginBottom:"8px",display:"flex",alignItems:"center",gap:"6px"},children:[e.jsx(I,{size:12}),S.length," gelöschte ",S.length===1?"Punkt":"Punkte"]}),S.map(n=>e.jsx(A,{item:n,sectionId:r.id,primaryAccent:o,onUpdateItem:l,branding:t},n.id))]})]}):p==="markdown"?e.jsxs("div",{style:{backgroundColor:"#f8fafc",padding:"16px",borderRadius:"10px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px"},children:[e.jsx(H,{size:16,style:{color:o}}),e.jsx("span",{style:{fontSize:"12px",fontWeight:600,color:"#64748b",textTransform:"uppercase",letterSpacing:"0.5px"},children:"KI-Empfehlung"})]}),e.jsx(Q,{content:j,primaryAccent:o})]}):e.jsx("p",{style:{color:"#94a3b8",fontStyle:"italic"},children:"Kein Inhalt verfügbar"})})]})},yt=({briefing:r,onBack:o,onDelete:l})=>{const{config:u}=st(),s=nt(),m=ot(),[t,c]=x.useState(r),[h,d]=x.useState(!r?.sections),[f,p]=x.useState(null),[b,j]=x.useState({}),[k,S]=x.useState(!1),[B,n]=x.useState(!1),[g,N]=x.useState(!1),[z,F]=x.useState(!1),w=s.primaryAccent,Y=s.headerGradient,X=lt(t?.template_icon)||M;x.useEffect(()=>{const i=async()=>{if(t?.sections){const a={};t.sections.forEach(y=>{a[y.id]=!0}),j(a),d(!1);return}try{d(!0);const a=await $.request(`/smartbriefing/briefings/${t.id}`,{method:"GET"});if(a.success&&a.data?.briefing){c(a.data.briefing);const y={};a.data.briefing.sections?.forEach(C=>{y[C.id]=!0}),j(y)}else throw new Error("Fehler beim Laden des Briefings")}catch(a){console.error("[SmartBriefing] Error fetching briefing:",a),p(a.message)}finally{d(!1)}};t?.id&&i()},[t?.id]);const ee=x.useCallback(i=>{j(a=>({...a,[i]:!a[i]}))},[]),te=x.useCallback(async(i,a,y)=>{const C=await $.request(`/smartbriefing/sections/${i}/items/${a}`,{method:"PATCH",body:JSON.stringify(y)});if(!C.success)throw new Error("Fehler beim Speichern");c(P=>({...P,sections:P.sections.map(R=>R.id===i?C.data.section:R)}))},[]),se=x.useCallback(async i=>{const a=await $.request(`/smartbriefing/sections/${i}/generate-more`,{method:"POST"});if(!a.success)throw new Error(a.message||"Fehler beim Generieren");return c(y=>({...y,sections:y.sections.map(C=>C.id===i?a.data.section:C)})),a.data.new_items_count},[]),re=x.useCallback(async()=>{if(!(z||!t?.id)){F(!0);try{const i=await $.request(`/smartbriefing/briefings/${t.id}/pdf`,{method:"GET"});if(!i.success||!i.data?.pdf_base64)throw new Error(i.message||"PDF-Export fehlgeschlagen");const a=atob(i.data.pdf_base64),y=new Array(a.length);for(let T=0;T<a.length;T++)y[T]=a.charCodeAt(T);const C=new Uint8Array(y),P=new Blob([C],{type:"application/pdf"}),R=window.URL.createObjectURL(P),_=document.createElement("a");_.href=R,_.download=i.data.filename||"Smart-Briefing.pdf",document.body.appendChild(_),_.click(),document.body.removeChild(_),window.URL.revokeObjectURL(R)}catch(i){console.error("[SmartBriefing] PDF download error:",i)}finally{F(!1)}}},[t?.id,z]);return t?e.jsxs("div",{style:{minHeight:"100vh",background:s.pageBg},children:[e.jsx("div",{style:{background:Y,padding:m?"20px 16px":"24px 32px",position:"sticky",top:0,zIndex:40},children:e.jsxs("div",{style:{maxWidth:"1400px",margin:"0 auto"},children:[o&&e.jsxs("button",{onClick:o,style:{display:"flex",alignItems:"center",gap:"6px",background:"rgba(255,255,255,0.15)",border:"none",borderRadius:"8px",padding:"8px 12px",cursor:"pointer",color:"#fff",fontSize:"13px",marginBottom:"16px"},children:[e.jsx(Qe,{size:16}),"Zurück zur Übersicht"]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"24px"},children:[!m&&e.jsx("div",{style:{width:90,height:90,borderRadius:"50%",background:"rgba(255,255,255,0.2)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.jsx(X,{size:40,color:"#fff"})}),e.jsxs("div",{style:{flex:1},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",flexWrap:"wrap",marginBottom:"8px"},children:[e.jsx("span",{style:{fontSize:"11px",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.5px",padding:"4px 10px",borderRadius:"20px",background:"rgba(255,255,255,0.2)",color:"#fff"},children:"Smart Briefing"}),e.jsx("span",{style:{fontSize:"12px",fontWeight:500,padding:"4px 10px",borderRadius:"20px",background:"rgba(255,255,255,0.9)",color:w},children:t.template_title})]}),e.jsx("h1",{style:{fontSize:m?"20px":"24px",fontWeight:700,color:"#fff",margin:0,marginBottom:"8px"},children:t.title||"Briefing"}),e.jsx("div",{style:{display:"flex",alignItems:"center",gap:"16px",flexWrap:"wrap"},children:e.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"13px",color:"rgba(255,255,255,0.8)"},children:[e.jsx(U,{size:14}),rt(t.created_at)]})})]}),e.jsxs("div",{style:{display:"flex",gap:"10px",flexShrink:0},children:[e.jsx("button",{onClick:re,disabled:z,title:"Als PDF herunterladen",style:{display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(255,255,255,0.2)",border:"1px solid rgba(255,255,255,0.3)",borderRadius:"10px",padding:"10px 12px",cursor:z?"not-allowed":"pointer",color:"#fff",opacity:z?.6:1,outline:"none",WebkitAppearance:"none"},children:z?e.jsx(v,{size:16,style:{animation:"spin 1s linear infinite"}}):e.jsx(Ye,{size:16})}),l&&e.jsx("button",{onClick:()=>n(!0),title:"Briefing loschen",style:{display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(239,68,68,0.2)",border:"1px solid rgba(239,68,68,0.4)",borderRadius:"10px",padding:"10px 12px",cursor:"pointer",color:"#fff",outline:"none",WebkitAppearance:"none"},children:e.jsx(I,{size:16})})]})]})]})}),e.jsxs("div",{style:{maxWidth:"900px",margin:"0 auto",padding:m?"16px":"24px 32px"},children:[t.variables&&Object.keys(t.variables).length>0&&e.jsxs("div",{style:{backgroundColor:"white",borderRadius:"16px",padding:"16px 20px",marginBottom:"20px",border:`1px solid ${s.borderColor}`},children:[e.jsxs("button",{onClick:()=>S(!k),style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",padding:"0",border:"none",background:"none",cursor:"pointer"},children:[e.jsxs("span",{style:{fontSize:"14px",fontWeight:600,color:s.textMain},children:["Deine Angaben (",Object.keys(t.variables).length,")"]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",color:s.textMuted},children:[e.jsx("span",{style:{fontSize:"12px"},children:k?"Einklappen":"Ausklappen"}),k?e.jsx(Z,{size:16}):e.jsx(J,{size:16})]})]}),k&&e.jsx("div",{style:{marginTop:"12px",paddingTop:"12px",borderTop:`1px solid ${s.borderColor}`,display:"flex",flexWrap:"wrap",gap:"8px"},children:Object.entries(t.variables).map(([i,a])=>e.jsxs("span",{style:{backgroundColor:s.cardBgHover,padding:"6px 12px",borderRadius:"20px",fontSize:"12px",color:s.textSecondary},children:[e.jsxs("strong",{style:{color:s.textMain},children:[ct(i),":"]})," ",a]},i))})]}),h&&e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"64px 24px"},children:[e.jsx(v,{size:40,style:{color:w,animation:"spin 1s linear infinite"}}),e.jsx("p",{style:{marginTop:"16px",color:"#64748b"},children:"Briefing wird geladen..."})]}),f&&!h&&e.jsx("div",{style:{backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"12px",padding:"24px",textAlign:"center"},children:e.jsx("p",{style:{color:"#dc2626",margin:0},children:f})}),!h&&!f&&t.sections&&e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px"},children:[e.jsx(L,{size:18,style:{color:w}}),e.jsx("h2",{style:{fontSize:"16px",fontWeight:600,color:"#0f172a",margin:0},children:"Briefing-Inhalte"}),e.jsxs("span",{style:{fontSize:"13px",color:"#94a3b8"},children:["(",t.sections.length," Abschnitte)"]})]}),t.sections.map(i=>e.jsx(pt,{section:i,primaryAccent:w,onUpdateItem:te,onGenerateMore:se,isExpanded:b[i.id],onToggle:()=>ee(i.id),branding:s},i.id))]}),!h&&!f&&(!t.sections||t.sections.length===0)&&t.content_markdown&&e.jsx("div",{style:{backgroundColor:"white",borderRadius:"16px",padding:"24px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:e.jsx(Q,{content:t.content_markdown,primaryAccent:w})}),e.jsx("div",{style:{marginTop:"24px",padding:"16px 20px",backgroundColor:`${w}08`,borderRadius:"12px",border:`1px solid ${w}20`},children:e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px"},children:[e.jsx(O,{size:18,style:{color:w,flexShrink:0,marginTop:"2px"}}),e.jsxs("div",{children:[e.jsx("h4",{style:{margin:"0 0 4px 0",color:"#0f172a",fontSize:"14px",fontWeight:600},children:"Tipp: Personalisiere dein Briefing"}),e.jsx("p",{style:{margin:0,color:"#64748b",fontSize:"13px",lineHeight:1.5},children:"Klicke auf das Stift-Icon bei jedem Punkt, um deine eigenen Notizen hinzuzufügen. Nicht relevante Punkte kannst du mit dem Papierkorb-Icon ausblenden."})]})]})})]}),e.jsx(Xe,{children:B&&e.jsxs(e.Fragment,{children:[e.jsx(D.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>n(!1),style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.5)",zIndex:1e3}}),e.jsx(D.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"#fff",borderRadius:"16px",padding:"24px",maxWidth:"400px",width:"90%",zIndex:1001,boxShadow:"0 20px 40px rgba(0,0,0,0.2)"},children:e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{width:"56px",height:"56px",borderRadius:"50%",background:"rgba(239,68,68,0.1)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:e.jsx(I,{size:24,color:"#ef4444"})}),e.jsx("h3",{style:{fontSize:"18px",fontWeight:600,color:s.textMain,marginBottom:"8px"},children:"Briefing löschen?"}),e.jsx("p",{style:{fontSize:"14px",color:s.textSecondary,marginBottom:"24px"},children:"Diese Aktion kann nicht rückgängig gemacht werden. Dein Briefing und alle Notizen werden dauerhaft gelöscht."}),e.jsxs("div",{style:{display:"flex",gap:"12px"},children:[e.jsx("button",{onClick:()=>n(!1),disabled:g,style:{flex:1,padding:"12px 16px",borderRadius:"10px",border:`1px solid ${s.borderColor}`,background:"#fff",color:s.textMain,fontSize:"14px",fontWeight:500,cursor:g?"not-allowed":"pointer",opacity:g?.5:1,outline:"none",WebkitAppearance:"none"},children:"Abbrechen"}),e.jsx("button",{onClick:async()=>{if(!(!l||!t?.id)){N(!0);try{await l(t)}catch(i){console.error("Failed to delete briefing:",i)}finally{N(!1),n(!1)}}},disabled:g,style:{flex:1,padding:"12px 16px",borderRadius:"10px",border:"none",background:"#ef4444",color:"#fff",fontSize:"14px",fontWeight:500,cursor:g?"not-allowed":"pointer",opacity:g?.7:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",outline:"none",WebkitAppearance:"none"},children:g?e.jsxs(e.Fragment,{children:[e.jsx(v,{size:16,style:{animation:"spin 1s linear infinite"}}),"Löschen..."]}):e.jsxs(e.Fragment,{children:[e.jsx(I,{size:16}),"Löschen"]})})]})]})})]})}),e.jsx("style",{children:"@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }"})]}):null};export{yt as B,lt as a,mt as g};
