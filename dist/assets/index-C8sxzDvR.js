import{j as e,D as ne,ak as ie,T as ce,q,b as P,Z as le,ar as oe,R as L,m as N,v as O,as as Y,t as de,A as J,p as X,a as xe,a4 as Q,at as me,_ as ee,al as ue,k as he,a7 as pe}from"./ui-vendor-B9DEMv6g.js";import{a as s}from"./react-vendor-uDOJF2jQ.js";import{u as fe}from"./useMobile-YxjH166V.js";import{k as be,v as je,l as Ne,m as we,M as ve,n as ge}from"./index.js";import{h as ye,w as B}from"./FeatureInfoButton-DsfjgKw4.js";import{M as Se,a as ke}from"./MicrophoneTestDialog-BLXXwYm5.js";import{B as M,C as R,a as _e}from"./select-native-CSnmbmb6.js";import{V as Re,S as Me,a as Te}from"./ScenarioCard-OpqbSsPm.js";import"./dialog-Dg1K-ctH.js";import"./useBranding-CjHnMPMs.js";import"./utils-BEHD0UYf.js";import"./index-CklPxmEV.js";const te={rocket:L,shuffle:oe,zap:le},G=({icon:t,label:r,value:p,isMobile:d})=>e.jsxs(R,{className:"p-3 md:p-4",children:[e.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 rounded-md md:rounded-lg bg-primary-light flex-center mb-2 md:mb-3",children:e.jsx(t,{className:"w-4 h-4 md:w-5 md:h-5 text-primary"})}),e.jsx("div",{className:"text-xl md:text-2xl font-bold text-slate-900",children:p}),e.jsx("div",{className:"text-[10px] md:text-xs text-slate-500",children:r})]}),Ce=({mode:t,onBack:r,onStart:p})=>{const[d,a]=s.useState(""),[l,x]=s.useState(!1),[n,m]=s.useState(null),[v,o]=s.useState(!1),y=te[t.icon]||L;s.useEffect(()=>{t.id==="klassiker"?a(t.topic):t.getTopic&&a(t.getTopic())},[t]);const w=()=>{if(!t.getTopic)return;x(!0);const I=1500,T=100;let E=0;const f=setInterval(()=>{a(t.getTopic()),E+=T,E>=I&&(clearInterval(f),x(!1))},T)},S=()=>{p({mode:t,topic:d,duration:t.duration,selectedMicrophoneId:n})};return e.jsxs("div",{className:"min-h-full flex flex-col p-6",children:[e.jsx(N.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:e.jsx(M,{variant:"secondary",size:"sm",icon:e.jsx(O,{}),onClick:r,className:"mb-8 w-fit",children:"ZurÃ¼ck zur Auswahl"})}),e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center max-w-[600px] mx-auto w-full",children:[e.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-center mb-8",children:[e.jsx("div",{className:"w-20 h-20 rounded-2xl bg-brand-gradient flex-center mx-auto mb-5 shadow-brand",children:e.jsx(y,{className:"w-10 h-10 text-white"})}),e.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:t.title}),e.jsxs("p",{className:"text-base text-slate-500",children:[t.duration," Sekunden â€¢ ",t.subtitle]})]}),e.jsxs(N.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2},className:"w-full bg-brand-gradient rounded-2xl p-8 mb-6 shadow-brand",children:[e.jsxs("div",{className:"flex justify-between items-center mb-5",children:[e.jsxs("div",{className:"flex items-center gap-2.5 text-white/90",children:[e.jsx(Y,{className:"w-5 h-5"}),e.jsx("span",{className:"font-semibold text-base",children:t.id==="klassiker"?"Deine Aufgabe":t.id==="stress"?"Die Frage":"Dein Thema"})]}),t.getTopic&&e.jsxs(N.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:w,disabled:l,className:"btn-glass flex items-center gap-2 px-4 py-2.5 border border-white/30 rounded-lg text-sm font-semibold disabled:cursor-not-allowed",children:[e.jsx(de,{className:`w-4 h-4 ${l?"animate-spin":""}`}),l?"Dreht...":"Neu wÃ¼rfeln"]})]}),e.jsx(J,{mode:"wait",children:e.jsxs(N.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"text-2xl font-semibold text-white leading-relaxed min-h-[66px]",children:['"',d,'"']},d)})]}),e.jsx(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:e.jsxs(R,{className:"w-full mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2.5 mb-4 text-slate-700",children:[e.jsx(X,{className:"w-5 h-5 text-primary"}),e.jsx("span",{className:"font-semibold text-base",children:"Mikrofon auswÃ¤hlen"})]}),e.jsx(Se,{selectedDeviceId:n,onDeviceChange:m,onTestClick:()=>o(!0)})]})}),e.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"w-full bg-slate-50 rounded-xl p-5 mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3 text-slate-700",children:[e.jsx(xe,{className:"w-4.5 h-4.5 text-amber-500"}),e.jsx("span",{className:"font-semibold text-sm",children:"Tipps fÃ¼r deine Antwort"})]}),e.jsxs("ul",{className:"m-0 pl-5 text-slate-600 text-sm leading-relaxed list-disc",children:[e.jsx("li",{children:"Atme tief durch bevor du beginnst"}),e.jsx("li",{children:"Sprich in einem ruhigen, gleichmÃ¤ÃŸigen Tempo"}),e.jsx("li",{children:'Mache bewusst Pausen statt "Ã„hm" zu sagen'}),e.jsx("li",{children:"Strukturiere deine Antwort: Einleitung â†’ Hauptteil â†’ Schluss"})]})]}),e.jsx(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"w-full max-w-[400px]",children:e.jsx(M,{size:"lg",icon:e.jsx(Q,{}),onClick:S,fullWidth:!0,children:"Aufnahme starten"})})]}),e.jsx(ke,{isOpen:v,onClose:()=>o(!1),deviceId:n})]})},A={MODES:"modes",TOPIC:"topic"},Ye=({onStartGame:t,isAuthenticated:r,requireAuth:p,setPendingAction:d})=>{const[a,l]=s.useState(A.MODES),[x,n]=s.useState(null),[m,v]=s.useState("grid"),[o,y]=s.useState({totalGames:0,bestScore:0,avgScore:0,totalPracticeTime:0}),w=fe(),[S,I]=s.useState(null);s.useEffect(()=>{const u=async()=>{try{const c=await B.getGameStats();c.success&&c.data&&y({totalGames:c.data.total_games||0,bestScore:c.data.best_score||0,avgScore:c.data.avg_score||0,totalPracticeTime:c.data.total_practice_time||0})}catch(c){console.error("Failed to load stats:",c)}};a===A.MODES&&u()},[a]),s.useEffect(()=>{S&&r&&(n(S),l(A.TOPIC),I(null))},[S,r]),s.useEffect(()=>{window.scrollTo(0,0)},[a]);const T=u=>{if(!r){I(u),p&&p(()=>{},null);return}n(u),l(A.TOPIC)},E=()=>{n(null),l(A.MODES)},f=u=>{t(u)},C=Object.values(be);return a===A.TOPIC&&x?e.jsx(Ce,{mode:x,onBack:E,onStart:f}):e.jsxs(e.Fragment,{children:[e.jsx(ye,{featureId:"rhetorikgym",showOnMount:!0}),e.jsxs("div",{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"mb-5 md:mb-8 text-center",children:[e.jsxs("div",{className:"inline-flex items-center gap-2.5 md:gap-3 mb-2 md:mb-3",children:[e.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-lg md:rounded-xl bg-brand-gradient flex-center",children:e.jsx(ne,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),e.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-900",children:"Der FÃ¼llwort-Killer"})]}),e.jsx("p",{className:"text-sm md:text-base text-slate-600 max-w-[600px] mx-auto",children:"Trainiere deine Rhetorik - sprich flÃ¼ssig und Ã¼berzeugend ohne Ã„hm und Ã–h!"})]}),e.jsxs("div",{className:"px-2 md:px-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2.5 md:gap-4 mb-6 md:mb-8",children:[e.jsx(G,{icon:ie,label:"Highscore",value:o.bestScore||"-",isMobile:w}),e.jsx(G,{icon:ce,label:"Spiele",value:o.totalGames||0,isMobile:w}),e.jsx(G,{icon:q,label:"Durchschnitt",value:o.avgScore?Math.round(o.avgScore):"-",isMobile:w}),e.jsx(G,{icon:P,label:"Trainingszeit",value:o.totalPracticeTime?`${Math.round(o.totalPracticeTime/60)}m`:"0m",isMobile:w})]}),e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-800",children:"WÃ¤hle deinen Modus"}),e.jsx(Re,{viewMode:m,onViewChange:v})]}),e.jsx(Me,{minCardWidth:"280px",viewMode:m,children:C.map(u=>{const c=te[u.icon]||L;return e.jsx(Te,{title:u.title,subtitle:u.subtitle,description:u.description,icon:c,meta:[{icon:P,text:`${u.duration} Sekunden`}],action:{label:"Starten",icon:q},onClick:()=>T(u),viewMode:m},u.id)})})]})]})]})},h={READY:"ready",COUNTDOWN:"countdown",RECORDING:"recording",PROCESSING:"processing",RESULTS:"results",ERROR:"error"},Ie=({count:t})=>e.jsx(N.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-slate-900/90 flex-center z-50",children:e.jsxs(N.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},exit:{scale:1.5,opacity:0},className:"text-white text-center",children:[e.jsx("div",{className:"text-[120px] font-bold mb-4",children:t}),e.jsx("div",{className:"text-2xl text-slate-400",children:t===3?"Mach dich bereit...":t===2?"Durchatmen...":"Los geht's!"})]},t)}),Ee=({seconds:t,total:r,isWarning:p})=>{const d=t/r*100,a=Math.floor(t/60),l=t%60;return e.jsxs("div",{children:[e.jsxs("div",{className:`text-[64px] font-bold font-mono text-center ${p?"text-red-500":"text-slate-900"}`,children:[a,":",l.toString().padStart(2,"0")]}),e.jsx("div",{className:"mt-4 h-2 bg-slate-200 rounded overflow-hidden",children:e.jsx(N.div,{className:`h-full rounded ${p?"bg-red-500":"bg-primary"}`,initial:{width:"100%"},animate:{width:`${d}%`},transition:{duration:.5}})})]})},De=({word:t,count:r})=>e.jsxs(_e,{variant:"error",className:"gap-1",children:['"',t,'"',e.jsxs("span",{className:"bg-red-500/20 px-1.5 py-0.5 rounded text-xs",children:[r,"x"]})]}),Ae=t=>!t||t==="[Keine Sprache erkannt]"?0:t.trim().split(/\s+/).filter(r=>r.length>0).length,Oe=t=>!t||!Array.isArray(t)?0:t.reduce((r,p)=>r+(p.count||0),0),ze=(t,r,p,d)=>{const a=Ae(t),l=Oe(r),x=a>0?l/a*100:0,n=d>0?Math.round(a/d*60):0;let m=0;a>=60?m=25:a>=40?m=15:a>=20?m=10:a>=10&&(m=5);let v=25;x>25?v=0:x>15?v=10:x>10?v=15:x>5&&(v=20);let o=0,y="keine_sprache";a>0&&(n>=100&&n<=140?(o=10,y="optimal"):n>=80&&n<100||n>140&&n<=160?(o=5,y=n<100?"zu_langsam":"zu_schnell"):(o=0,y=n<80?"zu_langsam":"zu_schnell"));const w=Math.min(40,Math.max(0,p||0)),S=m+v+o+w;return{total_words:a,filler_count:l,filler_percentage:x,words_per_minute:n,pace_feedback:y,score:S,score_breakdown:{words_score:m,filler_score:v,tempo_score:o,content_score:w}}},Ge=({result:t,onPlayAgain:r,onBack:p})=>{const d=ge(t.score),a=t.score>=70,l=t.pace_feedback==="keine_sprache"||t.transcript==="[Keine Sprache erkannt]",x=l?"bg-gradient-to-br from-slate-500 to-slate-600":a?"bg-gradient-to-br from-green-500 to-primary":"bg-gradient-to-br from-amber-500 to-orange-500";return e.jsxs("div",{className:"max-w-[600px] mx-auto",children:[e.jsxs("div",{className:`${x} rounded-2xl p-8 mb-6 text-white text-center`,children:[e.jsx("div",{className:"text-5xl mb-2",children:l?"ðŸŽ¤":d.emoji}),e.jsx("div",{className:"text-[72px] font-bold mb-2",children:t.score}),e.jsx("div",{className:"text-xl opacity-90 mb-4",children:"Punkte"}),e.jsx("p",{className:"text-lg",children:l?"Keine Sprache erkannt. Bitte sprich lauter ins Mikrofon.":d.message})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[e.jsxs(R,{className:"p-3.5",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-primary mb-1.5",children:[e.jsx(Y,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium text-sm",children:"WÃ¶rter"})]}),e.jsx("div",{className:"text-2xl font-bold text-slate-900",children:t.total_words}),e.jsx("div",{className:"text-[11px] text-slate-500",children:"gesprochen"})]}),e.jsxs(R,{className:"p-3.5",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-red-500 mb-1.5",children:[e.jsx(he,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium text-sm",children:"FÃ¼llwÃ¶rter"})]}),e.jsx("div",{className:"text-2xl font-bold text-slate-900",children:t.filler_count}),e.jsxs("div",{className:"text-[11px] text-slate-500",children:[t.filler_percentage?.toFixed(1)||"0","%"]})]}),e.jsxs(R,{className:"p-3.5",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-primary mb-1.5",children:[e.jsx(pe,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium text-sm",children:"Tempo"})]}),e.jsx("div",{className:"text-2xl font-bold text-slate-900",children:t.words_per_minute}),e.jsx("div",{className:"text-[11px] text-slate-500",children:"WPM"})]}),e.jsxs(R,{className:"p-3.5",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-slate-600 mb-1.5",children:[e.jsx(P,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium text-sm",children:"Sprechzeit"})]}),e.jsx("div",{className:"text-2xl font-bold text-slate-900",children:t.duration_seconds||0}),e.jsx("div",{className:"text-[11px] text-slate-500",children:"Sekunden"})]})]}),t.filler_words&&t.filler_words.length>0&&e.jsxs(R,{className:"mb-6",children:[e.jsx("h4",{className:"font-semibold text-slate-900 mb-3 text-[15px]",children:"Erkannte FÃ¼llwÃ¶rter"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.filler_words.map((n,m)=>e.jsx(De,{word:n.word,count:n.count},m))})]}),!l&&e.jsxs("div",{className:"bg-primary-light border border-primary/15 rounded-xl p-4 mb-6",children:[e.jsx("h4",{className:"font-semibold text-primary mb-3 text-[15px]",children:"Bewertung im Detail"}),t.score_breakdown&&e.jsxs("div",{className:`grid grid-cols-2 gap-2 ${t.content_feedback?"mb-3":""}`,children:[e.jsxs("div",{className:"text-[13px] text-slate-600",children:["ðŸ“ Wortanzahl: ",e.jsxs("strong",{children:[t.score_breakdown.words_score||0,"/25"]})]}),e.jsxs("div",{className:"text-[13px] text-slate-600",children:["ðŸš« FÃ¼llwÃ¶rter: ",e.jsxs("strong",{children:[t.score_breakdown.filler_score||0,"/25"]})]}),e.jsxs("div",{className:"text-[13px] text-slate-600",children:["â±ï¸ Tempo: ",e.jsxs("strong",{children:[t.score_breakdown.tempo_score||0,"/10"]})]}),e.jsxs("div",{className:"text-[13px] text-slate-600",children:["ðŸ’¡ Inhalt: ",e.jsxs("strong",{children:[t.score_breakdown.content_score||0,"/40"]})]})]}),t.content_feedback&&e.jsx("div",{className:"pt-3 border-t border-primary/15",children:e.jsxs("p",{className:"text-sm text-slate-600 leading-relaxed",children:[e.jsx("strong",{children:"Inhaltliches Feedback:"})," ",t.content_feedback]})})]}),t.pace_feedback&&t.pace_feedback!=="optimal"&&t.pace_feedback!=="keine_sprache"&&e.jsxs("div",{className:"bg-amber-50 border border-amber-500/25 rounded-xl p-4 mb-6",children:[e.jsx("h4",{className:"font-semibold text-amber-600 mb-2 text-[15px]",children:"Tempo-Hinweis"}),e.jsx("p",{className:"text-sm text-slate-600",children:t.pace_feedback==="zu_schnell"?"Du sprichst etwas zu schnell. Versuche, bewusst langsamer und deutlicher zu sprechen.":"Du sprichst etwas zu langsam. Versuche, etwas mehr Energie in deine PrÃ¤sentation zu legen."})]}),t.transcript&&t.transcript!=="[Keine Sprache erkannt]"&&e.jsxs(R,{className:"mb-8 bg-slate-50",children:[e.jsx("h4",{className:"font-semibold text-slate-900 mb-3 text-[15px]",children:"Transkript"}),e.jsx("p",{className:"text-sm text-slate-600 leading-relaxed",children:t.transcript})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(M,{icon:e.jsx(ee,{}),onClick:r,fullWidth:!0,children:"Nochmal spielen"}),e.jsx(M,{variant:"secondary",icon:e.jsx(O,{}),onClick:p,fullWidth:!0,children:"ZurÃ¼ck"})]})]})},Je=({gameConfig:t,onBack:r,onComplete:p})=>{const[d,a]=s.useState(h.COUNTDOWN),[l,x]=s.useState(3),[n,m]=s.useState(t.duration),[v,o]=s.useState(null),[y,w]=s.useState(null),[S,I]=s.useState(0),[T,E]=s.useState(!1),f=s.useRef(null),C=s.useRef([]),u=s.useRef(null),c=s.useRef(null),k=s.useRef(null),F=s.useRef(null),U=s.useRef(null),V=B.getGeminiApiKey(),z=s.useCallback(()=>{u.current&&clearInterval(u.current),F.current&&cancelAnimationFrame(F.current),k.current&&(k.current.close(),k.current=null),f.current&&f.current.state!=="inactive"&&f.current.stop()},[]);s.useEffect(()=>z,[z]),s.useEffect(()=>{T||(E(!0),se())},[T]);const se=async()=>{a(h.COUNTDOWN),x(3);try{const j=t.selectedMicrophoneId?{deviceId:{exact:t.selectedMicrophoneId}}:!0,b=await navigator.mediaDevices.getUserMedia({audio:j});k.current=new(window.AudioContext||window.webkitAudioContext);const _=k.current.createMediaStreamSource(b);c.current=k.current.createAnalyser(),c.current.fftSize=256,_.connect(c.current),f.current=new MediaRecorder(b,{mimeType:MediaRecorder.isTypeSupported("audio/webm")?"audio/webm":"audio/mp4"}),C.current=[],f.current.ondataavailable=g=>{g.data.size>0&&C.current.push(g.data)};let i=3;const D=setInterval(()=>{i--,x(i),i===0&&(clearInterval(D),K())},1e3)}catch(j){console.error("Microphone access denied:",j),w("Bitte erlaube den Zugriff auf das Mikrofon, um zu spielen."),a(h.ERROR)}},Z=s.useCallback(async()=>{a(h.COUNTDOWN),x(3);try{const j=t.selectedMicrophoneId?{deviceId:{exact:t.selectedMicrophoneId}}:!0,b=await navigator.mediaDevices.getUserMedia({audio:j});k.current=new(window.AudioContext||window.webkitAudioContext);const _=k.current.createMediaStreamSource(b);c.current=k.current.createAnalyser(),c.current.fftSize=256,_.connect(c.current),f.current=new MediaRecorder(b,{mimeType:MediaRecorder.isTypeSupported("audio/webm")?"audio/webm":"audio/mp4"}),C.current=[],f.current.ondataavailable=g=>{g.data.size>0&&C.current.push(g.data)};let i=3;const D=setInterval(()=>{i--,x(i),i===0&&(clearInterval(D),K())},1e3)}catch(j){console.error("Microphone access denied:",j),w("Bitte erlaube den Zugriff auf das Mikrofon, um zu spielen."),a(h.ERROR)}},[t.selectedMicrophoneId]),K=s.useCallback(()=>{a(h.RECORDING),m(t.duration),U.current=Date.now(),f.current.start();const j=()=>{if(c.current){const b=new Uint8Array(c.current.frequencyBinCount);c.current.getByteFrequencyData(b);const _=b.reduce((i,D)=>i+D)/b.length;I(_/255)}F.current=requestAnimationFrame(j)};j(),u.current=setInterval(()=>{m(b=>b<=1?($(),0):b-1)},1e3)},[t.duration]),$=s.useCallback(()=>{const j=U.current?Math.round((Date.now()-U.current)/1e3):t.duration;z(),a(h.PROCESSING),f.current.onstop=async()=>{const b=new Blob(C.current,{type:f.current.mimeType});f.current.stream.getTracks().forEach(i=>i.stop());const _=je(b,{minSize:ve});if(!_.valid){console.warn("[GameSession] Audio validation failed:",_.error,"Size:",b.size);const i={...Ne("game"),score:0,word_count:0,filler_count:0,words_per_minute:0,duration_seconds:j};o(i),a(h.RESULTS);return}try{const i=await we(b,V,t.topic,t.duration),g={...ze(i.transcript,i.filler_words,i.content_score,j),transcript:i.transcript||"[Keine Sprache erkannt]",filler_words:i.filler_words||[],content_feedback:i.content_feedback||"",duration_seconds:j};o(g),a(h.RESULTS);try{const W={game_type:t.mode.id,topic:t.topic,duration_seconds:j,score:g.score,filler_count:g.filler_count,words_per_minute:g.words_per_minute,transcript:g.transcript,analysis_json:JSON.stringify(g)};await B.createGameSession(W)}catch(W){console.error("[GameSession] Failed to save game session:",W)}}catch(i){console.error("Analysis failed:",i),w(`Analyse fehlgeschlagen: ${i.message}`),a(h.ERROR)}},f.current.stop()},[V,t,z]),ae=()=>{$()},H=()=>{o(null),w(null),m(t.duration),Z()},re=()=>{switch(d){case h.READY:return e.jsx("div",{className:"text-center py-10 px-5",children:e.jsxs("div",{className:"max-w-[500px] mx-auto",children:[e.jsx("div",{className:"text-6xl mb-6",children:"ðŸŽ¤"}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-3",children:"Bereit?"}),e.jsx("p",{className:"text-base text-slate-600 mb-6 leading-relaxed",children:t.topic}),e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-slate-100 rounded-full text-slate-600 text-sm mb-8",children:[e.jsx(P,{className:"w-4 h-4"}),t.duration," Sekunden"]}),e.jsx("div",{children:e.jsx(M,{size:"lg",icon:e.jsx(Q,{}),onClick:Z,children:"Aufnahme starten"})}),e.jsxs("button",{onClick:r,className:"mt-6 px-5 py-2.5 border-none bg-transparent text-slate-400 text-sm cursor-pointer inline-flex items-center gap-1.5",children:[e.jsx(O,{className:"w-4 h-4"}),"ZurÃ¼ck zur Auswahl"]})]})});case h.RECORDING:return e.jsx("div",{className:"text-center py-10 px-5",children:e.jsxs("div",{className:"max-w-[500px] mx-auto",children:[e.jsx(Ee,{seconds:n,total:t.duration,isWarning:n<=10}),e.jsxs("div",{className:"mt-8 mb-8 p-4 bg-slate-100 rounded-xl",children:[e.jsx("p",{className:"text-[13px] text-slate-500 mb-1",children:"Dein Thema:"}),e.jsx("p",{className:"text-[15px] font-medium text-slate-900",children:t.topic})]}),e.jsx("div",{className:"mb-8",children:e.jsx(N.div,{className:"h-20 bg-brand-gradient rounded-2xl flex-center",animate:{opacity:.6+S*.4},children:e.jsx(N.div,{className:"w-14 h-14 rounded-full bg-white/30 flex-center",animate:{scale:1+S*.3},children:e.jsx(X,{className:"w-7 h-7 text-white"})})})}),e.jsxs("div",{className:"flex-center gap-2 mb-8",children:[e.jsx(N.div,{animate:{scale:[1,1.2,1],opacity:1},transition:{repeat:1/0,duration:1},className:"w-3 h-3 rounded-full bg-red-500"}),e.jsx("span",{className:"font-medium text-red-500 text-sm",children:"Aufnahme lÃ¤uft..."})]}),e.jsx(M,{variant:"danger",icon:e.jsx(ue,{}),onClick:ae,children:"Aufnahme beenden"})]})});case h.PROCESSING:return e.jsxs("div",{className:"text-center py-20 px-5",children:[e.jsx(N.div,{animate:{rotate:360},transition:{repeat:1/0,duration:1,ease:"linear"},className:"w-14 h-14 border-4 border-primary border-t-transparent rounded-full mx-auto mb-6"}),e.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-2",children:"Analysiere deine Aufnahme..."}),e.jsx("p",{className:"text-slate-500",children:"Der FÃ¼llwort-Killer zÃ¤hlt nach"})]});case h.RESULTS:return e.jsx(Ge,{result:v,onPlayAgain:H,onBack:r});case h.ERROR:return e.jsx("div",{className:"text-center py-16 px-5",children:e.jsxs("div",{className:"max-w-[400px] mx-auto",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-red-100 flex-center mx-auto mb-6",children:e.jsx(me,{className:"w-8 h-8 text-red-500"})}),e.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-3",children:"Fehler"}),e.jsx("p",{className:"text-slate-600 mb-6",children:y}),e.jsxs("div",{className:"flex gap-3 justify-center",children:[e.jsx(M,{icon:e.jsx(ee,{}),onClick:H,children:"Erneut versuchen"}),e.jsx(M,{variant:"secondary",icon:e.jsx(O,{}),onClick:r,children:"ZurÃ¼ck"})]})]})});default:return null}};return e.jsxs("div",{className:"min-h-full pb-8",children:[e.jsx(J,{children:d===h.COUNTDOWN&&e.jsx(Ie,{count:l})}),d!==h.COUNTDOWN&&d!==h.RECORDING&&e.jsx("div",{className:"px-6 py-4 border-b border-slate-200 bg-white sticky top-0 z-10",children:e.jsxs("div",{className:"max-w-[600px] mx-auto flex items-center justify-between",children:[e.jsxs("button",{onClick:r,className:"flex items-center gap-1.5 border-none bg-transparent text-slate-600 text-sm cursor-pointer",children:[e.jsx(O,{className:"w-4.5 h-4.5"}),"ZurÃ¼ck"]}),e.jsx("h1",{className:"font-semibold text-slate-900 text-base",children:t.mode.title}),e.jsx("div",{className:"w-[60px]"})]})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"max-w-[600px] mx-auto",children:re()})})]})};export{Je as GameSession,Ye as RhetorikGym};
