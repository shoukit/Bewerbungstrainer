import{j as e,Q as S,T as j,I as C,b0 as o,aP as z,p as k,Y as L}from"./ui-vendor-DceLfMgS.js";import{a}from"./react-vendor-uDOJF2jQ.js";import{C as n,c as l}from"./card-CDygNAxq.js";import{B as r}from"./button-CkRsmUDc.js";import{I as E}from"./input-DiAaxk0a.js";import{w as _}from"./colors-BoNy0q8t.js";import"./utils-BEHD0UYf.js";import"./designTokens-DbcSlXo4.js";function $({onBack:g}){const[m,f]=a.useState([]),[i,x]=a.useState(!0),[c,h]=a.useState(null),[t,N]=a.useState("");a.useEffect(()=>{p()},[]);const p=async()=>{try{x(!0),h(null);const s=await _.adminGetSimulatorScenarios();if(s.success)f(s.data||[]);else throw new Error("Fehler beim Laden der Szenarien")}catch(s){h(s.message)}finally{x(!1)}},u=m.filter(s=>s.title?.toLowerCase().includes(t.toLowerCase())||s.description?.toLowerCase().includes(t.toLowerCase())),b=s=>({publish:"Veröffentlicht",draft:"Entwurf",pending:"Ausstehend"})[s]||s,v=s=>({publish:"bg-green-100 text-green-700",draft:"bg-gray-100 text-gray-700",pending:"bg-yellow-100 text-yellow-700"})[s]||"bg-gray-100 text-gray-700",w=s=>({easy:"Einfach",medium:"Mittel",hard:"Schwer"})[s]||s,y=s=>({easy:"bg-green-100 text-green-700",medium:"bg-yellow-100 text-yellow-700",hard:"bg-red-100 text-red-700"})[s]||"bg-gray-100 text-gray-700";return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(r,{variant:"ghost",onClick:g,className:"p-2",children:e.jsx(S,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-green-100",children:e.jsx(j,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-[var(--text-main)]",children:"Szenario-Training"}),e.jsxs("p",{className:"text-sm text-[var(--text-secondary)]",children:[m.length," Szenarien"]})]})]})]})}),e.jsx(n,{className:"border-blue-200 bg-blue-50/50",children:e.jsx(l,{className:"pt-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-100",children:e.jsx(C,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-blue-900",children:"Verwaltung im WordPress-Backend"}),e.jsx("p",{className:"text-sm text-blue-700 mt-1 mb-3",children:"Szenario-Training-Szenarien werden im WordPress-Adminbereich verwaltet. Hier sehen Sie eine Übersicht der vorhandenen Szenarien."}),e.jsxs(r,{variant:"outline",size:"sm",onClick:()=>window.open("/wp-admin/edit.php?post_type=simulator_scenario","_blank"),className:"flex items-center gap-2",children:[e.jsx(o,{className:"w-4 h-4"}),"WordPress-Admin öffnen"]})]})]})})}),e.jsxs("div",{className:"relative",children:[e.jsx(z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-[var(--text-muted)]"}),e.jsx(E,{placeholder:"Szenarien durchsuchen...",value:t,onChange:s=>N(s.target.value),className:"pl-10"})]}),i&&e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(k,{className:"w-8 h-8 animate-spin text-[var(--primary-accent)]"})}),c&&!i&&e.jsx(n,{className:"border-red-200 bg-red-50",children:e.jsx(l,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3 text-red-700",children:[e.jsx(L,{className:"w-5 h-5"}),e.jsx("p",{children:c}),e.jsx(r,{variant:"outline",size:"sm",onClick:p,children:"Erneut versuchen"})]})})}),!i&&!c&&e.jsx("div",{className:"space-y-3",children:u.length===0?e.jsx(n,{children:e.jsx(l,{className:"pt-6",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(j,{className:"w-12 h-12 text-[var(--text-muted)] mx-auto mb-3"}),e.jsx("p",{className:"text-[var(--text-secondary)]",children:t?"Keine Szenarien gefunden":"Noch keine Szenarien vorhanden"}),!t&&e.jsxs(r,{variant:"outline",className:"mt-4",onClick:()=>window.open("/wp-admin/post-new.php?post_type=simulator_scenario","_blank"),children:[e.jsx(o,{className:"w-4 h-4 mr-2"}),"Im WordPress-Admin erstellen"]})]})})}):u.map(s=>e.jsx(n,{className:"hover:shadow-md transition-shadow",children:e.jsx(l,{className:"pt-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"font-semibold text-[var(--text-main)]",children:s.title}),e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${v(s.status)}`,children:b(s.status)}),s.difficulty&&e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${y(s.difficulty)}`,children:w(s.difficulty)})]}),s.description&&e.jsx("p",{className:"text-sm text-[var(--text-secondary)] mb-2 line-clamp-2",children:s.description}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-[var(--text-muted)]",children:[s.category&&e.jsxs("span",{children:["Kategorie: ",s.category]}),s.questions_count&&e.jsxs("span",{children:[s.questions_count," Fragen"]}),e.jsxs("span",{children:["ID: ",s.id]})]})]}),e.jsx(r,{variant:"ghost",size:"sm",onClick:()=>window.open(`/wp-admin/post.php?post=${s.id}&action=edit`,"_blank"),className:"text-[var(--text-secondary)] hover:text-[var(--primary-accent)]",title:"Im WordPress-Admin bearbeiten",children:e.jsx(o,{className:"w-4 h-4"})})]})})},s.id))})]})}export{$ as default};
