import{j as r,A as l,m}from"./ui-vendor-BE38435C.js";import{a as n}from"./react-vendor-uDOJF2jQ.js";import{m as f}from"./FeatureInfoButton-B_sqwKHv.js";const c=(t=50)=>{const e=f,o=["square","circle","triangle"];return Array.from({length:t},(a,s)=>({id:s,x:Math.random()*100,color:e[Math.floor(Math.random()*e.length)],shape:o[Math.floor(Math.random()*o.length)],size:Math.random()*8+6,rotation:Math.random()*360,delay:Math.random()*.5,duration:Math.random()*1.5+2,amplitude:Math.random()*100+50}))},x=({particle:t})=>{const e=n.useMemo(()=>{const o={width:t.size,height:t.size,backgroundColor:t.color};switch(t.shape){case"circle":return{...o,borderRadius:"50%"};case"triangle":return{width:0,height:0,backgroundColor:"transparent",borderLeft:`${t.size/2}px solid transparent`,borderRight:`${t.size/2}px solid transparent`,borderBottom:`${t.size}px solid ${t.color}`};default:return{...o,borderRadius:"2px"}}},[t]);return r.jsx(m.div,{initial:{x:`${t.x}vw`,y:-20,rotate:t.rotation,opacity:1,scale:0},animate:{y:"110vh",x:[`${t.x}vw`,`${t.x+(Math.random()>.5?1:-1)*(t.amplitude/3)}vw`,`${t.x+(Math.random()>.5?-1:1)*(t.amplitude/2)}vw`,`${t.x}vw`],rotate:t.rotation+(Math.random()>.5?360:-360)*3,opacity:[1,1,1,.8,0],scale:[0,1,1,1,.8]},transition:{duration:t.duration,delay:t.delay,ease:"easeOut",x:{duration:t.duration,repeat:0,ease:"easeInOut"}},style:{position:"absolute",top:0,left:0,pointerEvents:"none",...e}})};function g({active:t=!1,count:e=50,duration:o=4e3,onComplete:a}){const[s,h]=n.useState([]),[d,u]=n.useState(!1);return n.useEffect(()=>{if(t&&!d){u(!0),h(c(e));const i=setTimeout(()=>{u(!1),h([]),a?.()},o);return()=>clearTimeout(i)}},[t,e,o,a,d]),n.useEffect(()=>{t||u(!1)},[t]),!d||s.length===0?null:r.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",pointerEvents:"none",zIndex:9999,overflow:"hidden"},"aria-hidden":"true",children:r.jsx(l,{children:s.map(i=>r.jsx(x,{particle:i},i.id))})})}function b(t={}){const[e,o]=n.useState(!1),a=n.useCallback(()=>{o(!0)},[]),s=n.useCallback(()=>r.jsx(g,{active:e,count:t.count||50,duration:t.duration||4e3,onComplete:()=>{o(!1),t.onComplete?.()}}),[e,t]);return{triggerConfetti:a,isActive:e,ConfettiComponent:s}}export{b as u};
