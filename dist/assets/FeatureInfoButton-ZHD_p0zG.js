import{h as Ge,i as Re,a as d,b as _e}from"./react-vendor-uDOJF2jQ.js";import{j as a,A as $e,m as re,X as ze,a as Be,T as Ee,n as Me,b as We,h as Je,I as Ke}from"./ui-vendor-B9DEMv6g.js";var K={},Te;function Ve(){if(Te)return K;Te=1;var r=Ge();return K.createRoot=r.createRoot,K.hydrateRoot=r.hydrateRoot,K}var He=Ve();const vt=Re(He),Y={"--app-bg-color":"linear-gradient(135deg, #f8fafc 0%, #eff6ff 50%, #f0fdfa 100%)","--sidebar-bg-color":"#ffffff","--sidebar-text-color":"#0f172a","--sidebar-text-muted":"#94a3b8","--sidebar-active-bg":"#E8F4F8","--sidebar-active-text":"#2D6485","--sidebar-hover-bg":"#f8fafc","--card-bg-color":"#ffffff","--primary-accent":"#3A7FA7","--primary-accent-light":"#E8F4F8","--primary-accent-hover":"#2D6485","--button-gradient":"linear-gradient(135deg, #3A7FA7 0%, #3DA389 100%)","--button-gradient-hover":"linear-gradient(135deg, #2D6485 0%, #2E8A72 100%)","--button-solid":"#3A7FA7","--button-solid-hover":"#2D6485","--button-text":"#ffffff","--header-gradient":"linear-gradient(135deg, #3A7FA7 0%, #3DA389 100%)","--header-text":"#ffffff","--icon-primary":"#3A7FA7","--icon-secondary":"#3DA389","--icon-muted":"#94a3b8","--text-main":"#0f172a","--text-secondary":"#475569","--text-muted":"#94a3b8","--border-color":"#e2e8f0","--border-color-light":"#f1f5f9","--focus-ring":"rgba(58, 127, 167, 0.3)"},Xe={"vertriebs-mueller":{id:"vertriebs-mueller",slug:"vertriebs-mueller",name:"Vertriebsakademie MÃ¼ller",branding:{"--app-bg-color":"linear-gradient(135deg, #fef3c7 0%, #fff7ed 50%, #fffbeb 100%)","--sidebar-bg-color":"#1e3a5f","--sidebar-text-color":"#ffffff","--sidebar-text-muted":"#94a3b8","--sidebar-active-bg":"rgba(251, 191, 36, 0.2)","--sidebar-active-text":"#fbbf24","--sidebar-hover-bg":"rgba(255, 255, 255, 0.1)","--card-bg-color":"#ffffff","--primary-accent":"#d97706","--primary-accent-light":"#fef3c7","--primary-accent-hover":"#b45309","--button-gradient":"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)","--button-gradient-hover":"linear-gradient(135deg, #d97706 0%, #b45309 100%)","--button-solid":"#d97706","--button-solid-hover":"#b45309","--button-text":"#ffffff","--header-gradient":"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)","--header-text":"#ffffff","--icon-primary":"#d97706","--icon-secondary":"#f59e0b","--icon-muted":"#a8a29e","--text-main":"#1c1917","--text-secondary":"#57534e","--text-muted":"#a8a29e","--border-color":"#e7e5e4","--border-color-light":"#f5f5f4","--focus-ring":"rgba(217, 119, 6, 0.3)"},logo_url:null,modules:[]},"sales-academy-pro":{id:"sales-academy-pro",slug:"sales-academy-pro",name:"Sales Academy Pro",branding:{"--app-bg-color":"linear-gradient(135deg, #f0fdf4 0%, #ecfdf5 50%, #f0fdfa 100%)","--sidebar-bg-color":"#064e3b","--sidebar-text-color":"#ffffff","--sidebar-text-muted":"#a7f3d0","--sidebar-active-bg":"rgba(52, 211, 153, 0.2)","--sidebar-active-text":"#34d399","--sidebar-hover-bg":"rgba(255, 255, 255, 0.1)","--card-bg-color":"#ffffff","--primary-accent":"#059669","--primary-accent-light":"#d1fae5","--primary-accent-hover":"#047857","--button-gradient":"linear-gradient(135deg, #10b981 0%, #059669 100%)","--button-gradient-hover":"linear-gradient(135deg, #059669 0%, #047857 100%)","--button-solid":"#059669","--button-solid-hover":"#047857","--button-text":"#ffffff","--header-gradient":"linear-gradient(135deg, #10b981 0%, #059669 100%)","--header-text":"#ffffff","--icon-primary":"#059669","--icon-secondary":"#10b981","--icon-muted":"#6ee7b7","--text-main":"#022c22","--text-secondary":"#065f46","--text-muted":"#6ee7b7","--border-color":"#a7f3d0","--border-color-light":"#d1fae5","--focus-ring":"rgba(5, 150, 105, 0.3)"},logo_url:null,modules:[]},"techsales-institute":{id:"techsales-institute",slug:"techsales-institute",name:"TechSales Institute",branding:{"--app-bg-color":"linear-gradient(135deg, #faf5ff 0%, #f3e8ff 50%, #ede9fe 100%)","--sidebar-bg-color":"#3b0764","--sidebar-text-color":"#ffffff","--sidebar-text-muted":"#c4b5fd","--sidebar-active-bg":"rgba(167, 139, 250, 0.2)","--sidebar-active-text":"#a78bfa","--sidebar-hover-bg":"rgba(255, 255, 255, 0.1)","--card-bg-color":"#ffffff","--primary-accent":"#7c3aed","--primary-accent-light":"#ede9fe","--primary-accent-hover":"#6d28d9","--button-gradient":"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)","--button-gradient-hover":"linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%)","--button-solid":"#7c3aed","--button-solid-hover":"#6d28d9","--button-text":"#ffffff","--header-gradient":"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)","--header-text":"#ffffff","--icon-primary":"#7c3aed","--icon-secondary":"#8b5cf6","--icon-muted":"#a78bfa","--text-main":"#1e1b4b","--text-secondary":"#4c1d95","--text-muted":"#a78bfa","--border-color":"#ddd6fe","--border-color-light":"#ede9fe","--focus-ring":"rgba(124, 58, 237, 0.3)"},logo_url:null,modules:[]},"engarde-training":{id:"engarde-training",slug:"engarde-training",name:"En Garde Verhandlungstraining",branding:{"--app-bg-color":"linear-gradient(135deg, #fafafa 0%, #f5f5f5 50%, #fafafa 100%)","--sidebar-bg-color":"#333333","--sidebar-text-color":"#ffffff","--sidebar-text-muted":"#9ca3af","--sidebar-active-bg":"rgba(234, 88, 12, 0.2)","--sidebar-active-text":"#f97316","--sidebar-hover-bg":"rgba(255, 255, 255, 0.1)","--card-bg-color":"#ffffff","--primary-accent":"#ea580c","--primary-accent-light":"#fff7ed","--primary-accent-hover":"#c2410c","--button-gradient":"linear-gradient(135deg, #f97316 0%, #ea580c 100%)","--button-gradient-hover":"linear-gradient(135deg, #ea580c 0%, #c2410c 100%)","--button-solid":"#ea580c","--button-solid-hover":"#c2410c","--button-text":"#ffffff","--header-gradient":"linear-gradient(135deg, #f97316 0%, #ea580c 100%)","--header-text":"#ffffff","--icon-primary":"#ea580c","--icon-secondary":"#f97316","--icon-muted":"#9ca3af","--text-main":"#1f2937","--text-secondary":"#4b5563","--text-muted":"#9ca3af","--border-color":"#e5e7eb","--border-color-light":"#f3f4f6","--focus-ring":"rgba(234, 88, 12, 0.3)"},logo_url:null,modules:[]},staerkentrainer:{id:"staerkentrainer",slug:"staerkentrainer",name:"StÃ¤rkentrainer",branding:{"--app-bg-color":"linear-gradient(135deg, #fafafa 0%, #f5f7f2 50%, #fafafa 100%)","--sidebar-bg-color":"#2d2d2d","--sidebar-text-color":"#ffffff","--sidebar-text-muted":"#a3a3a3","--sidebar-active-bg":"rgba(106, 128, 50, 0.2)","--sidebar-active-text":"#8aa83a","--sidebar-hover-bg":"rgba(255, 255, 255, 0.1)","--card-bg-color":"#ffffff","--primary-accent":"#6a8032","--primary-accent-light":"#f0f4e8","--primary-accent-hover":"#556827","--button-gradient":"linear-gradient(135deg, #8aa83a 0%, #6a8032 100%)","--button-gradient-hover":"linear-gradient(135deg, #6a8032 0%, #556827 100%)","--button-solid":"#6a8032","--button-solid-hover":"#556827","--button-text":"#ffffff","--header-gradient":"linear-gradient(135deg, #8aa83a 0%, #6a8032 100%)","--header-text":"#ffffff","--icon-primary":"#6a8032","--icon-secondary":"#8aa83a","--icon-muted":"#a3a3a3","--text-main":"#1a1a1a","--text-secondary":"#525252","--text-muted":"#a3a3a3","--border-color":"#e5e5e5","--border-color-light":"#f5f5f5","--focus-ring":"rgba(106, 128, 50, 0.3)"},logo_url:null,modules:[]},"leadership-id":{id:"leadership-id",slug:"leadership-id",name:"Joachim Simon - Leadership ID",branding:{"--app-bg-color":"linear-gradient(135deg, #fafafa 0%, #f0f7f9 50%, #fafafa 100%)","--sidebar-bg-color":"#1a5f7a","--sidebar-text-color":"#ffffff","--sidebar-text-muted":"#8ecfe0","--sidebar-active-bg":"rgba(255, 255, 255, 0.2)","--sidebar-active-text":"#ffffff","--sidebar-hover-bg":"rgba(255, 255, 255, 0.1)","--card-bg-color":"#ffffff","--primary-accent":"#1a5f7a","--primary-accent-light":"#e0f2f7","--primary-accent-hover":"#134a5f","--button-gradient":"linear-gradient(135deg, #2980a8 0%, #1a5f7a 100%)","--button-gradient-hover":"linear-gradient(135deg, #1a5f7a 0%, #134a5f 100%)","--button-solid":"#1a5f7a","--button-solid-hover":"#134a5f","--button-text":"#ffffff","--header-gradient":"linear-gradient(135deg, #2980a8 0%, #1a5f7a 100%)","--header-text":"#ffffff","--icon-primary":"#1a5f7a","--icon-secondary":"#2980a8","--icon-muted":"#8ecfe0","--text-main":"#1a1a1a","--text-secondary":"#525252","--text-muted":"#9ca3af","--border-color":"#e5e7eb","--border-color-light":"#f3f4f6","--focus-ring":"rgba(26, 95, 122, 0.3)"},logo_url:null,modules:[]}};function ne(r){if(!r)return null;const e=r.toLowerCase().trim();return Xe[e]||null}function Ze(){if(typeof window>"u")return null;const r=new URLSearchParams(window.location.search);return r.get("partner")||r.get("pid")||null}function Ye(r,e){return!r||!r.modules||!Array.isArray(r.modules)||r.modules.length===0?!0:r.modules.includes(e)}function Pe(r,e,t){if(!r||!Array.isArray(r))return[];if(!e||e.slug==="default"||e.id==="default")return r;const n=e.visible_scenarios;if(!n||Array.isArray(n)||typeof n!="object")return[];const s=n[t];return!s||!Array.isArray(s)?[]:s.includes("__all__")?r:s.length===0?[]:r.filter(i=>{const u=Number(i.id);return s.includes(u)})}function Qe(r,e){return!e||!e.modules||!Array.isArray(e.modules)||e.modules.length===0?r:r.filter(t=>{const n=String(t.id||"").toLowerCase(),s=String(t.slug||"").toLowerCase(),i=String(t.title||"").toLowerCase();return e.modules.some(u=>{const c=String(u).toLowerCase();return n.includes(c)||s.includes(c)||i.includes(c)||c.includes(n)||c.includes(s)||c.includes(i)})})}function X(){return typeof window<"u"&&window.bewerbungstrainerConfig?.apiUrl?`${window.bewerbungstrainerConfig.apiUrl.replace("/bewerbungstrainer/v1","")}/karriereheld/v1`:typeof window<"u"?`${window.location.origin}/wp-json/karriereheld/v1`:"/wp-json/karriereheld/v1"}async function et(r){const e=X(),t=r?`${e}/config?partner_slug=${encodeURIComponent(r)}`:`${e}/config`;try{const n=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"same-origin"});if(!n.ok)throw new Error(`HTTP ${n.status}: ${n.statusText}`);const s=await n.json();return s.success&&s.data?s.data:(console.warn("âš ï¸ [Partners] API returned no data, using mock fallback"),ne(r)||null)}catch(n){console.error("âŒ [Partners] Failed to fetch config from API:",n.message);const s=ne(r);return s||null}}async function tt(r,e){const n=`${X()}/login`;try{const s=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify({username:r,password:e})}),i=await s.json();return s.ok&&i.success?(i.data.nonce&&window.bewerbungstrainerConfig?(window.bewerbungstrainerConfig.nonce=i.data.nonce,window.bewerbungstrainerConfig.currentUser={id:i.data.user.id,name:i.data.user.displayName,firstName:i.data.user.firstName}):i.data.nonce||(console.warn("âš ï¸ [Partners] Server did not return a new nonce! API calls may fail."),console.warn("âš ï¸ [Partners] Current nonce:",window.bewerbungstrainerConfig?.nonce?.substring(0,10)+"...")),{success:!0,user:i.data.user,nonce:i.data.nonce}):(console.warn("âš ï¸ [Partners] Login failed:",i.error?.message),{success:!1,error:i.error?.message||"Login fehlgeschlagen"})}catch(s){return console.error("âŒ [Partners] Login request failed:",s.message),{success:!1,error:"Verbindungsfehler. Bitte versuchen Sie es erneut."}}}async function V(){const e=`${X()}/logout`;try{const n=await(await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"same-origin"})).json();return n.success&&window.bewerbungstrainerConfig&&(window.bewerbungstrainerConfig.currentUser={id:0,name:"",firstName:""}),n}catch(t){return console.error("âŒ [Partners] Logout request failed:",t.message),{success:!1,error:t.message}}}async function Ae(){const e=`${X()}/user`;try{const t=await fetch(e,{method:"GET",headers:{"Content-Type":"application/json",...window.bewerbungstrainerConfig?.nonce&&{"X-WP-Nonce":window.bewerbungstrainerConfig.nonce}},credentials:"same-origin"});if(!t.ok)return null;const n=await t.json();return n.success&&n.data?.user?n.data.user:null}catch(t){return console.error("âŒ [Partners] Failed to get current user:",t.message),null}}const oe={"karriere-placement":{id:"karriere-placement",name:"Karriere & Placement",description:"Vom Berufseinstieg bis zum Jobwechsel - optimal vorbereitet ins VorstellungsgesprÃ¤ch",icon:"ğŸ¯",color:"#3b82f6",focus:"Job bekommen",targetGroup:"B2C / Arbeitsamt"},"corporate-essentials":{id:"corporate-essentials",name:"Corporate Essentials",description:"Grundlegende Kommunikations- und GesprÃ¤chskompetenzen fÃ¼r den Berufsalltag",icon:"ğŸ¢",color:"#6366f1",focus:"Professionell kommunizieren",targetGroup:"B2B Allgemein"},"high-performance-sales":{id:"high-performance-sales",name:"High Performance Sales",description:"Vertriebstraining fÃ¼r maximale Abschlussquoten und Kundengewinnung",icon:"ğŸ’°",color:"#10b981",focus:"Umsatz machen",targetGroup:"B2B Vertrieb"},"coaching-toolkit":{id:"coaching-toolkit",name:"Coaching Toolkit",description:"Werkzeuge und Techniken fÃ¼r effektives Coaching und Mitarbeiterentwicklung",icon:"ğŸ› ï¸",color:"#f59e0b",focus:"Menschen entwickeln",targetGroup:"B2B HR / Coaches"},"leadership-academy":{id:"leadership-academy",name:"Leadership Academy",description:"FÃ¼hrungskompetenzen fÃ¼r Manager und Teamleiter",icon:"ğŸ‘”",color:"#8b5cf6",focus:"Menschen fÃ¼hren",targetGroup:"B2B HR / FÃ¼hrungskrÃ¤fte"},"social-care":{id:"social-care",name:"Social & Care",description:"Kommunikation im sozialen und pflegerischen Bereich",icon:"ğŸ’š",color:"#ec4899",focus:"Helfen & SchÃ¼tzen",targetGroup:"Public / Health"},"customer-care":{id:"customer-care",name:"Customer Care & Resilience",description:"Kundenservice, Beschwerdemanagement und Deeskalation",icon:"ğŸ›¡ï¸",color:"#ef4444",focus:"Deeskalieren & LÃ¶sen",targetGroup:"B2B Service"}},rt=Object.values(oe);function nt(r){return oe[r]||null}function st(r,e){if(!r?.target_audience||!e)return console.log(`[SETUP-FILTER] "${r?.title}" excluded: no target_audience="${r?.target_audience}" or setupId="${e}"`),!1;const t=nt(e);if(!t)return console.log(`[SETUP-FILTER] "${r?.title}" excluded: setup "${e}" not found in config`),!1;const n=r.target_audience.split(";").map(c=>c.trim().toLowerCase()),s=t.id?.toLowerCase(),i=t.name?.toLowerCase(),u=n.some(c=>c===s||c===i||c===e.toLowerCase());return console.log(`[SETUP-FILTER] "${r?.title}" target_audience="${r.target_audience}" setupId="${e}" â†’ ${u?"INCLUDED":"EXCLUDED"}`),u}function it(r,e){if(!r||!Array.isArray(r))return[];if(!e)return console.log(`[SETUP-FILTER] No setupId provided, returning all ${r.length} scenarios`),r;console.log(`[SETUP-FILTER] Filtering ${r.length} scenarios by setupId="${e}"`);const t=r.filter(n=>st(n,e));return console.log(`[SETUP-FILTER] Result: ${t.length} scenarios match setupId="${e}"`),t}const Ne=d.createContext(null),ot=3e3;let Q=!1;function Et({children:r}){const[e,t]=d.useState(null),[n,s]=d.useState(!0),[i,u]=d.useState(Q),[c,x]=d.useState(null),[w,y]=d.useState(!0);d.useEffect(()=>{if(Q){u(!0);return}const l=setTimeout(()=>{u(!0),Q=!0},ot);return()=>clearTimeout(l)},[]);const o=!i||n,[f,S]=d.useState(null),[T,v]=d.useState(!1),[I,b]=d.useState(!1),[k,$]=d.useState(!0),[D,U]=d.useState(()=>typeof window<"u"&&localStorage.getItem("bewerbungstrainer_demo_code")||null),[q,R]=d.useState(!1),[C,le]=d.useState(()=>typeof window<"u"&&localStorage.getItem("bewerbungstrainer_selected_setup")||null),j=d.useCallback(()=>{if(c){const l={};return c.forEach(g=>{l[g.slug]={id:g.slug,name:g.name,description:g.description,icon:g.icon,color:g.color,focus:g.focus,targetGroup:g.target_group}}),l}return oe},[c]),de=d.useCallback(()=>c?c.map(l=>({id:l.slug,name:l.name,description:l.description,icon:l.icon,color:l.color,focus:l.focus,targetGroup:l.target_group})):rt,[c]),Oe=async()=>{try{const l=window.bewerbungstrainerConfig?.apiUrl||"/wp-json/bewerbungstrainer/v1",g=await fetch(`${l}/setups`,{method:"GET",credentials:"same-origin"});if(g.ok){const m=await g.json();if(m.success&&m.data?.setups)return x(m.data.setups),m.data.setups}}catch(l){console.error("Failed to load setups from API:",l)}return y(!1),null},ue=async()=>{const l=j();try{const g=window.bewerbungstrainerConfig?.apiUrl||"/wp-json/bewerbungstrainer/v1",m=await fetch(`${g}/user/setup`,{method:"GET",credentials:"same-origin",headers:{"X-WP-Nonce":window.bewerbungstrainerConfig?.nonce||""}});if(m.ok){const p=await m.json();if(p.success&&p.data?.setup_id&&l[p.data.setup_id])return le(p.data.setup_id),localStorage.setItem("bewerbungstrainer_selected_setup",p.data.setup_id),p.data.setup_id}}catch(g){console.error("Failed to load setup from user profile:",g)}return null};d.useEffect(()=>{Oe().then(()=>y(!1))},[]),d.useEffect(()=>{(async()=>{const g=Ze();try{const m=await et(g);m?t(m):g&&console.warn("ğŸ·ï¸ [PartnerContext] Partner not found:",g)}catch(m){if(console.error("ğŸ·ï¸ [PartnerContext] Error loading partner config:",m),g){const p=ne(g);p&&t(p)}}s(!1)})()},[]);const Z=async()=>{try{const l=window.bewerbungstrainerConfig?.apiUrl||"/wp-json/bewerbungstrainer/v1",g=await fetch(`${l}/admin/check`,{method:"GET",credentials:"same-origin",headers:{"Content-Type":"application/json","X-WP-Nonce":window.bewerbungstrainerConfig?.nonce||""}});return g.ok&&(await g.json()).data?.isAdmin||!1}catch{return!1}};d.useEffect(()=>{(async()=>{const g=window.bewerbungstrainerConfig,m=localStorage.getItem("bewerbungstrainer_demo_pending"),p=localStorage.getItem("bewerbungstrainer_demo_code"),P=g?.currentUser?.login?.toLowerCase()==="demo";if(m==="true"&&P&&!p){localStorage.removeItem("bewerbungstrainer_demo_pending");try{await V()}catch(E){console.error("ğŸ” [PartnerContext] Error logging out demo user:",E)}$(!1);return}if(g?.currentUser?.id&&g.currentUser.id>0){if(P&&!p){try{await V()}catch(F){console.error("ğŸ” [PartnerContext] Error logging out demo user:",F)}$(!1);return}S({id:g.currentUser.id,displayName:g.currentUser.name,firstName:g.currentUser.firstName}),v(!0),P&&p&&(R(!0),U(p));const E=await Z();b(E),P||await ue()}else try{const E=await Ae();if(E){const F=E.login?.toLowerCase()==="demo";if(F&&!p){await V(),$(!1);return}S(E),v(!0),F&&p&&(R(!0),U(p));const z=await Z();b(z),F||await ue()}}catch{}$(!1)})()},[]),d.useEffect(()=>{Le(e)},[e]);const Le=l=>{const g=document.documentElement,m=document.getElementById("bewerbungstrainer-app")||document.getElementById("root"),p=l?.branding||Y;Object.entries(p).forEach(([P,E])=>{g.style.setProperty(P,E)}),m&&Object.entries(p).forEach(([P,E])=>{m.style.setProperty(P,E)})},fe=l=>Qe(l,e),ge=(l,g)=>Pe(l,e,g),me=l=>Ye(e,l),he=()=>e?.branding||Y,pe=()=>e?.logo_url||null,be=d.useCallback(async(l,g)=>{const m=await tt(l,g);if(m.success){let p=!1;const P=[200,400,600];for(let F=0;F<P.length;F++){await new Promise(z=>setTimeout(z,P[F]));try{if((await fetch(`${window.bewerbungstrainerConfig?.apiUrl||"/wp-json/bewerbungstrainer/v1"}/user/info`,{method:"GET",headers:{"X-WP-Nonce":m.nonce},credentials:"same-origin"})).ok){p=!0;break}}catch{}}p||console.warn("âš ï¸ [PartnerContext] Cookie could not be verified, proceeding anyway"),S(m.user),v(!0);const E=await Z();b(E)}else console.warn("âš ï¸ [PartnerContext] Login failed:",m.error);return m},[]),ye=d.useCallback(async()=>{const l=await V();return S(null),v(!1),b(!1),U(null),R(!1),typeof window<"u"&&localStorage.removeItem("bewerbungstrainer_demo_code"),l},[]),W=d.useCallback(l=>{if(l){const g=l.toUpperCase();U(g),R(!0),typeof window<"u"&&localStorage.setItem("bewerbungstrainer_demo_code",g)}else U(null),R(!1),typeof window<"u"&&localStorage.removeItem("bewerbungstrainer_demo_code")},[]),we=d.useCallback(()=>{W(null)},[W]),J=d.useCallback(async l=>{const g=j(),m=l&&g[l]?l:null;if(le(m),typeof window<"u"&&(m?localStorage.setItem("bewerbungstrainer_selected_setup",m):localStorage.removeItem("bewerbungstrainer_selected_setup")),T&&!q)try{const p=window.bewerbungstrainerConfig?.apiUrl||"/wp-json/bewerbungstrainer/v1";await fetch(`${p}/user/setup`,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json","X-WP-Nonce":window.bewerbungstrainerConfig?.nonce||""},body:JSON.stringify({setup_id:m})})}catch(p){console.error("Failed to save setup to user profile:",p)}},[T,q,j]),xe=d.useCallback(()=>{J(null)},[J]),Se=d.useCallback(()=>{const l=j();return C&&l[C]?l[C]:null},[C,j]),ke=d.useCallback((l,g)=>{let m=Pe(l,e,g);return C&&(m=it(m,C)),m},[e,C]),ve=d.useCallback(async()=>{try{const l=await Ae();return l?(S(l),v(!0),l):(S(null),v(!1),null)}catch(l){return console.error("âŒ [PartnerContext] Failed to refresh user:",l),null}},[]),qe=d.useMemo(()=>({partner:e,isLoading:o,isWhiteLabel:!!e,filterScenarios:fe,filterScenariosByType:ge,checkModuleAllowed:me,getBranding:he,getLogoUrl:pe,branding:e?.branding||Y,logoUrl:e?.logo_url||null,partnerName:e?.name||"Karriereheld",dashboardTitle:e?.dashboard_title||null,dashboardHook:e?.dashboard_hook||null,user:f,isAuthenticated:T,isAdmin:I,authLoading:k,login:be,logout:ye,refreshUser:ve,demoCode:D,isDemoUser:q,setDemoCode:W,clearDemoCode:we,selectedSetup:C,currentSetup:Se(),setSelectedSetup:J,clearSelectedSetup:xe,filterScenariosBySetupAndPartner:ke,availableSetups:de(),SCENARIO_SETUPS:j(),setupsLoading:w}),[e,o,fe,ge,me,he,pe,f,T,I,k,be,ye,ve,D,q,W,we,C,Se,J,xe,ke,de,j,w]);return a.jsx(Ne.Provider,{value:qe,children:r})}function Ie(){const r=d.useContext(Ne);if(!r)throw new Error("usePartner must be used within a PartnerProvider");return r}function Tt(){const{user:r,isAuthenticated:e,isAdmin:t,authLoading:n,login:s,logout:i,refreshUser:u}=Ie();return{user:r,isAuthenticated:e,isAdmin:t,isLoading:n,login:s,logout:i,refreshUser:u}}const De=d.createContext(null),Ce={success:{bgColor:"#10b981",icon:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})},error:{bgColor:"#ef4444",icon:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})},info:{bgColor:"#3b82f6",icon:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})},warning:{bgColor:"#f59e0b",icon:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}};function at({id:r,message:e,type:t="success",duration:n=3e3,onDismiss:s}){const i=Ce[t]||Ce.info;return d.useEffect(()=>{if(n>0){const u=setTimeout(()=>{s(r)},n);return()=>clearTimeout(u)}},[r,n,s]),a.jsxs(re.div,{initial:{opacity:0,y:-20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},transition:{duration:.2},className:"flex items-center gap-3 px-5 py-3.5 text-white rounded-xl shadow-2xl text-[15px] font-medium min-w-[280px] max-w-[400px]",style:{backgroundColor:i.bgColor},children:[a.jsx("span",{className:"flex-shrink-0",children:i.icon}),a.jsx("span",{className:"flex-1",children:e}),a.jsx("button",{onClick:()=>s(r),className:"bg-white/20 border-none rounded-md p-1 cursor-pointer flex items-center justify-center text-white flex-shrink-0 hover:bg-white/30 transition-colors",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}function ct({toasts:r,onDismiss:e}){return a.jsx("div",{className:"fixed top-5 left-1/2 -translate-x-1/2 z-[9999] flex flex-col gap-2.5 items-center",children:a.jsx($e,{children:r.map(t=>a.jsx(at,{...t,onDismiss:e},t.id))})})}function Pt({children:r}){const[e,t]=d.useState([]),n=d.useCallback((y,o="success",f=3e3)=>{const S=Date.now()+Math.random();return t(T=>[...T,{id:S,message:y,type:o,duration:f}]),S},[]),s=d.useCallback(y=>{t(o=>o.filter(f=>f.id!==y))},[]),i=d.useCallback((y,o)=>n(y,"success",o),[n]),u=d.useCallback((y,o)=>n(y,"error",o),[n]),c=d.useCallback((y,o)=>n(y,"info",o),[n]),x=d.useCallback((y,o)=>n(y,"warning",o),[n]),w={addToast:n,dismissToast:s,showSuccess:i,showError:u,showInfo:c,showWarning:x};return a.jsxs(De.Provider,{value:w,children:[r,a.jsx(ct,{toasts:e,onDismiss:s})]})}function At(){const r=d.useContext(De);if(!r)throw new Error("useToast must be used within a ToastProvider");return r}class lt{constructor(){this.config=window.bewerbungstrainerConfig||{apiUrl:"/wp-json/bewerbungstrainer/v1",nonce:"",currentUser:{id:0,name:"",firstName:""},uploadsUrl:"",elevenlabsAgentId:"",elevenlabsApiKey:"",geminiApiKey:""},this.apiUrl=this.config.apiUrl}getNonce(){const e=window.bewerbungstrainerConfig?.nonce||"";return e||console.warn("[WordPressAPI] No nonce available - user may not be logged in"),e}async request(e,t={}){const n=`${this.apiUrl}${e}`,i={headers:{"Content-Type":"application/json","X-WP-Nonce":this.getNonce()},credentials:"same-origin"},u={...i,...t,headers:{...i.headers,...t.headers}};try{const c=await fetch(n,u);if(!c.ok){const w=await c.json().catch(()=>({message:"Unknown error"}));throw new Error(w.message||`HTTP ${c.status}: ${c.statusText}`)}return await c.json()}catch(c){throw console.error("API Request Error:",c),c}}async getUserInfo(){return this.request("/user/info",{method:"GET"})}async getSettings(){return this.request("/settings",{method:"GET"})}async createSession(e){return this.request("/sessions",{method:"POST",body:JSON.stringify(e)})}async getSessions(e={}){const t=new URLSearchParams(e).toString(),n=t?`/sessions?${t}`:"/sessions";return this.request(n,{method:"GET"})}async getSession(e){return this.request(`/sessions/${e}`,{method:"GET"})}async updateSession(e,t){return this.request(`/sessions/${e}`,{method:"PUT",body:JSON.stringify(t)})}async deleteSession(e){return this.request(`/sessions/${e}`,{method:"DELETE"})}async saveAudioFromElevenLabs(e,t){return this.request("/audio/save-elevenlabs",{method:"POST",body:JSON.stringify({conversation_id:e,session_id:t})})}async uploadAudio(e,t){return this.request("/audio/upload",{method:"POST",body:JSON.stringify({audio_data:e,session_id:t})})}getCurrentUser(){return this.config.currentUser}getElevenLabsAgentId(){return this.config.elevenlabsAgentId||void 0}getElevenLabsApiKey(){return this.config.elevenlabsApiKey||void 0}getGeminiApiKey(){return this.config.geminiApiKey||void 0}isWordPress(){return typeof window.bewerbungstrainerConfig<"u"}async generateQuestions(e){return this.request("/video-training/generate-questions",{method:"POST",body:JSON.stringify(e)})}async createVideoTraining(e){return this.request("/video-training",{method:"POST",body:JSON.stringify(e)})}async uploadVideo(e,t,n){const s=new FormData;return s.append("video",t),s.append("timeline",JSON.stringify(n)),this.request(`/video-training/${e}/upload`,{method:"POST",headers:{"X-WP-Nonce":this.getNonce()},body:s})}async analyzeVideoTraining(e){return this.request(`/video-training/${e}/analyze`,{method:"POST"})}async getVideoTraining(e){return this.request(`/video-training/${e}`,{method:"GET"})}async getVideoTrainings(e={}){const t=new URLSearchParams(e).toString(),n=t?`/video-training?${t}`:"/video-training";return this.request(n,{method:"GET"})}async deleteVideoTraining(e){return this.request(`/video-training/${e}`,{method:"DELETE"})}async getSimulatorScenarios(e={}){const t=new URLSearchParams(e).toString(),n=t?`/simulator/scenarios?${t}`:"/simulator/scenarios";return this.request(n,{method:"GET"})}async getSimulatorScenario(e){return this.request(`/simulator/scenarios/${e}`,{method:"GET"})}async createSimulatorSession(e){return this.request("/simulator/sessions",{method:"POST",body:JSON.stringify(e)})}async generateSimulatorQuestions(e,t=3){let n;for(let s=1;s<=t;s++)try{return await this.request(`/simulator/sessions/${e}/questions`,{method:"POST"})}catch(i){if(n=i,console.warn(`âš ï¸ [SimulatorAPI] Question generation failed on attempt ${s}:`,i.message),s<t){const u=Math.pow(2,s-1)*1e3;await new Promise(c=>setTimeout(c,u))}}throw console.error(`âŒ [SimulatorAPI] Question generation failed after ${t} attempts`),n}async updateSimulatorSessionQuestions(e,t){return this.request(`/simulator/sessions/${e}`,{method:"PUT",body:JSON.stringify({questions_json:t})})}async submitSimulatorAnswer(e,t,n,s,i=null,u=null){const c=new FormData;c.append("audio",t,"answer.webm"),c.append("question_index",n),c.append("question_text",s),i&&c.append("question_category",i),u!==null&&u>0&&c.append("audio_duration",u);const x=`${this.apiUrl}/simulator/sessions/${e}/answer`,w=await fetch(x,{method:"POST",headers:{"X-WP-Nonce":this.getNonce()},credentials:"same-origin",body:c});if(!w.ok){const y=await w.json().catch(()=>({message:"Unknown error"}));throw new Error(y.message||`HTTP ${w.status}: ${w.statusText}`)}return w.json()}async submitSimulatorAnswerBase64(e,t,n,s,i,u=null){return this.request(`/simulator/sessions/${e}/answer`,{method:"POST",body:JSON.stringify({audio_base64:t,audio_mime_type:n,question_index:s,question_text:i,question_category:u})})}async updateSimulatorSession(e,t){return this.request(`/simulator/sessions/${e}`,{method:"PUT",body:JSON.stringify(t)})}async getSimulatorSession(e){return this.request(`/simulator/sessions/${e}`,{method:"GET"})}async getSimulatorSessions(e={}){const t=new URLSearchParams(e).toString(),n=t?`/simulator/sessions?${t}`:"/simulator/sessions";return this.request(n,{method:"GET"})}async deleteSimulatorSession(e){return this.request(`/simulator/sessions/${e}`,{method:"DELETE"})}async generateNextTurn(e){return this.request(`/simulator/sessions/${e}/next-turn`,{method:"POST",body:JSON.stringify({})})}async getSimulatorSessionAnswers(e){return this.request(`/simulator/sessions/${e}/answers`,{method:"GET"})}async completeSimulatorSession(e){return this.request(`/simulator/sessions/${e}/complete`,{method:"POST"})}async getScenarioTemplates(e={}){const t=new URLSearchParams(e).toString(),n=t?`/game/templates?${t}`:"/game/templates";return this.request(n,{method:"GET"})}async getScenarioTemplate(e){return this.request(`/game/templates/${e}`,{method:"GET"})}async getScenarioCategories(){return this.request("/game/templates/categories",{method:"GET"})}async createGameSession(e){return this.request("/game/sessions",{method:"POST",body:JSON.stringify(e)})}async getGameSessions(e={}){const t=new URLSearchParams(e).toString(),n=t?`/game/sessions?${t}`:"/game/sessions";return this.request(n,{method:"GET"})}async getGameSession(e){return this.request(`/game/sessions/${e}`,{method:"GET"})}async updateGameSession(e,t){return this.request(`/game/sessions/${e}`,{method:"PUT",body:JSON.stringify(t)})}async deleteGameSession(e){return this.request(`/game/sessions/${e}`,{method:"DELETE"})}async getGameStats(){return this.request("/game/stats",{method:"GET"})}async getGameLeaderboard(e={}){const t=new URLSearchParams(e).toString(),n=t?`/game/leaderboard?${t}`:"/game/leaderboard";return this.request(n,{method:"GET"})}async getGameHighscore(e=null){const t=e?`?game_type=${e}`:"";return this.request(`/game/highscore${t}`,{method:"GET"})}async checkAdminStatus(){return this.request("/admin/check",{method:"GET"})}async adminGetRoleplayScenarios(){return this.request("/admin/roleplays",{method:"GET"})}async adminCreateRoleplayScenario(e){return this.request("/admin/roleplays",{method:"POST",body:JSON.stringify(e)})}async adminUpdateRoleplayScenario(e,t){return this.request(`/admin/roleplays/${e}`,{method:"PUT",body:JSON.stringify(t)})}async adminDeleteRoleplayScenario(e){return this.request(`/admin/roleplays/${e}`,{method:"DELETE"})}async adminGetPartners(){return this.request("/admin/partners",{method:"GET"})}async adminCreatePartner(e){return this.request("/admin/partners",{method:"POST",body:JSON.stringify(e)})}async adminUpdatePartner(e,t){return this.request(`/admin/partners/${e}`,{method:"PUT",body:JSON.stringify(t)})}async adminDeletePartner(e){return this.request(`/admin/partners/${e}`,{method:"DELETE"})}async adminGetSimulatorScenarios(){return this.request("/admin/simulator-scenarios",{method:"GET"})}async adminGetVideoTrainingScenarios(){return this.request("/admin/video-training-scenarios",{method:"GET"})}async logPrompt(e,t,n,s={},i=null,u=!1){try{const c={scenario:e,description:t,prompt:n,metadata:s};i&&(c.response=i,c.is_error=u),await this.request("/log-prompt",{method:"POST",body:JSON.stringify(c)})}catch(c){console.warn(`âš ï¸ [WordPressAPI] Failed to log prompt: ${c.message}`)}}async getCategories(){try{const e=await this.request("/categories",{method:"GET"});return e.success&&e.data?.categories?e.data.categories:(console.warn("[WordPressAPI] Unexpected categories response format"),[])}catch(e){return console.error("[WordPressAPI] Failed to fetch categories:",e),[]}}async getCategory(e){try{const t=await this.request(`/categories/${e}`,{method:"GET"});return t.success&&t.data?.category?t.data.category:null}catch(t){return console.error("[WordPressAPI] Failed to fetch category:",t),null}}async getUsageLimits(e=null){try{const t=e?`?demo_code=${encodeURIComponent(e)}`:"";return(await this.request(`/usage-limits${t}`,{method:"GET"})).data}catch(t){throw console.error("âŒ [WordPressAPI] Failed to get usage limits:",t),t}}async getDecisions(){try{return await this.request("/decisions",{method:"GET"})}catch(e){return console.error("âŒ [WordPressAPI] Failed to get decisions:",e),{success:!1,data:{decisions:[]}}}}async getDecision(e){try{const t=await this.request(`/decisions/${e}`,{method:"GET"});return t.success&&t.data?.decision?t.data.decision:null}catch(t){return console.error("âŒ [WordPressAPI] Failed to get decision:",t),null}}async createDecision(e){const t=await this.request("/decisions",{method:"POST",body:JSON.stringify(e)});if(t.success&&t.data?.decision)return t.data.decision;throw new Error(t.message||"Fehler beim Erstellen der Entscheidung")}async updateDecision(e,t){const n=await this.request(`/decisions/${e}`,{method:"PUT",body:JSON.stringify(t)});if(n.success&&n.data?.decision)return n.data.decision;throw new Error(n.message||"Fehler beim Aktualisieren der Entscheidung")}async deleteDecision(e){const t=await this.request(`/decisions/${e}`,{method:"DELETE"});if(t.success)return!0;throw new Error(t.message||"Fehler beim LÃ¶schen der Entscheidung")}async getIkigais(){try{return await this.request("/ikigai",{method:"GET"})}catch(e){return console.error("[WordPressAPI] Failed to get ikigais:",e),{success:!1,data:{ikigais:[]}}}}async getIkigai(e){try{const t=await this.request(`/ikigai/${e}`,{method:"GET"});return t.success&&t.data?.ikigai?t.data.ikigai:null}catch(t){return console.error("[WordPressAPI] Failed to get ikigai:",t),null}}async getCurrentIkigai(){try{const e=await this.request("/ikigai/current",{method:"GET"});return e.success&&e.data?.ikigai?e.data.ikigai:null}catch(e){return console.error("[WordPressAPI] Failed to get current ikigai:",e),null}}async createIkigai(){const e=await this.request("/ikigai",{method:"POST",body:JSON.stringify({})});if(e.success&&e.data?.ikigai)return e.data.ikigai;throw new Error(e.message||"Fehler beim Erstellen der Ikigai-Analyse")}async updateIkigai(e,t){const n=await this.request(`/ikigai/${e}`,{method:"PUT",body:JSON.stringify(t)});if(n.success&&n.data?.ikigai)return n.data.ikigai;throw new Error(n.message||"Fehler beim Aktualisieren der Ikigai-Analyse")}async deleteIkigai(e){const t=await this.request(`/ikigai/${e}`,{method:"DELETE"});if(t.success)return!0;throw new Error(t.message||"Fehler beim LÃ¶schen der Ikigai-Analyse")}async extractIkigaiKeywords(e,t){const n=await this.request("/ikigai/extract",{method:"POST",body:JSON.stringify({dimension:e,user_input:t})});if(n.success&&n.data?.keywords)return{keywords:n.data.keywords};throw new Error(n.message||"Fehler beim Extrahieren der Keywords")}async synthesizeIkigaiPaths(e){const t=await this.request("/ikigai/synthesize",{method:"POST",body:JSON.stringify(e)});if(t.success&&t.data)return{summary:t.data.summary,paths:t.data.paths};throw new Error(t.message||"Fehler beim Erstellen der Karrierepfade")}async transcribeAudio(e,t="audio/webm"){try{const n=await this.request("/audio/transcribe",{method:"POST",body:JSON.stringify({audio_base64:e,mime_type:t})});if(n.success&&n.data)return n.data;throw new Error(n.message||"Transkription fehlgeschlagen")}catch(n){throw console.error("âŒ [WordPressAPI] Failed to transcribe audio:",n),n}}async getRecentActivities(e=6){try{const t=[],[n,s,i,u,c,x,w]=await Promise.allSettled([this.getSessions({limit:3}),this.getSimulatorSessions({limit:3}),this.getVideoTrainings({limit:3}),this.getGameSessions({limit:3}),this.request("/smartbriefing/briefings?limit=3",{method:"GET"}),this.getIkigais(),this.getDecisions()]);n.status==="fulfilled"&&Array.isArray(n.value)&&n.value.forEach(o=>{t.push({id:`roleplay_${o.id}`,type:"roleplay",title:o.position||"Live-Simulation",created_at:o.created_at,score:o.score})}),s.status==="fulfilled"&&s.value?.data?.sessions?s.value.data.sessions.forEach(o=>{t.push({id:`simulator_${o.id}`,type:"simulator",title:o.scenario_title||"Szenario-Training",created_at:o.created_at,score:o.overall_score})}):s.status==="fulfilled"&&Array.isArray(s.value)&&s.value.forEach(o=>{t.push({id:`simulator_${o.id}`,type:"simulator",title:o.scenario_title||"Szenario-Training",created_at:o.created_at,score:o.overall_score})}),i.status==="fulfilled"&&i.value?.data?.sessions?i.value.data.sessions.forEach(o=>{t.push({id:`video_${o.id}`,type:"video",title:o.scenario_title||"Wirkungs-Analyse",created_at:o.created_at,score:o.overall_score})}):i.status==="fulfilled"&&Array.isArray(i.value)&&i.value.forEach(o=>{t.push({id:`video_${o.id}`,type:"video",title:o.scenario_title||"Wirkungs-Analyse",created_at:o.created_at,score:o.overall_score})}),u.status==="fulfilled"&&u.value?.data?.sessions?u.value.data.sessions.forEach(o=>{t.push({id:`game_${o.id}`,type:"game",title:o.topic||"Rhetorik-Gym",created_at:o.created_at,score:o.score})}):u.status==="fulfilled"&&Array.isArray(u.value)&&u.value.forEach(o=>{t.push({id:`game_${o.id}`,type:"game",title:o.topic||"Rhetorik-Gym",created_at:o.created_at,score:o.score})}),c.status==="fulfilled"&&(c.value?.data?.briefings||c.value?.briefings||[]).slice(0,3).forEach(f=>{t.push({id:`briefing_${f.id}`,type:"briefing",title:f.title||"Smart Briefing",created_at:f.created_at})}),x.status==="fulfilled"&&(x.value?.data?.ikigais||[]).slice(0,3).forEach(f=>{t.push({id:`ikigai_${f.id}`,type:"ikigai",title:"Ikigai-Analyse",created_at:f.created_at})}),w.status==="fulfilled"&&(w.value?.data?.decisions||[]).slice(0,3).forEach(f=>{t.push({id:`decision_${f.id}`,type:"decision",title:f.topic||"Entscheidung",created_at:f.created_at})});const y=o=>{if(!o)return new Date(0);const f=o.replace(" ","T").replace(/Z$/,"").replace(/[+-]\d{2}:\d{2}$/,"");return new Date(f)};return t.sort((o,f)=>y(f.created_at)-y(o.created_at)),t.slice(0,e)}catch(t){return console.error("[WordPressAPI] Failed to get recent activities:",t),[]}}async getPreference(e,t=null){try{const n=t?`?demo_code=${encodeURIComponent(t)}`:"",s=await this.request(`/preferences/${e}${n}`,{method:"GET"});return s.success?s.value:null}catch(n){return console.error("[WordPressAPI] Failed to get preference:",n),null}}async setPreference(e,t,n=null){try{const s=n?`?demo_code=${encodeURIComponent(n)}`:"";return(await this.request(`/preferences/${e}${s}`,{method:"POST",body:JSON.stringify({value:t})})).success===!0}catch(s){return console.error("[WordPressAPI] Failed to set preference:",s),!1}}async getAllPreferences(e=null){try{const t=e?`?demo_code=${encodeURIComponent(e)}`:"",n=await this.request(`/preferences${t}`,{method:"GET"});return n.success&&n.preferences?n.preferences:{}}catch(t){return console.error("[WordPressAPI] Failed to get all preferences:",t),{}}}}const ae=new lt;function Ct(){return window.bewerbungstrainerConfig?.nonce||""}function Ft(){return window.bewerbungstrainerConfig?.apiUrl||"/wp-json/bewerbungstrainer/v1"}function _t(r=5){return ae.getRecentActivities(r)}const se={FEATURE_INFO_DISMISSED:"feature_info_dismissed"},M="karriereheld_feature_info_dismissed";function dt(r){try{return JSON.parse(localStorage.getItem(M)||"{}")[r]===!0}catch{return!1}}function ut(r,e=!0){try{const t=JSON.parse(localStorage.getItem(M)||"{}");t[r]=e,localStorage.setItem(M,JSON.stringify(t))}catch(t){console.error("Failed to save feature info preference to localStorage:",t)}}function Ue(){try{return JSON.parse(localStorage.getItem(M)||"{}")}catch{return{}}}function ft(r){try{localStorage.setItem(M,JSON.stringify(r||{}))}catch(e){console.error("Failed to save feature info preferences to localStorage:",e)}}async function $t(r,e){if(!r&&!e){console.log("[UserPrefs] No user context, using localStorage only");return}try{console.log("[UserPrefs] Syncing preferences from API...");const t=await ae.getAllPreferences(e);if(t[se.FEATURE_INFO_DISMISSED]){const n=t[se.FEATURE_INFO_DISMISSED],i={...Ue(),...n};ft(i),console.log("[UserPrefs] Synced feature_info_dismissed from API:",i)}}catch(t){console.error("[UserPrefs] Failed to sync preferences from API:",t)}}async function gt(r,e){if(!(!r&&!e))try{const t=Ue();await ae.setPreference(se.FEATURE_INFO_DISMISSED,t,e),console.log("[UserPrefs] Saved feature_info_dismissed to API")}catch(t){console.error("[UserPrefs] Failed to save preferences to API:",t)}}function Fe(r){return dt(r)}function mt(r,e,t=!1,n=null){ut(r,e),gt(t,n)}const h={indigo:{500:"#6366F1"},blue:{50:"#EFF6FF",200:"#BFDBFE",400:"#60A5FA",500:"#3B82F6",600:"#2563EB"},teal:{400:"#2DD4BF",500:"#14B8A6"},slate:{100:"#F1F5F9",200:"#E2E8F0",300:"#CBD5E1",400:"#94A3B8",500:"#64748B",600:"#475569",700:"#334155",900:"#0F172A"},green:{50:"#F0FDF4",200:"#BBF7D0",400:"#4ADE80",500:"#22C55E",600:"#16A34A",700:"#15803D"},amber:{50:"#FFFBEB",200:"#FDE68A",400:"#FBBF24",500:"#F59E0B",600:"#D97706"},red:{50:"#FEF2F2",200:"#FECACA",300:"#FCA5A5",400:"#F87171",500:"#EF4444",600:"#DC2626",700:"#B91C1C"},purple:{50:"#FAF5FF",400:"#C084FC",500:"#A855F7",600:"#9333EA"},white:"#FFFFFF"};function Nt(r,e){return r>=80?h.green[500]:r>=60?e||h.indigo[500]:r>=40?h.amber[500]:h.red[500]}function G(r,e=1){const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r);if(!t)return r;const n=parseInt(t[1],16),s=parseInt(t[2],16),i=parseInt(t[3],16);return`rgba(${n}, ${s}, ${i}, ${e})`}function O(r,e,t=135){return`linear-gradient(${t}deg, ${r} 0%, ${e} 100%)`}const It=(r,e=!1)=>{if(r==null||isNaN(r))return"0:00";const t=Math.max(0,Math.floor(r)),n=Math.floor(t/3600),s=Math.floor(t%3600/60),i=t%60;return n>0||e?`${n}:${s.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`:`${s}:${i.toString().padStart(2,"0")}`},ce=r=>{if(!r)return new Date(0);if(r instanceof Date)return r;const e=String(r).replace(" ","T").replace(/Z$/,"").replace(/[+-]\d{2}:\d{2}$/,"");return new Date(e)},ht=(r,e={})=>{if(!r)return"-";try{const t=ce(r);if(isNaN(t.getTime()))return"-";const n={day:"2-digit",month:"short",year:"numeric"};return t.toLocaleDateString("de-DE",{...n,...e})}catch{return"-"}},Dt=r=>{if(!r)return"-";try{const e=ce(r);return isNaN(e.getTime())?"-":e.toLocaleDateString("de-DE",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"-"}},Ut=r=>{if(!r)return"-";try{const e=ce(r);if(isNaN(e.getTime()))return"-";const n=new Date-e,s=Math.floor(n/1e3),i=Math.floor(s/60),u=Math.floor(i/60),c=Math.floor(u/24);return s<0||s<60?"Gerade eben":i<60?`vor ${i} ${i===1?"Minute":"Minuten"}`:u<24?`vor ${u} ${u===1?"Stunde":"Stunden"}`:c<7?`vor ${c} ${c===1?"Tag":"Tagen"}`:ht(r)}catch{return"-"}},ee={xs:"0 1px 2px rgba(0, 0, 0, 0.05)",sm:"0 2px 8px rgba(0, 0, 0, 0.06)",md:"0 4px 12px rgba(0, 0, 0, 0.08)",lg:"0 10px 25px rgba(0, 0, 0, 0.12)",xl:"0 20px 40px rgba(0, 0, 0, 0.15)",none:"none"},pt=(r,e="md")=>{const t={sm:"33",md:"4d",lg:"66"};return`0 4px ${{sm:"8px",md:"12px",lg:"16px"}[e]} ${r}${t[e]}`},L={sm:"8px",md:"10px",lg:"12px",xl:"16px","2xl":"20px",full:"9999px",none:"0"},jt={sm:640,md:768,lg:900,xl:1024,"2xl":1280},H={"2xs":"11px",xs:"12px",sm:"13px",base:"14px",md:"15px",lg:"16px",xl:"18px","2xl":"20px","3xl":"22px","4xl":"24px","5xl":"28px"},te={normal:400,medium:500,semibold:600,bold:700},A={1:"4px",1.5:"6px",2:"8px",2.5:"10px",3:"12px",3.5:"14px",4:"16px",5:"20px",6:"24px",7:"28px",8:"32px",10:"40px",12:"48px",15:"60px",16:"64px"},Ot={fast:"0.1s ease",normal:"0.2s ease",slow:"0.3s ease",slower:"0.4s ease"},Lt={base:0,raised:10,sticky:20,dropdown:30,modal:40,overlay:50,tooltip:60,toast:70},qt={xs:12,sm:16,md:18,lg:20,xl:22,"2xl":24,"3xl":32,"4xl":48},Gt={card:{borderRadius:L.xl,padding:A[6],shadow:ee.md},cardSm:{borderRadius:L.lg,padding:A[4],shadow:ee.sm},dialog:{borderRadius:L.xl,padding:A[6],shadow:ee.xl},button:{borderRadius:L.lg,paddingX:A[6],paddingY:A[3],fontSize:H.base,fontWeight:te.semibold},buttonSm:{borderRadius:L.md,paddingX:A[4],paddingY:A[2],fontSize:H.sm,fontWeight:te.medium},input:{borderRadius:L.md,padding:A[3],fontSize:H.base},badge:{borderRadius:L.full,paddingX:A[3],paddingY:A[1.5],fontSize:H.xs,fontWeight:te.medium}},je={smartbriefing:{id:"smartbriefing",title:"Smart Briefings",subtitle:"Intelligente Wissenspakete",icon:"ğŸ“‹",color:h.purple[500],gradient:O(h.purple[500],h.purple[400]),description:"Smart Briefings generiert mithilfe von KI personalisierte Wissenspakete fÃ¼r bevorstehende berufliche GesprÃ¤che. Basierend auf Ihren Eingaben erstellt das System ein strukturiertes Briefing mit relevanten Informationen, Formulierungshilfen und strategischen Tipps.",benefits:[{icon:"â±ï¸",text:"Zeitersparnis: In Sekunden statt Stunden vorbereitet"},{icon:"ğŸ“Š",text:"Strukturierte Vorbereitung in logischen Abschnitten"},{icon:"âœï¸",text:"Interaktives Workbook mit persÃ¶nlichen Notizen"},{icon:"ğŸ’¾",text:"Jederzeit abrufbar fÃ¼r die Wiederholung"}],learningGoals:["Fundiertes Wissen Ã¼ber Zielunternehmen aufbauen","Typische Fragen und Antwortstrategien kennenlernen","Selbstvertrauen durch grÃ¼ndliche Vorbereitung gewinnen","Eigene StÃ¤rken strukturiert aufbereiten"],duration:"~10 Sekunden Generierung",idealFor:"Vor jedem wichtigen GesprÃ¤ch"},simulator:{id:"simulator",title:"Szenario-Training",subtitle:"Strukturiertes Lernen mit Sofort-Feedback",icon:"ğŸ¯",color:h.green[500],gradient:O(h.green[500],h.teal[400]),description:"Das Szenario-Training ist ein gefÃ¼hrtes Frage-Antwort-Format, bei dem Sie vordefinierte Interview-Fragen beantworten und nach jeder einzelnen Antwort sofortiges, detailliertes Feedback erhalten. Dies ermÃ¶glicht gezieltes Lernen in Ihrem eigenen Tempo.",benefits:[{icon:"âš¡",text:"Sofortiges Feedback direkt nach jeder Antwort"},{icon:"ğŸ”„",text:"WiederholungsmÃ¶glichkeit bis die Antwort sitzt"},{icon:"ğŸ’¡",text:"Konkrete VerbesserungsvorschlÃ¤ge"},{icon:"ğŸ“ˆ",text:"Fortschrittsverfolgung Ã¼ber alle Fragen"}],learningGoals:["Klassische Interview-Fragen souverÃ¤n beantworten","Die STAR-Methode verinnerlichen","Eigene Erfahrungen Ã¼berzeugend prÃ¤sentieren","SchwÃ¤chen identifizieren und gezielt verbessern"],duration:"~15-30 Minuten",idealFor:"AnfÃ¤nger und systematische Lerner"},roleplay:{id:"roleplay",title:"Live-Simulation",subtitle:"Realistische Echtzeit-GesprÃ¤che",icon:"ğŸ™ï¸",color:h.amber[500],gradient:O(h.amber[500],h.amber[400]),description:"Die Live-Simulation ermÃ¶glicht echte, bidirektionale SprachgesprÃ¤che mit einem KI-gesteuerten Interviewer. Sie sprechen Ã¼ber Ihr Mikrofon und erhalten in Echtzeit gesprochene Antworten und Nachfragen â€“ genau wie in einem echten VorstellungsgesprÃ¤ch.",benefits:[{icon:"ğŸ­",text:"Realistische Drucksituation mit spontanen Reaktionen"},{icon:"ğŸšï¸",text:"Verschiedene Interviewer-Stile wÃ¤hlbar"},{icon:"ğŸ“",text:"Echtzeit-Transkript fÃ¼r spÃ¤tere Analyse"},{icon:"ğŸ”Š",text:"Paraverbale Analyse von Tempo und TonalitÃ¤t"}],learningGoals:["Spontanes Reagieren auf unerwartete Fragen","Unter Zeitdruck strukturiert antworten","NervositÃ¤t in GesprÃ¤chssituationen reduzieren","Eigene Sprechgewohnheiten erkennen"],duration:"~10-15 Minuten",idealFor:"Fortgeschrittene, die unter Druck Ã¼ben wollen"},videotraining:{id:"videotraining",title:"Wirkungs-Analyse",subtitle:"Video-Training mit KÃ¶rpersprache-Feedback",icon:"ğŸ¬",color:h.red[400],gradient:O(h.red[400],h.red[300]),description:"Die Wirkungs-Analyse ist ein videobasiertes Training, bei dem Sie Ihre Antworten per Webcam aufnehmen. Die KI analysiert nicht nur das Gesprochene, sondern auch KÃ¶rpersprache, Mimik und Auftreten â€“ und gibt konkretes Feedback zur Gesamtwirkung.",benefits:[{icon:"ğŸ“¹",text:"Sichtbare Selbstwahrnehmung durch Video"},{icon:"ğŸ§˜",text:"Ganzheitliche Analyse von KÃ¶rpersprache"},{icon:"ğŸ‘ï¸",text:"Feedback zu Augenkontakt und Mimik"},{icon:"ğŸ’ª",text:"Verbesserung der GesamtprÃ¤senz"}],learningGoals:["Eigene KÃ¶rpersprache bewusst wahrnehmen","NervÃ¶se Ticks identifizieren und reduzieren","Selbstbewusstes Auftreten entwickeln","PrÃ¤senz vor der Kamera verbessern"],duration:"~15-30 Minuten",idealFor:"Wer an seiner PrÃ¤senz arbeiten will"},rhetorikgym:{id:"rhetorikgym",title:"Rhetorik-Gym",subtitle:"Spielerisches Sprechtraining",icon:"ğŸ‹ï¸",color:h.blue[500],gradient:O(h.blue[500],h.teal[500]),description:"Das Rhetorik-Gym ist ein gamifiziertes Kurzformat (60-90 Sekunden), das gezielt FÃ¼llwÃ¶rter reduziert und die SprechflÃ¼ssigkeit verbessert. Mit Punktesystem, Highscores und schnellem Feedback macht es SpaÃŸ, die eigene Redegewandtheit zu trainieren.",benefits:[{icon:"âš¡",text:"Kurze, intensive Ãœbungen fÃ¼r zwischendurch"},{icon:"ğŸ®",text:"Motivierendes Punktesystem mit Highscores"},{icon:"ğŸ”¢",text:"FÃ¼llwort-ZÃ¤hler macht Unbewusstes sichtbar"},{icon:"â±ï¸",text:"Tempo-Feedback fÃ¼r optimales Sprechen"}],learningGoals:["FÃ¼llwÃ¶rter drastisch reduzieren","FlÃ¼ssiger und selbstsicherer sprechen","Optimales Sprechtempo finden","Spontan zu beliebigen Themen sprechen"],duration:"60-90 Sekunden",idealFor:"Alle, regelmÃ¤ÃŸig zwischendurch"},ikigai:{id:"ikigai",title:"Ikigai-Kompass",subtitle:"Finde deine berufliche Bestimmung",icon:"ğŸ§­",color:h.purple[500],gradient:O(h.purple[500],h.purple[400]),description:"Der Ikigai-Kompass hilft Ihnen, den Schnittpunkt Ihrer Talente, Leidenschaften und beruflichen MÃ¶glichkeiten zu finden. Durch gefÃ¼hrte Reflexionsfragen entdecken Sie, was Sie wirklich antreibt und wo Ihre StÃ¤rken liegen.",benefits:[{icon:"ğŸ’¡",text:"Klarheit Ã¼ber eigene StÃ¤rken und Werte"},{icon:"ğŸ¯",text:"Fokus auf das, was wirklich wichtig ist"},{icon:"ğŸ—ºï¸",text:"Orientierung fÃ¼r Karriereentscheidungen"},{icon:"âœ¨",text:"Motivation durch Sinnfindung"}],learningGoals:["Eigene StÃ¤rken und Talente identifizieren","Berufliche Leidenschaften erkennen","Werte und PrioritÃ¤ten klÃ¤ren","Karriereziele definieren"],duration:"~15-20 Minuten",idealFor:"Alle vor wichtigen Karriereentscheidungen"},decisionboard:{id:"decisionboard",title:"Entscheidungs-Board",subtitle:"Strukturierte Entscheidungsfindung",icon:"âš–ï¸",color:h.teal[500],gradient:O(h.teal[500],h.teal[400]),description:"Das Entscheidungs-Board unterstÃ¼tzt Sie bei komplexen Karriereentscheidungen. Durch strukturierte Bewertung von Pro- und Contra-Argumenten sowie gewichteten Kriterien gelangen Sie zu fundierten Entscheidungen.",benefits:[{icon:"ğŸ“Š",text:"Strukturierte Analyse aller Optionen"},{icon:"âš–ï¸",text:"Gewichtete Bewertungskriterien"},{icon:"ğŸ§ ",text:"Reduzierung von emotionalen Fehlentscheidungen"},{icon:"ğŸ“‹",text:"Dokumentation fÃ¼r spÃ¤tere Reflexion"}],learningGoals:["Entscheidungen systematisch analysieren","PrioritÃ¤ten setzen und gewichten","Emotionen und Fakten trennen","Selbstbewusst Entscheidungen treffen"],duration:"~10-15 Minuten",idealFor:"Bei wichtigen Karriereentscheidungen"}},bt=24,_="[FEATURE_INFO_MODAL]",ie="karriereheld_feature_info_session_shown",N=new Set,B=new Map,yt=r=>{try{return JSON.parse(sessionStorage.getItem(ie)||"{}")[r]===!0}catch{return!1}},wt=r=>{try{const e=JSON.parse(sessionStorage.getItem(ie)||"{}");e[r]=!0,sessionStorage.setItem(ie,JSON.stringify(e))}catch{}},xt=({featureId:r,isOpen:e,onClose:t,showOnMount:n=!1})=>{const[s,i]=d.useState(!1),[u,c]=d.useState(!1),x=d.useRef(!1),w=d.useRef(Math.random().toString(36).substr(2,9)),{isAuthenticated:y,demoCode:o}=Ie(),f=je[r];d.useEffect(()=>{const b=w.current,k=B.get(r);return console.log(`${_} ğŸ”µ MOUNT featureId="${r}" mountId=${b} showOnMount=${n} existingInstance=${k||"none"}`),B.set(r,b),()=>{console.log(`${_} ğŸ”´ UNMOUNT featureId="${r}" mountId=${b}`),B.get(r)===b&&B.delete(r),N.delete(r)}},[r,n]),d.useEffect(()=>{const b=Fe(r),k=yt(r),$=N.has(r);if(console.log(`${_} ğŸ”„ Auto-show effect for "${r}":`,{showOnMount:n,hasFeature:!!f,isDismissed:b,hasAutoShownRef:x.current,isSessionShown:k,isGloballyOpen:$,willShow:n&&f&&!b&&!x.current&&!k&&!$}),n&&f&&!b&&!x.current&&!k&&!$){console.log(`${_} âœ… Will auto-show "${r}" in 400ms`),x.current=!0,wt(r),N.add(r);let D=!0;const U=setTimeout(()=>{const q=N.has(r)&&u;console.log(`${_} ğŸ‰ Timer fired for "${r}": isMounted=${D}, alreadyOpen=${q}`),D&&!u?c(!0):D||(console.log(`${_} âš ï¸ Component unmounted before timer, skipping open`),N.delete(r))},400);return()=>{console.log(`${_} ğŸ§¹ Cleanup: clearing timer for "${r}"`),D=!1,clearTimeout(U)}}},[n,r,f,u]),d.useEffect(()=>{e!==void 0&&(c(e),e&&r&&i(Fe(r)))},[e,r]),d.useEffect(()=>{if(u)return document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}},[u]);const S=()=>{console.log(`${_} ğŸšª handleClose for "${r}"`),f&&mt(r,s,y,o),c(!1),N.delete(r),t?.()};if(!f)return r&&console.warn(`FeatureInfoModal: Unknown feature ID "${r}"`),null;if(!u)return null;const T=w.current,v=B.get(r);if(v&&v!==T)return console.log(`${_} â›” Blocking render - another instance (${v}) owns this modal`),null;N.has(r)||N.add(r);const I=a.jsx($e,{mode:"wait",children:a.jsx(re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:S,className:"fixed inset-0 w-full h-full backdrop-blur-lg z-[999999] flex items-center justify-center p-4 pt-[calc(16px+env(safe-area-inset-top,0px))] pb-[calc(16px+env(safe-area-inset-bottom,0px))] box-border",style:{backgroundColor:G(h.slate[900],.7),contain:"layout"},children:a.jsxs(re.div,{initial:{opacity:0,scale:.9,y:30},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:30},transition:{type:"spring",damping:25,stiffness:350},onClick:b=>b.stopPropagation(),className:"bg-white rounded-2xl max-w-[500px] w-full max-h-[min(calc(100vh-100px),700px)] overflow-hidden shadow-2xl border border-slate-200 flex flex-col",children:[a.jsxs("div",{className:"px-6 pt-6 pb-8 relative overflow-hidden flex-shrink-0",style:{background:f.gradient},children:[a.jsx("div",{className:"absolute -top-10 -right-10 w-[120px] h-[120px] rounded-full bg-white/10 pointer-events-none"}),a.jsx("div",{className:"absolute -bottom-5 left-1/4 w-[60px] h-[60px] rounded-full bg-white/[0.08] pointer-events-none"}),a.jsx("button",{onClick:S,className:"absolute top-3 right-3 w-11 h-11 rounded-full bg-white/25 border-none cursor-pointer flex items-center justify-center text-white transition-all z-10 hover:bg-white/40",children:a.jsx(ze,{size:bt,strokeWidth:2.5})}),a.jsxs("div",{className:"relative z-[1]",children:[a.jsx("div",{className:"text-[44px] mb-3 drop-shadow-md",children:f.icon}),a.jsx("h2",{className:"text-white text-2xl font-bold m-0 drop-shadow-sm",children:f.title}),a.jsx("p",{className:"text-white/90 text-sm mt-1 mb-0 font-medium",children:f.subtitle})]})]}),a.jsxs("div",{className:"p-5 px-6 flex-1 overflow-y-auto min-h-0 overflow-touch",children:[a.jsx("p",{className:"text-slate-600 text-sm leading-relaxed m-0 mb-5",children:f.description}),a.jsxs("div",{className:"mb-5",children:[a.jsxs("h3",{className:"text-slate-900 text-[11px] font-semibold uppercase tracking-wide m-0 mb-2.5 flex items-center gap-2",children:[a.jsx(Be,{size:14,style:{color:f.color}}),"Vorteile"]}),a.jsx("div",{className:"flex flex-col gap-2",children:f.benefits.map((b,k)=>a.jsxs("div",{className:"flex items-center gap-2.5 px-3 py-2.5 bg-slate-50 rounded-lg border border-slate-200",children:[a.jsx("span",{className:"text-lg flex-shrink-0",children:b.icon}),a.jsx("span",{className:"text-slate-700 text-[13px]",children:b.text})]},k))})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("h3",{className:"text-slate-900 text-[11px] font-semibold uppercase tracking-wide m-0 mb-2.5 flex items-center gap-2",children:[a.jsx(Ee,{size:14,style:{color:f.color}}),"Lernziele"]}),a.jsx("div",{className:"flex flex-col gap-2",children:f.learningGoals.map((b,k)=>a.jsxs("div",{className:"flex items-center gap-2.5 text-slate-600 text-[13px]",children:[a.jsx("div",{className:"w-5 h-5 rounded-full flex items-center justify-center flex-shrink-0",style:{backgroundColor:G(f.color,.15)},children:a.jsx(Me,{size:12,style:{color:f.color}})}),b]},k))})]}),a.jsxs("div",{className:"flex gap-2 flex-wrap",children:[a.jsxs("div",{className:"flex items-center gap-1.5 px-3.5 py-1.5 rounded-full text-xs font-medium",style:{backgroundColor:G(f.color,.1),color:f.color},children:[a.jsx(We,{size:14}),f.duration]}),a.jsxs("div",{className:"flex items-center gap-1.5 px-3.5 py-1.5 bg-slate-100 rounded-full text-slate-600 text-xs font-medium",children:[a.jsx(Ee,{size:14}),f.idealFor]})]})]}),a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-slate-200 gap-4 flex-wrap bg-white flex-shrink-0",children:[a.jsxs("label",{className:"flex items-center gap-2.5 cursor-pointer text-slate-500 text-[13px]",children:[a.jsx("input",{type:"checkbox",checked:s,onChange:b=>i(b.target.checked),className:"w-[18px] h-[18px] cursor-pointer",style:{accentColor:f.color}}),"Nicht mehr automatisch anzeigen"]}),a.jsxs("button",{onClick:S,className:"text-white border-none rounded-xl px-6 py-3 text-[15px] font-semibold cursor-pointer flex items-center gap-1.5 transition-all flex-shrink-0",style:{background:f.gradient,boxShadow:pt(f.color,"md")},children:["Los geht's",a.jsx(Je,{size:18})]})]})]},"modal-content")},"modal-backdrop")});return n?_e.createPortal(I,document.body):I},Rt=({featureId:r,size:e="md",variant:t="default",className:n="",style:s={}})=>{const[i,u]=d.useState(!1),[c,x]=d.useState(!1),[w,y]=d.useState(null),o=je[r];if(d.useEffect(()=>{y(document.body)},[]),!o)return console.warn(`FeatureInfoButton: Unknown feature ID "${r}"`),null;const f={sm:{button:44,icon:32},md:{button:52,icon:38},lg:{button:60,icon:44}},S=f[e]||f.md,T={default:{background:o.color,color:h.white,hoverBackground:G(o.color,.85)},subtle:{background:G(o.color,.2),color:o.color,hoverBackground:G(o.color,.35)},light:{background:"rgba(255, 255, 255, 0.3)",color:h.white,hoverBackground:"rgba(255, 255, 255, 0.5)"},dark:{background:h.slate[600],color:h.white,hoverBackground:h.slate[700]}},v=T[t]||T.default,I=k=>{k.stopPropagation(),k.preventDefault(),u(!0)},b=()=>{u(!1)};return a.jsxs(a.Fragment,{children:[a.jsx("button",{type:"button",onClick:I,onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),className:`${n} border-none cursor-pointer flex items-center justify-center transition-all flex-shrink-0 shadow-md rounded-full`,title:`Info Ã¼ber ${o.title}`,style:{width:`${S.button}px`,height:`${S.button}px`,backgroundColor:c?v.hoverBackground:v.background,color:v.color,transform:c?"scale(1.08)":"scale(1)",...s},children:a.jsx(Ke,{size:S.icon,strokeWidth:2})}),w&&i&&_e.createPortal(a.jsx(xt,{featureId:r,isOpen:i,onClose:b}),w)]})};export{jt as B,h as C,Y as D,Rt as F,qt as I,Et as P,vt as R,A as S,Pt as T,Lt as Z,Tt as a,At as b,Ct as c,_t as d,He as e,Ut as f,Ft as g,xt as h,It as i,Nt as j,Dt as k,O as l,pt as m,Gt as n,Ot as o,te as p,H as q,L as r,$t as s,ee as t,Ie as u,ae as w};
