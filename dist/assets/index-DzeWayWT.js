import{j as e,V as K,T as be,ar as at,R as lt,B as He,r as Re,o as dt,b as de,a as Ae,ao as ct,n as je,an as pt,Q as Be,I as re,l as xt,Y as se,p as Ue,q as Se,k as ut,X as ze,m as A,as as _e,O as he,$ as me,at as Me,i as Ve,h as ye,t as Le,x as Y,A as Xe,J as gt,w as Ze,v as Oe,M as Qe,ae as ft,e as Je,au as ve,ap as ht}from"./ui-vendor-DceLfMgS.js";import{a as n}from"./react-vendor-uDOJF2jQ.js";import{u as pe,g as ke,b as oe,D as Ie,C as b,e as fe}from"./formatting-aEs8dNBb.js";import{S as mt}from"./ScenarioDashboard-Cq4dSNso.js";import{D as yt}from"./DeviceSetupPage-BGOoE809.js";import{F as Ye}from"./fullscreen-loader-DJohQvYU.js";import{u as bt}from"./useBranding-ZLJ6DZNt.js";import{u as jt}from"./useMobile-YxjH166V.js";import{D as St}from"./DeviceSettingsDialog-CL2XwT58.js";import{A as $e}from"./MicrophoneTestDialog-DmfayFVX.js";import{P as vt}from"./progress-bar-CnudbMby.js";import"./ScenarioCard-B2BZruTz.js";import"./dialog-Dgsc9AjD.js";import"./utils-BEHD0UYf.js";import"./designTokens-DbcSlXo4.js";const kt={video:K,user:Re,briefcase:He,presentation:pt,mic:je,target:be,banknote:ct},wt={self_presentation:{label:"Selbstpräsentation",icon:Re,color:"#3A7FA7",bgColor:"#E8F4F8"},interview:{label:"Bewerbungsgespräch",icon:He,color:"#059669",bgColor:"#d1fae5"},pitch:{label:"Elevator Pitch",icon:lt,color:"#7c3aed",bgColor:"#ede9fe"},negotiation:{label:"Verhandlung",icon:at,color:"#d97706",bgColor:"#fef3c7"},custom:{label:"Training",icon:be,color:"#64748b",bgColor:"#f1f5f9"}},Ct=async()=>{const t=await fetch(`${ke()}/video-training/scenarios`,{headers:{"X-WP-Nonce":oe()}});if(!t.ok)throw new Error("Fehler beim Laden der Szenarien");const r=await t.json();if(r.success&&r.data?.scenarios)return r.data.scenarios;throw new Error("Ungültige Antwort vom Server")},It=t=>kt[t.icon]||K,zt=t=>[{text:`${t.question_count} Fragen`},{icon:de,text:`~${Math.round(t.total_time_limit/60)} Min.`}],Rt=t=>e.jsx("div",{style:{marginTop:"40px",padding:"20px",background:`linear-gradient(135deg, ${t}10 0%, ${t}05 100%)`,borderRadius:"12px",border:`1px solid ${t}20`},children:e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px"},children:[e.jsx(Ae,{size:20,color:t,style:{flexShrink:0,marginTop:"2px"}}),e.jsxs("div",{children:[e.jsx("h4",{style:{fontWeight:600,color:"#0f172a",marginBottom:"4px"},children:"Wie funktioniert das Video Training?"}),e.jsxs("p",{style:{fontSize:"14px",color:"#64748b",lineHeight:1.6,margin:0},children:["1. Wähle ein Szenario und konfiguriere dein Training",e.jsx("br",{}),"2. Beantworte die generierten Fragen per Video-Aufnahme",e.jsx("br",{}),"3. Die KI analysiert dein Video und gibt detailliertes Feedback zu Auftreten, Körpersprache und Kommunikation"]})]})]})}),Ne=({onSelectScenario:t,isAuthenticated:r,requireAuth:o,setPendingScenario:d,onNavigateToHistory:g})=>{const{branding:a}=pe(),c=a?.primaryAccent||a?.["--primary-accent"]||"#3A7FA7";return e.jsx(mt,{title:"Wirkungs-Analyse",subtitle:"Video-Feedback zu Auftreten und Kommunikation",headerIcon:K,fetchScenarios:Ct,moduleKey:"video_training",historyButtonLabel:"Meine Wirkungs-Analysen",onNavigateToHistory:g,onSelectScenario:t,renderCardMeta:zt,getIconForScenario:It,cardActionLabel:"Starten",cardActionIcon:dt,categoryField:"scenario_type",customCategoryConfig:wt,emptyStateIcon:K,emptyStateTitle:"Keine Szenarien verfügbar",searchPlaceholder:"Szenarien durchsuchen...",renderInfoBox:()=>Rt(c),isAuthenticated:r,requireAuth:o,setPendingScenario:d,loadingMessage:"Szenarien werden geladen..."})},At=({field:t,value:r,onChange:o,error:d,focusColor:g})=>{const a=g||"#4a9ec9",c={width:"100%",padding:"12px 16px",borderRadius:"12px",border:`2px solid ${d?b.red[500]:b.slate[200]}`,fontSize:"16px",color:b.slate[900],backgroundColor:"white",outline:"none",transition:"border-color 0.2s, box-shadow 0.2s"},l={borderColor:a,boxShadow:`0 0 0 3px ${a}1a`},u=h=>{Object.assign(h.target.style,l),setTimeout(()=>{const m=h.target;if(m){const k=m.closest("div");k&&k.scrollIntoView({behavior:"smooth",block:"center"})}},300)},s=h=>{h.target.style.borderColor=d?b.red[500]:b.slate[200],h.target.style.boxShadow="none"},f=()=>{switch(t.type){case"text":return e.jsx("input",{type:"text",value:r||"",onChange:h=>o(t.key,h.target.value),placeholder:t.placeholder||"",style:c,onFocus:u,onBlur:s});case"textarea":return e.jsx("textarea",{value:r||"",onChange:h=>o(t.key,h.target.value),placeholder:t.placeholder||"",rows:4,style:{...c,resize:"vertical",minHeight:"100px"},onFocus:u,onBlur:s});case"select":return e.jsxs("select",{value:r||t.default||"",onChange:h=>o(t.key,h.target.value),style:{...c,cursor:"pointer",appearance:"none",backgroundImage:`url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e")`,backgroundPosition:"right 12px center",backgroundRepeat:"no-repeat",backgroundSize:"20px",paddingRight:"44px"},onFocus:u,onBlur:s,children:[!t.default&&e.jsx("option",{value:"",children:"Bitte wählen..."}),t.options?.map(h=>e.jsx("option",{value:h.value,children:h.label},h.value))]});case"number":return e.jsx("input",{type:"number",value:r||"",onChange:h=>o(t.key,h.target.value),placeholder:t.placeholder||"",min:t.validation?.min,max:t.validation?.max,style:c,onFocus:u,onBlur:s});default:return e.jsx("input",{type:"text",value:r||"",onChange:h=>o(t.key,h.target.value),placeholder:t.placeholder||"",style:c,onFocus:u,onBlur:s})}};return e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsxs("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:600,color:b.slate[700]},children:[t.label,t.required&&e.jsx("span",{style:{color:b.red[500],marginLeft:"4px"},children:"*"})]}),f(),d&&e.jsxs("p",{style:{marginTop:"6px",fontSize:"13px",color:b.red[500],display:"flex",alignItems:"center",gap:"4px"},children:[e.jsx(se,{style:{width:"14px",height:"14px"}}),d]}),t.hint&&!d&&e.jsxs("p",{style:{marginTop:"6px",fontSize:"13px",color:b.slate[500],display:"flex",alignItems:"center",gap:"4px"},children:[e.jsx(re,{style:{width:"14px",height:"14px"}}),t.hint]})]})},Bt=({scenario:t,onBack:r,onNext:o})=>{const[d,g]=n.useState({}),[a,c]=n.useState({}),{branding:l}=pe(),u=l?.["--header-gradient"]||Ie["--header-gradient"],s=l?.["--button-gradient"]||u,f=l?.["--primary-accent"]||Ie["--primary-accent"],h=l?.["--primary-accent-light"]||Ie["--primary-accent-light"],m=n.useMemo(()=>{if(!t?.input_configuration)return[];try{return(Array.isArray(t.input_configuration)?t.input_configuration:[]).filter(x=>x.user_input!==!1)}catch(i){return console.error("Error parsing input_configuration:",i),[]}},[t?.input_configuration]);n.useEffect(()=>{const i={};m.forEach(x=>{x.default&&(i[x.key]=x.default)}),g(i)},[m]);const k=(i,x)=>{g(S=>({...S,[i]:x})),a[i]&&c(S=>{const z={...S};return delete z[i],z})},w=()=>{const i={};return m.forEach(x=>{const S=d[x.key];if(x.required&&(!S||typeof S=="string"&&S.trim()==="")){i[x.key]="Dieses Feld ist erforderlich";return}if(!(!S||typeof S=="string"&&S.trim()==="")&&x.validation){const{minLength:z,maxLength:C,min:_,max:B,pattern:O}=x.validation;z&&S.length<z&&(i[x.key]=`Mindestens ${z} Zeichen erforderlich`),C&&S.length>C&&(i[x.key]=`Maximal ${C} Zeichen erlaubt`),_!==void 0&&Number(S)<_&&(i[x.key]=`Mindestens ${_}`),B!==void 0&&Number(S)>B&&(i[x.key]=`Maximal ${B}`),O&&!new RegExp(O).test(S)&&(i[x.key]="Ungültiges Format")}}),c(i),Object.keys(i).length===0},E=i=>{i.preventDefault(),w()&&o(d)};return n.useEffect(()=>{m.length===0&&o({})},[m,o]),m.length===0?null:e.jsxs("div",{style:{padding:"24px",paddingBottom:"200px",maxWidth:"640px",margin:"0 auto"},children:[e.jsxs("div",{style:{marginBottom:"32px"},children:[e.jsxs("button",{onClick:r,style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"8px 12px",marginBottom:"16px",border:"none",background:"transparent",color:b.slate[600],fontSize:"14px",cursor:"pointer",borderRadius:"8px",transition:"background 0.2s"},onMouseEnter:i=>i.target.style.background=b.slate[100],onMouseLeave:i=>i.target.style.background="transparent",children:[e.jsx(Be,{style:{width:"18px",height:"18px"}}),"Zurück zur Übersicht"]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[e.jsx("div",{style:{width:"56px",height:"56px",borderRadius:"14px",background:u,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(K,{style:{width:"28px",height:"28px",color:"white"}})}),e.jsxs("div",{children:[e.jsx("h1",{style:{fontSize:"24px",fontWeight:700,color:b.slate[900],margin:0},children:t.title}),e.jsx("p",{style:{fontSize:"14px",color:b.slate[600],margin:"4px 0 0 0"},children:"Personalisiere dein Training"})]})]})]}),t.description&&e.jsx("div",{style:{padding:"16px 20px",borderRadius:"12px",backgroundColor:b.slate[100],marginBottom:"24px"},children:e.jsx("p",{style:{fontSize:"14px",color:b.slate[700],margin:0,lineHeight:1.6},children:t.description})}),e.jsxs("div",{style:{padding:"16px 20px",borderRadius:"12px",backgroundColor:h,marginBottom:"24px",display:"flex",alignItems:"flex-start",gap:"12px"},children:[e.jsx(re,{style:{width:"20px",height:"20px",color:f,flexShrink:0,marginTop:"2px"}}),e.jsxs("div",{children:[e.jsx("p",{style:{fontSize:"14px",fontWeight:600,color:b.slate[900],margin:"0 0 4px 0"},children:"So funktioniert es"}),e.jsxs("p",{style:{fontSize:"13px",color:b.slate[600],margin:0,lineHeight:1.5},children:["Die KI generiert ",t.question_count||5," personalisierte Fragen basierend auf deinen Angaben. Beantworte jede Frage vor der Kamera und erhalte anschließend detailliertes Feedback."]})]})]}),e.jsxs("form",{onSubmit:E,children:[m.map(i=>e.jsx(At,{field:i,value:d[i.key],onChange:k,error:a[i.key],focusColor:f},i.key)),e.jsxs("button",{type:"submit",style:{width:"100%",padding:"16px 24px",borderRadius:"14px",border:"none",background:s,color:"white",fontSize:"16px",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",transition:"transform 0.2s, box-shadow 0.2s",boxShadow:`0 4px 12px ${f}4d`,marginTop:"24px"},onMouseEnter:i=>{i.target.style.transform="translateY(-2px)",i.target.style.boxShadow=`0 6px 16px ${f}66`},onMouseLeave:i=>{i.target.style.transform="none",i.target.style.boxShadow=`0 4px 12px ${f}4d`},children:["Weiter",e.jsx(xt,{style:{width:"20px",height:"20px"}})]})]})]})},Pe={error:{bg:b.red[50],border:b.red[200],text:b.red[600],icon:se},warning:{bg:b.amber[50],border:b.amber[200],text:b.amber[600],icon:ut},success:{bg:b.green[50],border:b.green[200],text:b.green[600],icon:Se},info:{bg:b.blue[50],border:b.blue[200],text:b.blue[500],icon:re},loading:{bg:b.blue[50],border:b.blue[200],text:b.blue[500],icon:Ue}},Et=({variant:t="info",message:r,children:o,isToast:d=!1,onDismiss:g,className:a="",style:c={}})=>{const l=Pe[t]||Pe.info,u=l.icon,s=t==="loading",f={display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",borderRadius:"12px",backgroundColor:l.bg,border:`1px solid ${l.border}`,color:l.text,fontSize:"14px",fontWeight:500,...d&&{position:"fixed",bottom:"24px",left:"50%",transform:"translateX(-50%)",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",zIndex:1e3,maxWidth:"90%"},...c};return e.jsxs("div",{style:f,className:a,children:[e.jsx(u,{size:20,style:{flexShrink:0,...s&&{animation:"spin 1s linear infinite"}},className:s?"animate-spin":""}),e.jsx("span",{style:{flex:1},children:o||r}),g&&e.jsx("button",{onClick:g,style:{background:"none",border:"none",padding:"4px",cursor:"pointer",color:l.text,opacity:.7,display:"flex",alignItems:"center",justifyContent:"center"},"aria-label":"Schließen",children:e.jsx(ze,{size:16})})]})},Tt=({message:t,onDismiss:r,...o})=>e.jsx(Et,{variant:"error",message:t,isToast:!0,onDismiss:r,...o}),Dt=()=>{const[t,r]=n.useState(!1),[o,d]=n.useState(null),{demoCode:g}=pe(),a=n.useCallback(async(l,u,s)=>{d(null),r(!0);try{const f=await l();u(f)}catch(f){console.error("[useSessionStartup] Error:",f);const h=f.message||"Ein Fehler ist aufgetreten";d(h),r(!1),s?.(f)}},[]),c=n.useCallback(()=>{d(null)},[]);return{isSubmitting:t,submitError:o,demoCode:g,startSession:a,clearError:c}},Ft=({scenario:t,variables:r,onBack:o,onStart:d})=>{const{isSubmitting:g,submitError:a,demoCode:c,startSession:l,clearError:u}=Dt(),s=async({selectedMicrophoneId:f,selectedCameraId:h})=>{await l(async()=>{const m=ke(),k=await fetch(`${m}/video-training/sessions`,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":oe()},body:JSON.stringify({scenario_id:t.id,variables:r,demo_code:c||null})});if(!k.ok){const z=await k.json().catch(()=>({}));throw new Error(z.message||"Fehler beim Erstellen der Session")}const w=await k.json(),E=w.data?.session||w.session;if(!E)throw new Error("Keine Session-ID erhalten");const i=await fetch(`${m}/video-training/sessions/${E.id}/questions`,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":oe()},body:JSON.stringify({variables:r})});if(!i.ok){const z=await i.json().catch(()=>({}));throw new Error(z.message||"Fehler beim Generieren der Fragen")}const x=await i.json(),S=x.data?.questions||x.questions||[];return{session:{...E,questions:S},questions:S,scenario:t,variables:r,selectedMicrophoneId:f,selectedCameraId:h}},d)};return e.jsxs(e.Fragment,{children:[e.jsx(yt,{mode:"audio-video",scenario:t,onBack:o,onStart:s,title:t?.title,startButtonLabel:"Video-Training starten",icon:K}),a&&e.jsx(Tt,{message:a,onDismiss:u}),e.jsx(Ye,{isLoading:g,message:"Fragen werden generiert...",subMessage:"Die KI erstellt personalisierte Fragen basierend auf deinen Angaben."})]})},qe=({tips:t,primaryAccent:r})=>{const[o,d]=n.useState(!1);return!t||t.length===0?null:e.jsxs("div",{style:{marginTop:"16px",background:`linear-gradient(135deg, ${r}08 0%, ${r}04 100%)`,borderRadius:"12px",border:`1px solid ${r}15`,overflow:"hidden"},children:[e.jsxs("button",{onClick:()=>d(!o),style:{width:"100%",padding:"14px 16px",background:"none",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"14px",fontWeight:600,color:"#0f172a"},children:[e.jsx(Y,{size:18,color:r}),"Tipps für diese Frage"]}),e.jsx(ye,{size:18,color:"#64748b",style:{transform:o?"rotate(90deg)":"none",transition:"transform 0.2s"}})]}),e.jsx(Xe,{children:o&&e.jsx(A.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},style:{overflow:"hidden"},children:e.jsx("div",{style:{padding:"0 16px 16px"},children:e.jsx("ul",{style:{margin:0,paddingLeft:"20px"},children:t.map((g,a)=>e.jsx("li",{style:{fontSize:"14px",color:"#64748b",marginBottom:"8px",lineHeight:1.5},children:g},a))})})})})]})},Wt=({session:t,questions:r,scenario:o,variables:d,onComplete:g,onExit:a,selectedMicrophoneId:c,selectedCameraId:l})=>{const[u,s]=n.useState(0),[f,h]=n.useState(!1),[m,k]=n.useState(!1),[w,E]=n.useState(0),[i,x]=n.useState([]),[S,z]=n.useState([]),[C,_]=n.useState(null),[B,O]=n.useState(null),[$,N]=n.useState(!1),[U,X]=n.useState(!1),[Z,G]=n.useState(null),[Q,ae]=n.useState(c||null),[ee,R]=n.useState(l||null),[M,J]=n.useState(!1),[xe,ue]=n.useState(0),H=jt(),te=n.useRef(null),p=n.useRef(null),y=n.useRef(null),v=n.useRef(null),V=n.useRef(null),W=n.useRef(null),T=bt(),{primaryAccent:D,headerGradient:Ee}=T,P=r[u];n.useEffect(()=>(le(),()=>{we(),y.current&&clearInterval(y.current),W.current&&cancelAnimationFrame(W.current),v.current&&v.current.close()}),[]);const et=j=>{try{v.current&&v.current.close();const L=new(window.AudioContext||window.webkitAudioContext);v.current=L;const I=L.createAnalyser();I.fftSize=256,I.smoothingTimeConstant=.8,V.current=I,L.createMediaStreamSource(j).connect(I);const ne=new Uint8Array(I.frequencyBinCount),ie=()=>{if(!V.current)return;V.current.getByteFrequencyData(ne);const Ce=ne.reduce((ot,st)=>ot+st,0)/ne.length;ue(Ce/255),W.current=requestAnimationFrame(ie)};ie()}catch(L){console.error("[VIDEO TRAINING] Audio analysis error:",L)}},tt=()=>{W.current&&(cancelAnimationFrame(W.current),W.current=null),ue(0)},le=async(j=Q,L=ee)=>{try{O(null),C&&C.getTracks().forEach(ie=>ie.stop());const I=L?{deviceId:{exact:L},width:{ideal:1280},height:{ideal:720}}:{width:{ideal:1280},height:{ideal:720},facingMode:"user"},q=j?{deviceId:{exact:j}}:!0,ne=await navigator.mediaDevices.getUserMedia({video:I,audio:q});_(ne),te.current&&(te.current.srcObject=ne)}catch(I){console.error("[VIDEO TRAINING] Camera error:",I),O("Kamera konnte nicht gestartet werden. Bitte erlaube den Zugriff auf Kamera und Mikrofon.")}},nt=j=>{ae(j),f||le(j,ee)},it=j=>{R(j),f||le(Q,j)},we=()=>{C&&(C.getTracks().forEach(j=>j.stop()),_(null))},Te=()=>{if(!C){le();return}try{const j=new MediaRecorder(C,{mimeType:"video/webm;codecs=vp9,opus"});p.current=j;const L=[];j.ondataavailable=I=>{I.data.size>0&&(L.push(I.data),x(q=>[...q,I.data]))},j.onstop=()=>{},j.start(1e3),h(!0),k(!1),et(C),z(I=>[...I,{question_index:u,start_time:w}]),y.current=setInterval(()=>{E(I=>I+1)},1e3)}catch(j){console.error("[VIDEO TRAINING] Recording error:",j),G("Fehler beim Starten der Aufnahme")}},ge=()=>{p.current&&f&&(p.current.stop(),h(!1),tt(),y.current&&(clearInterval(y.current),y.current=null))},De=()=>{u<r.length-1&&(f&&z(j=>[...j,{question_index:u+1,start_time:w}]),s(j=>j+1))},Fe=()=>{u>0&&s(j=>j-1)},We=async()=>{ge(),we(),N(!0),G(null);try{const j=new Blob(i,{type:"video/webm"}),L=ke(),I=new FormData;I.append("video",j,`video_${t.id}.webm`),I.append("video_duration",w.toString()),I.append("timeline",JSON.stringify(S));const q=await fetch(`${L}/video-training/sessions/${t.id}/video`,{method:"POST",headers:{"X-WP-Nonce":oe()},body:I});if(!q.ok){const Ce=await q.text();throw console.error("[VIDEO TRAINING] Upload failed:",q.status,Ce),q.status===413?new Error("Das Video ist zu groß zum Hochladen. Bitte versuche eine kürzere Aufnahme."):new Error("Fehler beim Hochladen des Videos. Status: "+q.status)}const ne=await q.json();N(!1),X(!0);const ie=await fetch(`${L}/video-training/sessions/${t.id}/analyze`,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":oe()}});if(!ie.ok)throw new Error("Fehler bei der Video-Analyse");const ce=await ie.json();g({session:ce.data?.session||t,analysis:ce.data?.analysis,categoryScores:ce.data?.category_scores,overallScore:ce.data?.overall_score})}catch(j){console.error("[VIDEO TRAINING] Upload/Analysis error:",j),G(j.message),N(!1),X(!1)}},rt=()=>{ge(),we(),a()};return $||U?e.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999,background:"linear-gradient(135deg, #f8fafc 0%, #eff6ff 50%, #f0fdfa 100%)",display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:[e.jsxs(A.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},style:{background:"#fff",borderRadius:"20px",padding:"48px",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.1)",maxWidth:"500px",width:"100%",textAlign:"center"},children:[e.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:`${D}15`,display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 24px"},children:e.jsx(Ue,{size:40,color:D,style:{animation:"spin 1s linear infinite"}})}),e.jsx("h2",{style:{fontSize:"22px",fontWeight:700,color:"#0f172a",marginBottom:"12px"},children:$?"Video wird hochgeladen...":"KI analysiert dein Video..."}),e.jsx("p",{style:{color:"#64748b",fontSize:"15px",lineHeight:1.6},children:$?"Dein Video wird sicher übertragen. Dies kann je nach Dateigröße einen Moment dauern.":"Die KI analysiert dein Auftreten, deine Körpersprache und Kommunikation. Das dauert etwa 30-60 Sekunden."})]}),e.jsx("style",{children:"@keyframes spin { to { transform: rotate(360deg); } }"})]}):e.jsxs("div",{style:{padding:H?"16px":"24px",maxWidth:"1000px",margin:"0 auto"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:H?"column":"row",justifyContent:"space-between",alignItems:H?"stretch":"center",gap:H?"12px":"0",marginBottom:"24px"},children:[e.jsx("h1",{style:{fontSize:H?"18px":"20px",fontWeight:600,color:"#0f172a",margin:0},children:o?.title}),e.jsx("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:e.jsxs("button",{onClick:rt,style:{padding:H?"10px 14px":"8px 16px",borderRadius:"8px",background:"#f1f5f9",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",color:"#64748b",fontSize:"14px"},children:[e.jsx(ze,{size:16}),"Abbrechen"]})})]}),e.jsx(vt,{current:u,total:r.length,primaryAccent:D,b:T,showCompleted:!1}),H?e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[e.jsxs("div",{style:{background:"#fff",borderRadius:"16px",padding:"16px",border:"1px solid #e2e8f0"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px"},children:[e.jsx("div",{style:{width:"26px",height:"26px",borderRadius:"50%",background:Ee,display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:"12px",fontWeight:600,flexShrink:0},children:u+1}),e.jsx("span",{style:{fontSize:"13px",color:"#64748b"},children:P?.category||"Frage"})]}),e.jsx("p",{style:{fontSize:"15px",fontWeight:600,color:"#0f172a",lineHeight:1.5,margin:0},children:P?.question||"Frage wird geladen..."}),P?.estimated_time&&e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",color:"#64748b",fontSize:"13px",marginTop:"12px"},children:[e.jsx(de,{size:14}),"Empfohlene Antwortzeit: ~",Math.round(P.estimated_time/60)," Min."]}),o?.enable_tips&&P?.tips&&e.jsx(qe,{tips:P.tips,primaryAccent:D})]}),e.jsxs("div",{children:[e.jsxs("div",{style:{position:"relative",background:"#000",borderRadius:"16px",overflow:"hidden",aspectRatio:"16/9"},children:[B?e.jsxs("div",{style:{position:"absolute",inset:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"#fff",padding:"16px",textAlign:"center"},children:[e.jsx(_e,{size:40,style:{marginBottom:"12px",opacity:.6}}),e.jsx("p",{style:{marginBottom:"12px",fontSize:"14px"},children:B}),e.jsxs("button",{onClick:le,style:{padding:"10px 16px",borderRadius:"8px",background:D,color:"#fff",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontSize:"14px"},children:[e.jsx(he,{size:16}),"Erneut versuchen"]})]}):e.jsx("video",{ref:te,autoPlay:!0,muted:!0,playsInline:!0,style:{width:"100%",height:"100%",objectFit:"cover",transform:"scaleX(-1)"}}),f&&e.jsxs("div",{style:{position:"absolute",top:"12px",left:"12px",display:"flex",alignItems:"center",gap:"6px",background:"rgba(0, 0, 0, 0.6)",padding:"6px 12px",borderRadius:"6px"},children:[e.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#ef4444",animation:"pulse 1.5s infinite"}}),e.jsx("span",{style:{color:"#fff",fontSize:"13px",fontWeight:500},children:fe(w)})]}),!f&&w>0&&e.jsxs("div",{style:{position:"absolute",top:"12px",left:"12px",display:"flex",alignItems:"center",gap:"6px",background:"rgba(0, 0, 0, 0.6)",padding:"6px 12px",borderRadius:"6px"},children:[e.jsx(de,{size:14,color:"#fff"}),e.jsx("span",{style:{color:"#fff",fontSize:"13px"},children:fe(w)})]})]}),f&&e.jsx("div",{style:{marginTop:"16px"},children:e.jsx($e,{audioLevel:xe,isActive:!0,variant:"bars",size:"sm",accentColor:D})}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px",marginTop:"16px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"10px"},children:[e.jsx("button",{onClick:()=>J(!0),style:{padding:"14px",borderRadius:"12px",background:"#f1f5f9",border:"1px solid #e2e8f0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(me,{size:20,color:"#64748b"})}),f?e.jsxs("button",{onClick:ge,style:{padding:"14px 24px",borderRadius:"12px",background:"#f1f5f9",color:"#0f172a",border:"none",cursor:"pointer",fontSize:"15px",fontWeight:600,display:"flex",alignItems:"center",gap:"10px",flex:1,justifyContent:"center"},children:[e.jsx(Me,{size:20,color:"#ef4444"}),"Aufnahme pausieren"]}):e.jsxs("button",{onClick:Te,disabled:!C,style:{padding:"14px 24px",borderRadius:"12px",background:C?"#ef4444":"#94a3b8",color:"#fff",border:"none",cursor:C?"pointer":"not-allowed",fontSize:"15px",fontWeight:600,display:"flex",alignItems:"center",gap:"10px",flex:1,justifyContent:"center",boxShadow:C?"0 4px 14px rgba(239, 68, 68, 0.4)":"none"},children:[e.jsx(K,{size:20}),"Aufnahme starten"]})]}),e.jsxs("div",{style:{display:"flex",gap:"8px"},children:[o?.enable_navigation&&u>0&&e.jsxs("button",{onClick:Fe,style:{padding:"10px 14px",borderRadius:"8px",background:"#fff",border:"1px solid #e2e8f0",cursor:"pointer",color:"#0f172a",display:"flex",alignItems:"center",justifyContent:"center",gap:"4px",fontSize:"13px",flex:1},children:[e.jsx(Ve,{size:16}),"Zurück"]}),o?.enable_navigation&&u<r.length-1&&e.jsxs("button",{onClick:De,style:{padding:"10px 14px",borderRadius:"8px",background:D,border:"none",cursor:"pointer",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",gap:"4px",fontSize:"13px",fontWeight:500,flex:1},children:["Nächste",e.jsx(ye,{size:16})]}),e.jsxs("button",{onClick:We,disabled:i.length===0,style:{padding:"10px 14px",borderRadius:"8px",background:i.length===0?"#94a3b8":"#22c55e",border:"none",cursor:i.length===0?"not-allowed":"pointer",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",gap:"4px",fontSize:"13px",fontWeight:600,flex:1,boxShadow:i.length>0?"0 4px 14px rgba(34, 197, 94, 0.3)":"none"},children:[e.jsx(Le,{size:16}),"Abschließen"]})]})]})]})]}):e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[e.jsxs("div",{children:[e.jsxs("div",{style:{position:"relative",background:"#000",borderRadius:"16px",overflow:"hidden",aspectRatio:"16/9"},children:[B?e.jsxs("div",{style:{position:"absolute",inset:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"#fff",padding:"20px",textAlign:"center"},children:[e.jsx(_e,{size:48,style:{marginBottom:"16px",opacity:.6}}),e.jsx("p",{style:{marginBottom:"16px"},children:B}),e.jsxs("button",{onClick:le,style:{padding:"10px 20px",borderRadius:"8px",background:D,color:"#fff",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(he,{size:16}),"Erneut versuchen"]})]}):e.jsx("video",{ref:te,autoPlay:!0,muted:!0,playsInline:!0,style:{width:"100%",height:"100%",objectFit:"cover",transform:"scaleX(-1)"}}),f&&e.jsxs("div",{style:{position:"absolute",top:"16px",left:"16px",display:"flex",alignItems:"center",gap:"8px",background:"rgba(0, 0, 0, 0.6)",padding:"8px 14px",borderRadius:"8px"},children:[e.jsx("div",{style:{width:"10px",height:"10px",borderRadius:"50%",background:"#ef4444",animation:"pulse 1.5s infinite"}}),e.jsx("span",{style:{color:"#fff",fontSize:"14px",fontWeight:500},children:fe(w)})]}),!f&&w>0&&e.jsxs("div",{style:{position:"absolute",top:"16px",left:"16px",display:"flex",alignItems:"center",gap:"8px",background:"rgba(0, 0, 0, 0.6)",padding:"8px 14px",borderRadius:"8px"},children:[e.jsx(de,{size:16,color:"#fff"}),e.jsx("span",{style:{color:"#fff",fontSize:"14px"},children:fe(w)})]})]}),f&&e.jsx("div",{style:{marginTop:"20px"},children:e.jsx($e,{audioLevel:xe,isActive:!0,variant:"bars",size:"sm",accentColor:D})}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px",marginTop:"20px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"12px"},children:[e.jsx("button",{onClick:()=>J(!0),style:{padding:"14px",borderRadius:"12px",background:"#f1f5f9",border:"1px solid #e2e8f0",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(me,{size:20,color:"#64748b"})}),f?e.jsxs("button",{onClick:ge,style:{padding:"14px 28px",borderRadius:"12px",background:"#f1f5f9",color:"#0f172a",border:"none",cursor:"pointer",fontSize:"16px",fontWeight:600,display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx(Me,{size:20,color:"#ef4444"}),"Aufnahme pausieren"]}):e.jsxs("button",{onClick:Te,disabled:!C,style:{padding:"14px 28px",borderRadius:"12px",background:C?"#ef4444":"#94a3b8",color:"#fff",border:"none",cursor:C?"pointer":"not-allowed",fontSize:"16px",fontWeight:600,display:"flex",alignItems:"center",gap:"10px",boxShadow:C?"0 4px 14px rgba(239, 68, 68, 0.4)":"none"},children:[e.jsx(K,{size:20}),"Aufnahme starten"]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"12px",flexWrap:"wrap"},children:[o?.enable_navigation&&u>0&&e.jsxs("button",{onClick:Fe,style:{padding:"10px 16px",borderRadius:"8px",background:"#fff",border:"1px solid #e2e8f0",cursor:"pointer",color:"#0f172a",display:"flex",alignItems:"center",gap:"6px",fontSize:"14px"},children:[e.jsx(Ve,{size:18}),"Vorherige"]}),o?.enable_navigation&&u<r.length-1&&e.jsxs("button",{onClick:De,style:{padding:"10px 16px",borderRadius:"8px",background:D,border:"none",cursor:"pointer",color:"#fff",display:"flex",alignItems:"center",gap:"6px",fontSize:"14px",fontWeight:500},children:["Nächste",e.jsx(ye,{size:18})]}),e.jsxs("button",{onClick:We,disabled:i.length===0,style:{padding:"10px 20px",borderRadius:"8px",background:i.length===0?"#94a3b8":"#22c55e",border:"none",cursor:i.length===0?"not-allowed":"pointer",color:"#fff",display:"flex",alignItems:"center",gap:"6px",fontSize:"14px",fontWeight:600,boxShadow:i.length>0?"0 4px 14px rgba(34, 197, 94, 0.3)":"none"},children:[e.jsx(Le,{size:18}),"Training abschließen"]})]})]})]}),e.jsxs("div",{style:{background:"#fff",borderRadius:"16px",padding:"24px",border:"1px solid #e2e8f0"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px"},children:[e.jsx("div",{style:{width:"28px",height:"28px",borderRadius:"50%",background:Ee,display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:"13px",fontWeight:600},children:u+1}),e.jsx("span",{style:{fontSize:"14px",color:"#64748b"},children:P?.category||"Frage"})]}),e.jsx("h2",{style:{fontSize:"18px",fontWeight:600,color:"#0f172a",lineHeight:1.5,marginBottom:"16px"},children:P?.question||"Frage wird geladen..."}),P?.estimated_time&&e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",color:"#64748b",fontSize:"14px",marginBottom:"16px"},children:[e.jsx(de,{size:16}),"Empfohlene Antwortzeit: ~",Math.round(P.estimated_time/60)," Min."]}),o?.enable_tips&&P?.tips&&e.jsx(qe,{tips:P.tips,primaryAccent:D})]})]}),Z&&e.jsxs(A.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},style:{marginTop:"24px",padding:"16px",background:"#fef2f2",borderRadius:"12px",border:"1px solid #fecaca",display:"flex",alignItems:"center",gap:"12px"},children:[e.jsx(se,{size:20,color:"#ef4444"}),e.jsx("p",{style:{color:"#dc2626",fontSize:"14px",flex:1},children:Z}),e.jsx("button",{onClick:()=>G(null),style:{background:"none",border:"none",cursor:"pointer",padding:"4px"},children:e.jsx(ze,{size:16,color:"#ef4444"})})]}),e.jsx("style",{children:`
          @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
          }
          @keyframes spin { to { transform: rotate(360deg); } }
        `}),e.jsx(St,{isOpen:M,onClose:()=>J(!1),mode:"audio-video",selectedMicrophoneId:Q,onMicrophoneChange:nt,selectedCameraId:ee,onCameraChange:it})]})},_t={auftreten:ft,selbstbewusstsein:Oe,koerpersprache:Re,kommunikation:Qe,professionalitaet:Oe,inhalt:Y},Mt=({score:t,size:r=120,strokeWidth:o=10,primaryAccent:d})=>{const g=(r-o)/2,a=g*2*Math.PI,c=a-t/100*a,l=()=>t>=80?"#22c55e":t>=60?d:t>=40?"#f59e0b":"#ef4444";return e.jsxs("div",{style:{position:"relative",width:r,height:r,margin:"0 auto"},children:[e.jsxs("svg",{width:r,height:r,style:{transform:"rotate(-90deg)"},children:[e.jsx("circle",{cx:r/2,cy:r/2,r:g,fill:"none",stroke:"#e2e8f0",strokeWidth:o}),e.jsx(A.circle,{cx:r/2,cy:r/2,r:g,fill:"none",stroke:l(),strokeWidth:o,strokeLinecap:"round",strokeDasharray:a,initial:{strokeDashoffset:a},animate:{strokeDashoffset:c},transition:{duration:1.2,ease:"easeOut"}})]}),e.jsxs("div",{style:{position:"absolute",inset:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[e.jsx("span",{style:{fontSize:r/3,fontWeight:700,color:l()},children:Math.round(t)}),e.jsx("span",{style:{fontSize:r/10,color:"#64748b"},children:"von 100"})]})]})},Vt=({category:t,primaryAccent:r})=>{const[o,d]=n.useState(!1),g=_t[t.category]||Ze,a=c=>c>=80?"#22c55e":c>=60?r:c>=40?"#f59e0b":"#ef4444";return e.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},style:{background:"#fff",borderRadius:"12px",border:"1px solid #e2e8f0",overflow:"hidden",marginBottom:"12px"},children:[e.jsxs("button",{onClick:()=>d(!o),style:{width:"100%",padding:"16px",background:"none",border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"12px"},children:[e.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",background:`${a(t.score)}15`,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(g,{size:20,color:a(t.score)})}),e.jsxs("div",{style:{flex:1,textAlign:"left",minWidth:0,overflow:"hidden"},children:[e.jsx("h4",{style:{fontSize:"15px",fontWeight:600,color:"#0f172a",marginBottom:"2px"},children:t.label}),e.jsxs("p",{style:{fontSize:"13px",color:"#64748b",margin:0,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[t.feedback?.substring(0,60),"..."]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e.jsx("span",{style:{fontSize:"20px",fontWeight:700,color:a(t.score)},children:Math.round(t.score)}),e.jsx(Je,{size:20,color:"#64748b",style:{transform:o?"rotate(180deg)":"none",transition:"transform 0.2s"}})]})]}),e.jsx(Xe,{children:o&&e.jsx(A.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},style:{overflow:"hidden"},children:e.jsxs("div",{style:{padding:"0 16px 16px",borderTop:"1px solid #e2e8f0",paddingTop:"16px"},children:[e.jsx("p",{style:{fontSize:"14px",color:"#64748b",lineHeight:1.6,marginBottom:"16px"},children:t.feedback}),t.strengths&&t.strengths.length>0&&e.jsxs("div",{style:{marginBottom:"12px"},children:[e.jsxs("h5",{style:{fontSize:"13px",fontWeight:600,color:"#22c55e",marginBottom:"8px",display:"flex",alignItems:"center",gap:"6px"},children:[e.jsx(Se,{size:14}),"Stärken"]}),e.jsx("ul",{style:{margin:0,paddingLeft:"20px"},children:t.strengths.map((c,l)=>e.jsx("li",{style:{fontSize:"13px",color:"#64748b",marginBottom:"4px"},children:c},l))})]}),t.improvements&&t.improvements.length>0&&e.jsxs("div",{children:[e.jsxs("h5",{style:{fontSize:"13px",fontWeight:600,color:"#f59e0b",marginBottom:"8px",display:"flex",alignItems:"center",gap:"6px"},children:[e.jsx(se,{size:14}),"Verbesserungspotenzial"]}),e.jsx("ul",{style:{margin:0,paddingLeft:"20px"},children:t.improvements.map((c,l)=>e.jsx("li",{style:{fontSize:"13px",color:"#64748b",marginBottom:"4px"},children:c},l))})]})]})})})]})},Lt=({session:t,scenario:r,onBackToDashboard:o,onStartNew:d})=>{const{branding:g}=pe(),a=g?.primaryAccent||"#3A7FA7",c=g?.headerGradient||"linear-gradient(135deg, #3A7FA7 0%, #2d6a8a 100%)",l=t?.overall_score||0,u=t?.category_scores||[],s=t?.analysis||{},f=t?.summary_feedback||"",h=m=>m>=90?"Ausgezeichnet!":m>=80?"Sehr gut!":m>=70?"Gut!":m>=60?"Solide Leistung":m>=50?"Ausbaufähig":"Weiter üben!";return e.jsxs("div",{style:{padding:"32px",maxWidth:"900px",margin:"0 auto"},children:[e.jsxs(A.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},style:{textAlign:"center",marginBottom:"40px"},children:[e.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:c,display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.15)"},children:e.jsx(gt,{size:40,color:"#fff"})}),e.jsx("h1",{style:{fontSize:"28px",fontWeight:700,color:"#0f172a",marginBottom:"8px"},children:"Training abgeschlossen!"}),e.jsxs("p",{style:{fontSize:"16px",color:"#64748b"},children:[r?.title," - Deine Auswertung ist bereit"]})]}),e.jsxs(A.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},style:{background:"#fff",borderRadius:"20px",padding:"32px",textAlign:"center",border:"1px solid #e2e8f0",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.05)",marginBottom:"24px"},children:[e.jsx(Mt,{score:l,size:160,primaryAccent:a}),e.jsx("h2",{style:{fontSize:"24px",fontWeight:700,color:"#0f172a",marginTop:"20px",marginBottom:"8px"},children:h(l)}),e.jsx("p",{style:{fontSize:"15px",color:"#64748b",maxWidth:"500px",margin:"0 auto",lineHeight:1.6},children:f||"Deine Video-Analyse wurde erfolgreich abgeschlossen."})]}),u.length>0&&e.jsxs(A.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},style:{marginBottom:"24px"},children:[e.jsxs("h3",{style:{fontSize:"18px",fontWeight:600,color:"#0f172a",marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(Ze,{size:20,color:a}),"Detaillierte Bewertung"]}),u.map((m,k)=>e.jsx(Vt,{category:m,primaryAccent:a},m.category||k))]}),s&&(s.key_strengths?.length>0||s.actionable_tips?.length>0)&&e.jsxs(A.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},style:{background:"#fff",borderRadius:"16px",padding:"24px",border:"1px solid #e2e8f0",marginBottom:"24px"},children:[s.key_strengths&&s.key_strengths.length>0&&e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsxs("h4",{style:{fontSize:"16px",fontWeight:600,color:"#22c55e",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(Se,{size:18}),"Deine Stärken"]}),e.jsx("ul",{style:{margin:0,paddingLeft:"24px"},children:s.key_strengths.map((m,k)=>e.jsx("li",{style:{fontSize:"14px",color:"#64748b",marginBottom:"8px",lineHeight:1.5},children:m},k))})]}),s.actionable_tips&&s.actionable_tips.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{style:{fontSize:"16px",fontWeight:600,color:a,marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(Y,{size:18}),"Tipps zur Verbesserung"]}),e.jsx("ul",{style:{margin:0,paddingLeft:"24px"},children:s.actionable_tips.map((m,k)=>e.jsx("li",{style:{fontSize:"14px",color:"#64748b",marginBottom:"8px",lineHeight:1.5},children:m},k))})]})]}),t?.video_url&&e.jsxs(A.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},style:{background:"#fff",borderRadius:"16px",padding:"24px",border:"1px solid #e2e8f0",marginBottom:"24px"},children:[e.jsxs("h4",{style:{fontSize:"16px",fontWeight:600,color:"#0f172a",marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(K,{size:18,color:a}),"Deine Aufnahme"]}),e.jsx("video",{src:t.video_url,controls:!0,style:{width:"100%",maxWidth:"640px",maxHeight:"360px",borderRadius:"12px",background:"#000",objectFit:"contain"}})]}),e.jsxs(A.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6},style:{display:"flex",gap:"16px",justifyContent:"center"},children:[e.jsxs("button",{onClick:o,style:{padding:"14px 28px",borderRadius:"12px",background:"#f1f5f9",color:"#0f172a",border:"none",cursor:"pointer",fontSize:"15px",fontWeight:500,display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(Be,{size:18}),"Zur Übersicht"]}),e.jsxs("button",{onClick:d,style:{padding:"14px 28px",borderRadius:"12px",background:c,color:"#fff",border:"none",cursor:"pointer",fontSize:"15px",fontWeight:600,display:"flex",alignItems:"center",gap:"8px",boxShadow:"0 4px 14px rgba(0, 0, 0, 0.15)"},children:[e.jsx(he,{size:18}),"Nochmal üben"]})]})]})},F={DASHBOARD:"dashboard",VARIABLES:"variables",DEVICE_SETUP:"device_setup",SESSION:"session",COMPLETE:"complete"},rn=({isAuthenticated:t,requireAuth:r,setPendingAction:o,pendingScenario:d,clearPendingScenario:g,onNavigateToHistory:a})=>{const[c,l]=n.useState(F.DASHBOARD),[u,s]=n.useState(null),[f,h]=n.useState(null),[m,k]=n.useState([]),[w,E]=n.useState({}),[i,x]=n.useState(null),[S,z]=n.useState(null),[C,_]=n.useState(null),[B,O]=n.useState(null);n.useEffect(()=>{d&&t&&(s(d),l(F.VARIABLES),g&&g())},[d,t,g]),n.useEffect(()=>{B&&t&&(s(B),l(F.VARIABLES),O(null))},[B,t]),n.useEffect(()=>{window.scrollTo(0,0)},[c]);const $=n.useCallback(R=>{s(R),l(F.VARIABLES)},[]),N=n.useCallback(()=>{s(null),h(null),k([]),E({}),x(null),z(null),_(null),l(F.DASHBOARD)},[]),U=n.useCallback(R=>{E(R),l(F.DEVICE_SETUP)},[]),X=n.useCallback(()=>{l(F.VARIABLES)},[]),Z=n.useCallback(R=>{h(R.session),k(R.questions),E(R.variables),z(R.selectedMicrophoneId),_(R.selectedCameraId),l(F.SESSION)},[]),G=n.useCallback(R=>{x(R.session),l(F.COMPLETE)},[]),Q=n.useCallback(()=>{N()},[N]),ae=n.useCallback(()=>{h(null),k([]),x(null),z(null),_(null),l(F.VARIABLES)},[]),ee=()=>{switch(c){case F.DASHBOARD:return e.jsx(Ne,{onSelectScenario:$,isAuthenticated:t,requireAuth:r,setPendingScenario:O,onNavigateToHistory:a});case F.VARIABLES:return e.jsx(Bt,{scenario:u,onBack:N,onNext:U});case F.DEVICE_SETUP:return e.jsx(Ft,{scenario:u,variables:w,onBack:X,onStart:Z});case F.SESSION:return e.jsx(Wt,{session:f,questions:m,scenario:u,variables:w,onComplete:G,onExit:Q,selectedMicrophoneId:S,selectedCameraId:C});case F.COMPLETE:return e.jsx(Lt,{session:i,scenario:u,onBackToDashboard:N,onStartNew:ae});default:return e.jsx(Ne,{onSelectScenario:$,isAuthenticated:t,requireAuth:r,setPendingScenario:O,onNavigateToHistory:a})}};return e.jsx("div",{style:{minHeight:"100%"},children:ee()})},Ke={target:be,clock:de,mic:je,camera:ve,video:K,"message-square":Qe,lightbulb:Y,brain:ht,info:re,settings:me,check:Se,sparkles:Ae},Ot=[{icon:ve,title:"Blick in die Kamera",description:"Schaue direkt in die Kamera, um Augenkontakt zu simulieren."},{icon:Y,title:"Gute Beleuchtung",description:"Achte auf ausreichend Licht von vorne, um professionell zu wirken."},{icon:je,title:"Klare Aussprache",description:"Sprich deutlich und in angemessenem Tempo."},{icon:be,title:"Strukturierte Antworten",description:"Nutze die STAR-Methode: Situation, Task, Action, Result."}],Ge=({type:t,devices:r,selectedDeviceId:o,onDeviceChange:d,isLoading:g,error:a,onRefresh:c,primaryAccent:l,themedGradient:u})=>{const[s,f]=n.useState(!1),h=t==="video"?ve:je,m=t==="video"?"Kamera":"Mikrofon",k=i=>{if(i.label){let x=i.label;return x=x.replace(/^Default - /,""),x=x.replace(/^Kommunikation - /,""),x=x.replace(/^Standard - /,""),x.length>35&&(x=x.substring(0,32)+"..."),x}return`${m} ${r.indexOf(i)+1}`},w=r.find(i=>i.deviceId===o),E=i=>{d?.(i),f(!1)};return e.jsxs("div",{style:{position:"relative"},children:[e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"12px"},children:[e.jsxs("button",{type:"button",onClick:()=>!g&&f(!s),disabled:g,style:{flex:"1 1 250px",minWidth:"200px",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"12px",padding:"12px 16px",borderRadius:"12px",border:`2px solid ${a?"#ef4444":"#e2e8f0"}`,backgroundColor:a?"#fef2f2":"#fff",cursor:g?"not-allowed":"pointer",opacity:g?.6:1,transition:"all 0.2s"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",background:a?"#fee2e2":u},children:a?e.jsx(se,{style:{width:"22px",height:"22px",color:"#ef4444"}}):e.jsx(h,{style:{width:"22px",height:"22px",color:"#fff"}})}),e.jsxs("div",{style:{textAlign:"left"},children:[e.jsx("div",{style:{fontSize:"12px",color:"#64748b",fontWeight:500,marginBottom:"2px"},children:m}),e.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:a?"#dc2626":"#1e293b"},children:g?"Lade...":a||(w?k(w):"Bitte wählen")})]})]}),e.jsx(Je,{style:{width:"20px",height:"20px",color:"#94a3b8",transform:s?"rotate(180deg)":"rotate(0)",transition:"transform 0.2s"}})]}),a&&c&&e.jsx("button",{type:"button",onClick:c,style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"12px 16px",borderRadius:"12px",border:"2px solid #e2e8f0",backgroundColor:"#fff",cursor:"pointer",transition:"all 0.2s"},children:e.jsx(he,{style:{width:"20px",height:"20px",color:"#475569"}})})]}),s&&r.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{onClick:()=>f(!1),style:{position:"fixed",inset:0,zIndex:40}}),e.jsx("div",{style:{position:"absolute",top:"calc(100% + 8px)",left:0,right:0,backgroundColor:"#fff",borderRadius:"12px",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.15)",border:"1px solid #e2e8f0",zIndex:50,overflow:"hidden",maxHeight:"280px",overflowY:"auto"},children:r.map((i,x)=>e.jsxs("button",{type:"button",onClick:()=>E(i.deviceId),style:{width:"100%",padding:"14px 16px",textAlign:"left",display:"flex",alignItems:"center",gap:"12px",border:"none",backgroundColor:o===i.deviceId?`${l}15`:"transparent",cursor:"pointer",transition:"background-color 0.15s"},onMouseEnter:S=>{o!==i.deviceId&&(S.currentTarget.style.backgroundColor="#f8fafc")},onMouseLeave:S=>{S.currentTarget.style.backgroundColor=o===i.deviceId?`${l}15`:"transparent"},children:[e.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:o===i.deviceId?l:"#f1f5f9"},children:e.jsx(h,{style:{width:"18px",height:"18px",color:o===i.deviceId?"#fff":"#64748b"}})}),e.jsxs("div",{style:{flex:1,minWidth:0},children:[e.jsx("div",{style:{fontSize:"14px",fontWeight:500,color:o===i.deviceId?l:"#1e293b",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:k(i)}),i.deviceId==="default"&&e.jsx("div",{style:{fontSize:"12px",color:"#94a3b8"},children:"Systemstandard"})]}),o===i.deviceId&&e.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:l}})]},i.deviceId||x))})]})]})},$t=({field:t,value:r,onChange:o,error:d,primaryAccent:g})=>{const a={width:"100%",padding:"12px 16px",borderRadius:"10px",border:`2px solid ${d?"#ef4444":"#e2e8f0"}`,fontSize:"16px",transition:"all 0.2s ease",outline:"none",background:"#fff"},c=s=>{s.target.style.borderColor=g,s.target.style.boxShadow=`0 0 0 3px ${g}20`},l=s=>{s.target.style.borderColor=d?"#ef4444":"#e2e8f0",s.target.style.boxShadow="none"},u=()=>{switch(t.type){case"select":return e.jsxs("select",{value:r||t.default||"",onChange:s=>o(t.key,s.target.value),style:{...a,cursor:"pointer"},onFocus:c,onBlur:l,required:t.required,children:[!t.default&&e.jsx("option",{value:"",children:"Bitte auswählen..."}),t.options?.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))]});case"textarea":return e.jsx("textarea",{value:r||"",onChange:s=>o(t.key,s.target.value),placeholder:t.placeholder,style:{...a,minHeight:"100px",resize:"vertical"},onFocus:c,onBlur:l,required:t.required});case"number":return e.jsx("input",{type:"number",value:r||"",onChange:s=>o(t.key,s.target.value),placeholder:t.placeholder,style:a,onFocus:c,onBlur:l,required:t.required,min:t.min,max:t.max});default:return e.jsx("input",{type:"text",value:r||"",onChange:s=>o(t.key,s.target.value),placeholder:t.placeholder,style:a,onFocus:c,onBlur:l,required:t.required})}};return e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsxs("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#0f172a",marginBottom:"8px"},children:[t.label,t.required&&e.jsx("span",{style:{color:"#ef4444",marginLeft:"4px"},children:"*"})]}),u(),t.hint&&e.jsx("p",{style:{fontSize:"13px",color:"#94a3b8",marginTop:"4px"},children:t.hint}),d&&e.jsxs("p",{style:{fontSize:"13px",color:"#ef4444",marginTop:"4px",display:"flex",alignItems:"center",gap:"4px"},children:[e.jsx(se,{size:14}),d]})]})},on=({scenario:t,onBack:r,onStart:o})=>{const[d,g]=n.useState(()=>{const p=t?.input_configuration||[],y={};return p.forEach(v=>{v.default&&(y[v.key]=v.default)}),y}),[a,c]=n.useState({}),[l,u]=n.useState(!1),[s,f]=n.useState(null),[h,m]=n.useState([]),[k,w]=n.useState([]),[E,i]=n.useState(null),[x,S]=n.useState(null),[z,C]=n.useState(!0),[_,B]=n.useState(null),[O,$]=n.useState(null),N=n.useRef(0),U=n.useRef(!1),X=n.useRef(!0),Z=n.useRef(0),G=n.useRef(null),Q=n.useRef(null),{branding:ae,demoCode:ee}=pe(),R=ae?.headerGradient||"linear-gradient(135deg, #3A7FA7 0%, #2d6a8a 100%)",M=ae?.primaryAccent||"#3A7FA7";G.current=E,Q.current=x;const J=n.useCallback(async(p=!1)=>{if(U.current){console.log("[VideoTraining] Skipping loadDevices - already loading");return}if(p){if(X.current){console.log("[VideoTraining] Skipping devicechange - ignore flag set");return}const y=Date.now()-N.current;if(y<5e3){console.log("[VideoTraining] Skipping devicechange - too soon:",y,"ms");return}if(Z.current+=1,Z.current>3){console.log("[VideoTraining] Skipping devicechange - too many events:",Z.current);return}}U.current=!0,N.current=Date.now(),C(!0),B(null),$(null);try{(await navigator.mediaDevices.getUserMedia({audio:!0,video:!0})).getTracks().forEach(T=>T.stop());const v=await navigator.mediaDevices.enumerateDevices(),V=v.filter(T=>T.kind==="audioinput"),W=v.filter(T=>T.kind==="videoinput");if(V.length===0)B("Kein Mikrofon gefunden"),m([]);else if(m(V),!G.current){const T=V.find(D=>D.deviceId==="default")||V[0];i(T.deviceId)}if(W.length===0)$("Keine Kamera gefunden"),w([]);else if(w(W),!Q.current){const T=W.find(D=>D.deviceId==="default")||W[0];S(T.deviceId)}}catch(y){console.error("Error loading devices:",y),y.name==="NotAllowedError"||y.name==="PermissionDeniedError"?(B("Zugriff verweigert"),$("Zugriff verweigert")):y.name==="NotFoundError"?(B("Kein Mikrofon gefunden"),$("Keine Kamera gefunden")):(B("Fehler beim Laden"),$("Fehler beim Laden")),m([]),w([])}finally{C(!1),U.current=!1,N.current=Date.now(),p||setTimeout(()=>{X.current=!1,console.log("[VideoTraining] Now accepting devicechange events")},5e3)}},[]);n.useEffect(()=>{J(!1);let p=null;const y=()=>{X.current||U.current||(p&&clearTimeout(p),p=setTimeout(()=>{J(!0)},1e3))};return navigator.mediaDevices?.addEventListener("devicechange",y),()=>{p&&clearTimeout(p),navigator.mediaDevices?.removeEventListener("devicechange",y)}},[]);const xe=n.useCallback((p,y)=>{g(v=>({...v,[p]:y})),a[p]&&c(v=>{const V={...v};return delete V[p],V})},[a]),ue=n.useCallback(()=>{const p={};return(t?.input_configuration||[]).forEach(v=>{v.required&&!d[v.key]&&(p[v.key]=`${v.label} ist erforderlich`)}),c(p),Object.keys(p).length===0},[t,d]),H=async()=>{if(ue()){u(!0),f(null);try{const p=ke(),y=await fetch(`${p}/video-training/sessions`,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":oe()},body:JSON.stringify({scenario_id:t.id,variables:d,demo_code:ee||null})});if(!y.ok)throw new Error("Fehler beim Erstellen der Sitzung");const v=await y.json();if(!v.success||!v.data?.session)throw new Error("Ungültige Antwort beim Erstellen der Sitzung");const V=v.data.session,W=await fetch(`${p}/video-training/sessions/${V.id}/questions`,{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":oe()}});if(!W.ok)throw new Error("Fehler beim Generieren der Fragen");const T=await W.json();if(!T.success||!T.data?.questions)throw new Error("Fehler beim Generieren der Fragen");o({session:T.data.session,questions:T.data.questions,variables:d,selectedMicrophoneId:E,selectedCameraId:x})}catch(p){console.error("[VIDEO TRAINING] Error starting session:",p),f(p.message)}finally{u(!1)}}},te=t?.input_configuration||[];return e.jsxs("div",{style:{padding:"32px",maxWidth:"700px",margin:"0 auto"},children:[e.jsxs("div",{style:{marginBottom:"32px"},children:[e.jsxs("button",{onClick:r,style:{display:"flex",alignItems:"center",gap:"8px",background:"none",border:"none",color:"#64748b",cursor:"pointer",fontSize:"14px",padding:"8px 0",marginBottom:"16px"},children:[e.jsx(Be,{size:18}),"Zurück zur Übersicht"]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[e.jsx("div",{style:{width:"56px",height:"56px",borderRadius:"14px",background:R,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(K,{size:28,color:"#fff"})}),e.jsxs("div",{children:[e.jsx("h1",{style:{fontSize:"24px",fontWeight:700,color:"#0f172a",marginBottom:"4px"},children:t?.title}),e.jsx("p",{style:{fontSize:"14px",color:"#64748b"},children:"Konfiguriere deine Wirkungs-Analyse"})]})]})]}),e.jsxs(A.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},style:{padding:"16px 20px",background:`linear-gradient(135deg, ${M}10 0%, ${M}05 100%)`,borderRadius:"12px",border:`1px solid ${M}20`,marginBottom:"32px",display:"flex",alignItems:"flex-start",gap:"12px"},children:[e.jsx(re,{size:20,color:M,style:{flexShrink:0,marginTop:"2px"}}),e.jsxs("div",{children:[e.jsx("h4",{style:{fontWeight:600,color:"#0f172a",marginBottom:"4px",fontSize:"14px"},children:"So funktioniert es"}),e.jsxs("p",{style:{fontSize:"13px",color:"#64748b",lineHeight:1.5},children:["Die KI generiert ",t?.question_count||5," personalisierte Fragen basierend auf deinen Angaben. Beantworte jede Frage vor der Kamera und erhalte anschließend detailliertes Feedback."]})]})]}),t?.long_description&&e.jsx(A.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.05},style:{padding:"20px 24px",borderRadius:"14px",backgroundColor:"white",border:"1px solid #e2e8f0",marginBottom:"24px"},children:e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"14px"},children:[e.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",background:R,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.jsx(re,{style:{width:"20px",height:"20px",color:"white"}})}),e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"15px",fontWeight:600,color:"#0f172a",margin:"0 0 8px 0"},children:"Deine Aufgabe"}),e.jsx("p",{style:{fontSize:"14px",lineHeight:"1.6",color:"#475569",margin:0,whiteSpace:"pre-wrap"},children:t.long_description?.replace(/\/n/g,`
`)})]})]})}),e.jsxs(A.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},style:{background:"#fff",borderRadius:"16px",padding:"24px",border:"1px solid #e2e8f0",marginBottom:"24px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"20px"},children:[e.jsx(Y,{size:20,color:M}),e.jsx("h2",{style:{fontSize:"18px",fontWeight:600,color:"#0f172a"},children:"Tipps für dein Video-Training"})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"16px"},children:(t?.tips&&Array.isArray(t.tips)&&t.tips.length>0?t.tips.map((p,y)=>typeof p=="string"?{icon:Y,title:`Tipp ${y+1}`,description:p}:{icon:Ke[p.icon]||Ke[p.icon?.toLowerCase()]||Y,title:p.title||`Tipp ${y+1}`,description:p.text||p.description||""}):Ot).map((p,y)=>{const v=p.icon;return e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px",padding:"16px",borderRadius:"12px",backgroundColor:"#f8fafc"},children:[e.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"10px",background:R,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.jsx(v,{style:{width:"18px",height:"18px",color:"#fff"}})}),e.jsxs("div",{children:[e.jsx("h4",{style:{fontWeight:600,color:"#0f172a",fontSize:"14px",marginBottom:"4px"},children:p.title}),e.jsx("p",{style:{fontSize:"13px",color:"#64748b",lineHeight:1.5,margin:0},children:p.description})]})]},y)})})]}),e.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},style:{background:"#fff",borderRadius:"16px",padding:"28px",border:"1px solid #e2e8f0",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.05)",marginBottom:"24px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"24px"},children:[e.jsx(me,{size:20,color:M}),e.jsx("h2",{style:{fontSize:"18px",fontWeight:600,color:"#0f172a"},children:"Personalisiere dein Training"})]}),te.map(p=>e.jsx($t,{field:p,value:d[p.key],onChange:xe,error:a[p.key],primaryAccent:M},p.key)),te.length===0&&e.jsx("p",{style:{color:"#64748b",textAlign:"center",padding:"20px"},children:"Keine zusätzliche Konfiguration erforderlich."})]}),e.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},style:{background:"#fff",borderRadius:"16px",padding:"28px",border:"1px solid #e2e8f0",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.05)",marginBottom:"24px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"24px"},children:[e.jsx(ve,{size:20,color:M}),e.jsx("h2",{style:{fontSize:"18px",fontWeight:600,color:"#0f172a"},children:"Kamera & Mikrofon"})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[e.jsx(Ge,{type:"video",devices:k,selectedDeviceId:x,onDeviceChange:S,isLoading:z,error:O,onRefresh:J,primaryAccent:M,themedGradient:R}),e.jsx(Ge,{type:"audio",devices:h,selectedDeviceId:E,onDeviceChange:i,isLoading:z,error:_,onRefresh:J,primaryAccent:M,themedGradient:R})]}),(_||O)&&e.jsxs("p",{style:{fontSize:"13px",color:"#94a3b8",marginTop:"16px",display:"flex",alignItems:"flex-start",gap:"8px"},children:[e.jsx(re,{size:16,style:{flexShrink:0,marginTop:"2px"}}),"Bitte erlaube den Zugriff auf Kamera und Mikrofon in deinen Browser-Einstellungen, um die Geräte nutzen zu können."]})]}),s&&e.jsxs(A.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},style:{padding:"16px",background:"#fef2f2",borderRadius:"12px",border:"1px solid #fecaca",marginBottom:"24px",display:"flex",alignItems:"center",gap:"12px"},children:[e.jsx(se,{size:20,color:"#ef4444"}),e.jsx("p",{style:{color:"#dc2626",fontSize:"14px"},children:s})]}),e.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},style:{background:"#f8fafc",borderRadius:"12px",padding:"20px",marginBottom:"32px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"12px"},children:[e.jsx(Ae,{size:18,color:M}),e.jsx("span",{style:{fontWeight:600,color:"#0f172a",fontSize:"14px"},children:"Training-Details"})]}),e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"20px"},children:[e.jsxs("div",{children:[e.jsx("span",{style:{fontSize:"12px",color:"#94a3b8",display:"block"},children:"Fragen"}),e.jsx("span",{style:{fontSize:"16px",fontWeight:600,color:"#0f172a"},children:t?.question_count||5})]}),e.jsxs("div",{children:[e.jsx("span",{style:{fontSize:"12px",color:"#94a3b8",display:"block"},children:"Zeit pro Frage"}),e.jsxs("span",{style:{fontSize:"16px",fontWeight:600,color:"#0f172a"},children:["~",Math.round((t?.time_limit_per_question||120)/60)," Min."]})]}),e.jsxs("div",{children:[e.jsx("span",{style:{fontSize:"12px",color:"#94a3b8",display:"block"},children:"Gesamtdauer"}),e.jsxs("span",{style:{fontSize:"16px",fontWeight:600,color:"#0f172a"},children:["~",Math.round((t?.total_time_limit||900)/60)," Min."]})]})]})]}),e.jsxs(A.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},onClick:H,disabled:l,style:{width:"100%",padding:"16px 24px",borderRadius:"12px",background:l?"#94a3b8":R,color:"#fff",border:"none",cursor:l?"not-allowed":"pointer",fontSize:"16px",fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",boxShadow:"0 4px 14px rgba(0, 0, 0, 0.15)",transition:"all 0.2s ease"},children:["Video Training starten",e.jsx(ye,{size:20})]}),e.jsx(Ye,{isLoading:l,message:"Fragen werden generiert...",subMessage:"Die KI erstellt personalisierte Fragen basierend auf deinen Angaben."})]})};export{rn as VideoTrainingApp,Lt as VideoTrainingComplete,Ne as VideoTrainingDashboard,Wt as VideoTrainingSession,on as VideoTrainingWizard};
