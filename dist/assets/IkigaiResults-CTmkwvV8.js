import{j as e,m as o,af as D,t as K,a2 as X,ag as Q,b as O,L,a as P,f as U,X as Z,A as de,a_ as ce,a$ as pe,r as xe,a3 as ge,aP as he,b0 as ue,z as ye,G as me,l as be,a8 as fe,h as je,ah as ve,aE as we,u as $e}from"./ui-vendor-DSq21R2h.js";import{a as $,d as Se}from"./react-vendor-uDOJF2jQ.js";import{b as Y,C as c,w as q}from"./FeatureInfoButton-CFo_jWu4.js";import{u as N}from"./useMobile-YxjH166V.js";import"./card-DKgLRHCp.js";import{B as H}from"./button-rxtxSVLf.js";import{A as ke}from"./AudioRecorder-DAMS679j.js";import{D as ze}from"./DeviceSettingsDialog-dCP4-Vj1.js";const T={love:Q,talent:X,need:K,market:D},Ce=({progress:v,size:g=100,strokeWidth:I=6})=>{const z=(g-I)/2,C=z*2*Math.PI,h=C-v/4*C;return e.jsxs("svg",{width:g,height:g,style:{transform:"rotate(-90deg)"},children:[e.jsx("circle",{cx:g/2,cy:g/2,r:z,fill:"none",stroke:"rgba(255,255,255,0.1)",strokeWidth:I}),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"progressGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:"#F43F5E"}),e.jsx("stop",{offset:"33%",stopColor:"#F59E0B"}),e.jsx("stop",{offset:"66%",stopColor:"#10B981"}),e.jsx("stop",{offset:"100%",stopColor:"#8B5CF6"})]})}),e.jsx("circle",{cx:g/2,cy:g/2,r:z,fill:"none",stroke:"url(#progressGradient)",strokeWidth:I,strokeLinecap:"round",strokeDasharray:C,strokeDashoffset:h,style:{transition:"stroke-dashoffset 0.6s ease-out"}})]})},He=({dimensions:v,DIMENSIONS:g,onExtractKeywords:I,onUpdateDimension:z,onRemoveTag:C,allDimensionsFilled:h,onSynthesize:u,isSynthesizing:t,selectedMicrophoneId:w,onMicrophoneChange:F})=>{const i=Y(),M=N(768),[b,B]=$.useState(null),[k,a]=$.useState(""),[n,y]=$.useState(!1),[p,d]=$.useState(!1),[m,R]=$.useState(null),[ee,te]=$.useState(null),E=w??ee,re=F??te,G=$.useRef(null);$.useEffect(()=>{b&&G.current&&G.current.focus()},[b]);const f=b?g[b]:null,_=s=>{B(s),a(v[s]?.input||""),R(null)},ie=async()=>{if(!(!k.trim()||!b||n)){y(!0),R(null);try{const s=await I(b,k.trim());if(s&&s.length>0){const r=v[b]?.tags||[],j=[...new Set([...r,...s])];await z(b,k.trim(),j),B(null),a("")}else R("Ich konnte keine relevanten Keywords erkennen. Bitte beschreibe deine Gedanken ausführlicher.")}catch(s){console.error("[IkigaiCompass] Extraction failed:",s),R("Ein Fehler ist aufgetreten. Bitte versuche es erneut.")}finally{y(!1)}}},se=$.useCallback(s=>{a(r=>r.trim()?r.trim()+`

`+s:s)},[]),A=s=>v[s]?.tags?.length>0,V=Object.keys(v).filter(s=>A(s)).length,oe=(s,r)=>{const j=T[s],l=A(s),x=v[s]?.tags||[];return e.jsxs(o.div,{whileTap:{scale:.98},whileHover:{scale:1.01},onClick:()=>_(s),animate:l?{boxShadow:`0 4px 20px ${r.color}20`}:{},style:{background:l?`linear-gradient(135deg, ${r.color}10 0%, ${r.color}05 100%)`:"linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(248,250,252,0.9) 100%)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)",borderRadius:"20px",padding:"18px",cursor:"pointer",border:`2px solid ${l?r.color:"rgba(0,0,0,0.06)"}`,boxShadow:l?`0 4px 20px ${r.color}20, inset 0 0 20px ${r.color}05`:"0 2px 12px rgba(0,0,0,0.06)",transition:"all 0.3s ease",position:"relative",overflow:"hidden"},children:[l&&e.jsx("div",{style:{position:"absolute",top:0,right:0,width:"100px",height:"100px",background:`radial-gradient(circle at top right, ${r.color}15 0%, transparent 70%)`,pointerEvents:"none"}}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"14px",marginBottom:x.length>0||!l?"14px":0,position:"relative",zIndex:1},children:[e.jsx(o.div,{animate:l?{scale:[1,1.05,1]}:{},transition:{duration:2,repeat:1/0,ease:"easeInOut"},style:{width:"48px",height:"48px",borderRadius:"14px",background:l?`linear-gradient(135deg, ${r.color}30 0%, ${r.color}15 100%)`:`linear-gradient(135deg, ${r.color}15 0%, ${r.color}08 100%)`,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,boxShadow:l?`0 4px 12px ${r.color}25`:"none"},children:e.jsx(j,{size:24,style:{color:r.color,filter:l?`drop-shadow(0 0 4px ${r.color}40)`:"none"}})}),e.jsxs("div",{style:{flex:1},children:[e.jsx("h3",{style:{fontSize:"16px",fontWeight:700,color:l?r.color:i.textMain,marginBottom:"3px",textShadow:l?`0 0 20px ${r.color}20`:"none"},children:r.label}),e.jsx("p",{style:{fontSize:"12px",color:i.textMuted,lineHeight:1.4},children:r.description})]}),l&&e.jsx(o.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:500,damping:25},style:{width:"26px",height:"26px",borderRadius:"50%",background:r.color,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:`0 2px 8px ${r.color}40`},children:e.jsx(O,{size:14,color:"white",strokeWidth:3})})]}),x.length>0?e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px",position:"relative",zIndex:1},children:[x.slice(0,4).map((W,S)=>e.jsx(o.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:S*.05},style:{padding:"5px 12px",borderRadius:"12px",fontSize:"12px",fontWeight:600,background:`linear-gradient(135deg, white 0%, ${r.color}08 100%)`,border:`1.5px solid ${r.color}`,color:r.color,boxShadow:`0 2px 6px ${r.color}15`},children:W},S)),x.length>4&&e.jsxs("span",{style:{padding:"5px 12px",borderRadius:"12px",fontSize:"12px",fontWeight:600,background:`${r.color}10`,border:`1.5px dashed ${r.color}60`,color:r.color},children:["+",x.length-4]})]}):e.jsxs("p",{style:{fontSize:"13px",color:i.textMuted,fontStyle:"italic",display:"flex",alignItems:"center",gap:"6px"},children:[e.jsx("span",{style:{width:"6px",height:"6px",borderRadius:"50%",background:r.color,opacity:.5}}),"Tippe, um auszufüllen..."]})]},s)},ae=(s,r,j)=>{const l=T[s],x=A(s),W=v[s]?.tags||[],S="min(220px, 24vw)";return e.jsx(o.div,{style:{gridArea:j,width:S,height:S,cursor:"pointer",justifySelf:j==="love"||j==="need"?"end":"start",alignSelf:j==="love"||j==="talent"?"end":"start"},whileHover:{scale:1.05,zIndex:10},whileTap:{scale:.97},onClick:()=>_(s),animate:x?{boxShadow:[`0 0 20px ${r.color}30`,`0 0 40px ${r.color}40`,`0 0 20px ${r.color}30`]}:{},transition:x?{duration:3,repeat:1/0,ease:"easeInOut"}:{},children:e.jsxs("div",{style:{width:"100%",height:"100%",borderRadius:"50%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden",background:x?`linear-gradient(135deg, ${r.color}35 0%, ${r.color}15 100%)`:`linear-gradient(135deg, ${r.color}15 0%, ${r.color}08 100%)`,backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)",border:`2px solid ${x?`${r.color}80`:`${r.color}30`}`,boxShadow:x?`inset 0 0 30px ${r.color}20, 0 8px 32px ${r.color}25`:`inset 0 0 20px ${r.color}08, 0 4px 16px rgba(0,0,0,0.1)`,transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)"},children:[e.jsx("div",{style:{position:"absolute",inset:0,borderRadius:"50%",background:`radial-gradient(circle at 30% 30%, ${r.color}20 0%, transparent 60%)`,pointerEvents:"none"}}),e.jsx(o.div,{style:{position:"relative",zIndex:1,marginBottom:"6px"},animate:x?{scale:[1,1.1,1]}:{},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:e.jsx(l,{size:32,style:{color:r.color,filter:x?`drop-shadow(0 0 8px ${r.color}60)`:"none"}})}),e.jsx("span",{style:{fontWeight:700,fontSize:"15px",color:r.color,textShadow:x?`0 0 10px ${r.color}40`:"none",position:"relative",zIndex:1},children:r.label}),e.jsx("span",{style:{fontSize:"11px",color:x?r.color:`${r.color}90`,textAlign:"center",padding:"0 12px",opacity:.85,position:"relative",zIndex:1},children:r.description}),x&&e.jsxs(o.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"4px",marginTop:"8px",padding:"0 8px",maxHeight:"50px",overflow:"hidden",position:"relative",zIndex:1},children:[W.slice(0,2).map((le,J)=>e.jsx(o.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:J*.1},style:{padding:"3px 8px",borderRadius:"12px",fontSize:"10px",fontWeight:600,background:`linear-gradient(135deg, white 0%, ${r.color}10 100%)`,border:`1.5px solid ${r.color}`,color:r.color,maxWidth:"75px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",boxShadow:`0 2px 8px ${r.color}20`},children:le},J)),W.length>2&&e.jsxs("span",{style:{padding:"3px 8px",borderRadius:"12px",fontSize:"10px",fontWeight:600,background:`${r.color}15`,border:`1.5px dashed ${r.color}60`,color:r.color},children:["+",W.length-2]})]}),x&&e.jsx(o.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:25},style:{position:"absolute",top:"12px",right:"12px",width:"24px",height:"24px",borderRadius:"50%",background:r.color,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:`0 2px 8px ${r.color}50`,zIndex:2},children:e.jsx(O,{size:14,color:"white",strokeWidth:3})})]})},s)},ne={love:"love",talent:"talent",need:"need",market:"market"};return e.jsxs("div",{style:{padding:M?i.space[4]:i.space[8],maxWidth:"900px",margin:"0 auto"},children:[e.jsx("div",{style:{textAlign:"center",marginBottom:i.space[6]},children:e.jsx("p",{style:{fontSize:i.fontSize.sm,color:i.textMuted},children:"Fülle die 4 Kreise mit deinen Gedanken. Dein KI-Coach extrahiert daraus automatisch deine Stärken und Ziele."})}),e.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"10px",marginBottom:i.space[6],flexWrap:"wrap"},children:Object.entries(g).map(([s,r])=>{const j=T[s],l=A(s);return e.jsxs(o.div,{initial:!1,animate:{scale:1,boxShadow:l?`0 4px 16px ${r.color}25`:"0 2px 8px rgba(0,0,0,0.05)"},whileHover:{scale:1.05},style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",borderRadius:"20px",fontSize:"14px",fontWeight:600,cursor:"pointer",background:l?`linear-gradient(135deg, ${r.color}20 0%, ${r.color}10 100%)`:"rgba(255,255,255,0.8)",color:l?r.color:i.textMuted,border:`2px solid ${l?r.color:"rgba(0,0,0,0.08)"}`,backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)",transition:"all 0.3s ease"},onClick:()=>_(s),children:[e.jsx(j,{size:16,style:{opacity:l?1:.6}}),e.jsx("span",{children:r.label}),l&&e.jsx(o.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:500,damping:25},style:{width:"18px",height:"18px",borderRadius:"50%",background:r.color,display:"flex",alignItems:"center",justifyContent:"center",marginLeft:"2px"},children:e.jsx(O,{size:11,color:"white",strokeWidth:3})})]},s)})}),M?e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:i.space[3],marginBottom:i.space[4]},children:Object.entries(g).map(([s,r])=>oe(s,r))}),h&&e.jsx(o.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{type:"spring",stiffness:200,damping:20},style:{display:"flex",justifyContent:"center",marginBottom:i.space[6]},children:e.jsxs(o.button,{onClick:u,disabled:t,whileHover:{scale:1.02},whileTap:{scale:.98},style:{background:"linear-gradient(135deg, #8B5CF6 0%, #6366F1 50%, #4F46E5 100%)",color:"white",padding:"16px 24px",fontSize:"16px",fontWeight:700,borderRadius:"18px",border:"none",boxShadow:"0 8px 32px rgba(139,92,246,0.35), inset 0 1px 0 rgba(255,255,255,0.2)",display:"flex",alignItems:"center",gap:"10px",width:"100%",justifyContent:"center",cursor:t?"wait":"pointer",opacity:t?.85:1,position:"relative",overflow:"hidden"},children:[!t&&e.jsx(o.div,{animate:{x:["-100%","200%"]},transition:{duration:2,repeat:1/0,ease:"easeInOut",repeatDelay:1},style:{position:"absolute",top:0,left:0,width:"50%",height:"100%",background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent)",pointerEvents:"none"}}),t?e.jsxs(e.Fragment,{children:[e.jsx(L,{className:"animate-spin",size:20}),e.jsx("span",{children:"Analysiere..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(P,{size:20}),e.jsx("span",{children:"Mein Ikigai finden"}),e.jsx(U,{size:20})]})]})})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{display:"grid",gridTemplateAreas:`
                "love talent"
                "center center"
                "need market"
              `,gridTemplateColumns:"1fr 1fr",gridTemplateRows:"auto 1fr auto",gap:"0px",width:"100%",maxWidth:"520px",margin:"0 auto",marginBottom:i.space[4],padding:"0 10px"},children:[Object.entries(g).map(([s,r])=>ae(s,r,ne[s])),e.jsxs(o.div,{style:{gridArea:"center",justifySelf:"center",alignSelf:"center",zIndex:10,marginTop:"-60px",marginBottom:"-60px",position:"relative"},animate:h?{scale:[1,1.08,1]}:{},transition:{duration:2.5,repeat:1/0,ease:"easeInOut"},children:[h&&e.jsx(o.div,{animate:{opacity:[.5,.8,.5],scale:[1,1.2,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},style:{position:"absolute",inset:"-20px",borderRadius:"50%",background:"radial-gradient(circle, rgba(139,92,246,0.3) 0%, transparent 70%)",pointerEvents:"none"}}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx(Ce,{progress:V,size:100,strokeWidth:5}),e.jsx("div",{style:{position:"absolute",inset:"8px",borderRadius:"50%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:h?"linear-gradient(135deg, #8B5CF6 0%, #6366F1 50%, #4F46E5 100%)":"linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(248,250,252,0.9) 100%)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)",boxShadow:h?"0 8px 32px rgba(139,92,246,0.4), inset 0 0 20px rgba(255,255,255,0.2)":"0 4px 16px rgba(0,0,0,0.1), inset 0 0 20px rgba(255,255,255,0.5)",border:h?"2px solid rgba(255,255,255,0.3)":"2px solid rgba(0,0,0,0.05)",transition:"all 0.5s ease"},children:h?e.jsxs(o.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{type:"spring",stiffness:300},style:{textAlign:"center"},children:[e.jsx(P,{size:18,color:"white",style:{marginBottom:"2px"}}),e.jsx("span",{style:{color:"white",fontWeight:800,fontSize:"13px",letterSpacing:"0.5px",textShadow:"0 2px 8px rgba(0,0,0,0.2)"},children:"Ikigai"})]}):e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("span",{style:{color:i.textMain,fontWeight:800,fontSize:"20px",lineHeight:1},children:V}),e.jsx("span",{style:{color:i.textMuted,fontWeight:600,fontSize:"12px"},children:"/4"})]})})]})]})]}),h&&e.jsx(o.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{type:"spring",stiffness:200,damping:20},style:{display:"flex",justifyContent:"center",marginBottom:i.space[6]},children:e.jsxs(o.button,{onClick:u,disabled:t,whileHover:{scale:1.03,boxShadow:"0 12px 40px rgba(139,92,246,0.4)"},whileTap:{scale:.98},style:{background:"linear-gradient(135deg, #8B5CF6 0%, #6366F1 50%, #4F46E5 100%)",color:"white",padding:"18px 36px",fontSize:"17px",fontWeight:700,borderRadius:"20px",border:"none",boxShadow:"0 8px 32px rgba(139,92,246,0.35), inset 0 1px 0 rgba(255,255,255,0.2)",display:"flex",alignItems:"center",gap:"12px",cursor:t?"wait":"pointer",opacity:t?.85:1,position:"relative",overflow:"hidden"},children:[!t&&e.jsx(o.div,{animate:{x:["-100%","200%"]},transition:{duration:2,repeat:1/0,ease:"easeInOut",repeatDelay:1},style:{position:"absolute",top:0,left:0,width:"50%",height:"100%",background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent)",pointerEvents:"none"}}),t?e.jsxs(e.Fragment,{children:[e.jsx(L,{className:"animate-spin",size:22}),e.jsx("span",{children:"Analysiere dein Ikigai..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(P,{size:22}),e.jsx("span",{children:"Mein Ikigai finden"}),e.jsx(U,{size:22})]})]})})]}),!M&&e.jsx(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px",marginTop:i.space[4]},children:Object.entries(g).map(([s,r])=>{const j=v[s]?.tags||[];if(j.length===0)return null;const l=T[s];return e.jsxs(o.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.1},style:{background:`linear-gradient(135deg, ${r.color}12 0%, ${r.color}05 100%)`,backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)",border:`1px solid ${r.color}25`,borderRadius:"20px",padding:"20px",boxShadow:`0 4px 24px ${r.color}10`},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"14px"},children:[e.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"10px",background:`linear-gradient(135deg, ${r.color}25 0%, ${r.color}15 100%)`,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(l,{size:18,style:{color:r.color}})}),e.jsx("span",{style:{fontWeight:700,fontSize:"15px",color:r.color},children:r.label})]}),e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:[j.map((x,W)=>e.jsxs(o.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:W*.05},whileHover:{scale:1.05},style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 14px",borderRadius:"14px",fontSize:"13px",fontWeight:600,background:`linear-gradient(135deg, white 0%, ${r.color}08 100%)`,border:`1.5px solid ${r.color}`,color:r.color,boxShadow:`0 2px 8px ${r.color}15`,cursor:"default"},children:[e.jsx("span",{children:x}),e.jsx("button",{onClick:S=>{S.stopPropagation(),C(s,x)},style:{background:"none",border:"none",padding:"2px",cursor:"pointer",display:"flex",borderRadius:"50%",transition:"all 0.2s ease"},onMouseEnter:S=>{S.currentTarget.style.background=`${r.color}20`},onMouseLeave:S=>{S.currentTarget.style.background="none"},children:e.jsx(Z,{size:14,color:r.color})})]},W)),e.jsx(o.button,{whileHover:{scale:1.05,borderStyle:"solid"},whileTap:{scale:.95},onClick:()=>_(s),style:{padding:"6px 14px",borderRadius:"14px",fontSize:"13px",fontWeight:600,border:`2px dashed ${r.color}50`,background:"transparent",color:r.color,cursor:"pointer",transition:"all 0.2s ease"},children:"+ Mehr"})]})]},s)})}),e.jsx(de,{children:b&&f&&e.jsx(o.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"fixed",inset:0,zIndex:i.zIndex.modal,display:"flex",alignItems:"center",justifyContent:"center",background:i.overlayDark,backdropFilter:"blur(4px)",padding:i.space[4]},onClick:s=>{s.target===s.currentTarget&&!n&&B(null)},children:e.jsxs(o.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},style:{background:i.cardBgColor,borderRadius:i.radius["2xl"],boxShadow:i.shadow.xl,width:"100%",maxWidth:"500px",overflow:"hidden"},children:[e.jsxs("div",{style:{padding:`${i.space[4]} ${i.space[6]}`,display:"flex",alignItems:"center",justifyContent:"space-between",background:`${f.color}10`,borderBottom:`1px solid ${f.color}20`},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:i.space[3]},children:[Se.createElement(T[b],{size:28,style:{color:f.color}}),e.jsxs("div",{children:[e.jsx("h3",{style:{fontWeight:i.fontWeight.bold,fontSize:i.fontSize.lg,color:f.color},children:f.title||f.label}),e.jsx("p",{style:{fontSize:i.fontSize.sm,color:i.textSecondary},children:f.description})]})]}),e.jsx("button",{onClick:()=>!n&&B(null),disabled:n,style:{padding:i.space[2],borderRadius:i.radius.lg,background:"transparent",border:"none",cursor:"pointer"},children:e.jsx(Z,{size:20,style:{color:i.textMuted}})})]}),e.jsx("div",{style:{padding:`${i.space[4]} ${i.space[6]}`},children:e.jsx("p",{style:{color:i.textMain,fontSize:i.fontSize.base,fontWeight:i.fontWeight.medium,lineHeight:1.5},children:f.question})}),v[b]?.tags?.length>0&&e.jsxs("div",{style:{padding:`0 ${i.space[6]} ${i.space[4]}`},children:[e.jsx("p",{style:{fontSize:i.fontSize.sm,color:i.textMuted,marginBottom:i.space[2]},children:"Bereits erfasst:"}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:i.space[2]},children:v[b].tags.map((s,r)=>e.jsx("span",{style:{padding:`${i.space[1]} ${i.space[3]}`,borderRadius:i.radius.full,fontSize:i.fontSize.sm,fontWeight:i.fontWeight.medium,background:"transparent",border:`1.5px solid ${f.color}`,color:f.color},children:s},r))})]}),e.jsxs("div",{style:{padding:`0 ${i.space[6]} ${i.space[6]}`},children:[e.jsxs("div",{style:{position:"relative"},children:[e.jsx("textarea",{ref:G,value:k,onChange:s=>a(s.target.value),placeholder:f.placeholder,rows:4,disabled:n,style:{width:"100%",padding:i.space[4],paddingRight:i.space[12],borderRadius:i.radius.xl,border:`2px solid ${f.color}30`,resize:"none",fontSize:i.fontSize.base,fontFamily:"inherit",outline:"none",background:i.cardBgColor}}),e.jsx("button",{onClick:ie,disabled:!k.trim()||n,style:{position:"absolute",bottom:i.space[4],right:i.space[4],padding:i.space[3],borderRadius:i.radius.full,background:f.color,color:"white",border:"none",cursor:k.trim()&&!n?"pointer":"not-allowed",opacity:k.trim()&&!n?1:.5,display:"flex",alignItems:"center",justifyContent:"center"},children:n?e.jsx(L,{className:"animate-spin",size:20}):e.jsx(ce,{size:20})})]}),m&&e.jsx(o.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},style:{marginTop:i.space[3],padding:`${i.space[3]} ${i.space[4]}`,borderRadius:i.radius.lg,background:`${i.error}10`,border:`1px solid ${i.error}30`,color:i.error,fontSize:i.fontSize.sm,textAlign:"center"},children:m}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:i.space[2],marginTop:i.space[3]},children:[e.jsx(ke,{onTranscriptReady:se,disabled:n,warmUp:!!E,deviceId:E}),e.jsx("button",{onClick:()=>d(!0),title:"Audio-Einstellungen",style:{width:"36px",height:"36px",borderRadius:i.radius.full,border:`1px solid ${i.borderColor}`,background:i.cardBgHover,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},children:e.jsx(pe,{size:18,style:{color:i.textMuted}})})]}),e.jsx("p",{style:{fontSize:i.fontSize.xs,color:i.textMuted,marginTop:i.space[2],textAlign:"center"},children:"Tippe oder sprich deine Gedanken ein"})]})]})})}),e.jsx(ze,{isOpen:p,onClose:()=>d(!1),mode:"audio",selectedMicrophoneId:E,onMicrophoneChange:re})]})},We={love:Q,talent:X,need:K,market:D},Le=({dimensions:v,synthesisResult:g,onStartNew:I,onEdit:z,onGenerateMore:C,isGeneratingMore:h,DIMENSIONS:u})=>{const t=Y(),w=N(768),[F,i]=$.useState([]),[M,b]=$.useState(!0);$.useEffect(()=>{(async()=>{try{const[n,y]=await Promise.all([q.getSimulatorScenarios(),q.getScenarios()]),p=[...(n?.scenarios||[]).map(d=>({...d,type:"simulator"})),...(y?.scenarios||[]).map(d=>({...d,type:"roleplay"}))];i(p)}catch(n){console.error("[IkigaiResults] Failed to load scenarios:",n)}finally{b(!1)}})()},[]);const B=a=>{if(!a||a.length===0||F.length===0)return[];const n=a.map(p=>p.toLowerCase());return F.map(p=>{const d=[p.title||"",p.category||"",p.tags||"",p.description||""].join(" ").toLowerCase();let m=0;return n.forEach(R=>{d.includes(R)&&(m+=1)}),{...p,matchScore:m}}).filter(p=>p.matchScore>0).sort((p,d)=>d.matchScore-p.matchScore).slice(0,2)},k=[{bg:`${u.love.color}08`,border:u.love.color,accent:u.love.color},{bg:`${u.talent.color}08`,border:u.talent.color,accent:u.talent.color},{bg:`${u.need.color}08`,border:u.need.color,accent:u.need.color},{bg:`${u.market.color}08`,border:u.market.color,accent:u.market.color},{bg:`${c.violet[500]}08`,border:c.violet[500],accent:c.violet[500]},{bg:`${c.cyan[500]}08`,border:c.cyan[500],accent:c.cyan[500]},{bg:`${c.rose[500]}08`,border:c.rose[500],accent:c.rose[500]},{bg:`${c.teal[500]}08`,border:c.teal[500],accent:c.teal[500]}];return e.jsxs("div",{style:{padding:w?t.space[4]:t.space[8],maxWidth:"900px",margin:"0 auto"},children:[e.jsxs(o.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},style:{textAlign:"center",marginBottom:t.space[8]},children:[e.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:t.space[4]},children:e.jsx("div",{style:{width:w?"64px":"80px",height:w?"64px":"80px",borderRadius:t.radius.full,display:"flex",alignItems:"center",justifyContent:"center",background:t.headerGradient,boxShadow:t.shadow.lg},children:e.jsx(P,{size:w?28:36,color:"white"})})}),e.jsx("h1",{style:{fontSize:w?t.fontSize["2xl"]:t.fontSize["3xl"],fontWeight:t.fontWeight.bold,color:t.textMain,marginBottom:t.space[2]},children:"Dein Ikigai-Kompass"}),e.jsx("p",{style:{fontSize:t.fontSize.base,color:t.textSecondary,maxWidth:"600px",margin:"0 auto",lineHeight:1.6},children:g?.summary||"Basierend auf deinen Eingaben haben wir diese Karrierepfade für dich identifiziert."})]}),e.jsx(o.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 mb-8",children:Object.entries(u).map(([a,n])=>{const y=We[a],p=v[a]?.tags||[];return e.jsxs("div",{style:{padding:t.space[3],borderRadius:t.radius.xl,backgroundColor:`${n.color}10`,border:`1px solid ${n.color}30`},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:t.space[2],marginBottom:t.space[2]},children:[e.jsx(y,{size:16,style:{color:n.color}}),e.jsx("span",{style:{fontWeight:t.fontWeight.semibold,fontSize:t.fontSize.sm,color:n.color},children:n.label})]}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"4px"},children:p.map((d,m)=>e.jsx("span",{style:{padding:`2px ${t.space[2]}`,borderRadius:t.radius.full,fontSize:t.fontSize.xs,backgroundColor:`${n.color}20`,color:n.color},children:d},m))})]},a)})}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:t.space[6],marginBottom:t.space[8]},children:[e.jsx("h2",{style:{fontSize:t.fontSize.xl,fontWeight:t.fontWeight.bold,color:t.textMain},children:"Deine Karrierepfade"}),g?.paths?.map((a,n)=>{const y=k[n%k.length],p=B(a.training_tags);return e.jsxs(o.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3+n*.1},style:{borderRadius:t.radius["2xl"],overflow:"hidden",boxShadow:t.shadow.md,backgroundColor:t.cardBgColor,border:`2px solid ${y.border}30`},children:[e.jsx("div",{style:{padding:w?`${t.space[3]} ${t.space[4]}`:`${t.space[4]} ${t.space[6]}`,backgroundColor:y.border},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:t.space[3]},children:[e.jsx("div",{style:{width:"40px",height:"40px",borderRadius:t.radius.full,background:"rgba(255,255,255,0.2)",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(xe,{size:20,color:"white"})}),e.jsx("h3",{style:{fontSize:w?t.fontSize.lg:t.fontSize.xl,fontWeight:t.fontWeight.bold,color:"white"},children:a.role_title})]})}),e.jsxs("div",{style:{padding:w?t.space[4]:t.space[6]},children:[e.jsx("p",{style:{color:t.textSecondary,marginBottom:t.space[4],lineHeight:1.6,fontSize:t.fontSize.base},children:a.description}),e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:t.space[3],padding:t.space[4],borderRadius:t.radius.xl,marginBottom:t.space[4],backgroundColor:`${y.border}15`},children:[e.jsx(ge,{size:20,style:{color:y.accent,flexShrink:0,marginTop:"2px"}}),e.jsxs("div",{children:[e.jsx("p",{style:{fontWeight:t.fontWeight.semibold,marginBottom:"4px",color:y.accent},children:"Warum passt das zu dir?"}),e.jsx("p",{style:{color:t.textSecondary,fontSize:t.fontSize.sm},children:a.why_fit})]})]}),a.job_resources&&e.jsxs("div",{style:{padding:t.space[4],borderRadius:t.radius.xl,marginBottom:t.space[4],backgroundColor:`${c.amber[500]}10`,border:`1px solid ${c.amber[500]}30`},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:t.space[2],marginBottom:t.space[3]},children:[e.jsx(he,{size:18,style:{color:c.amber[600]}}),e.jsx("span",{style:{fontWeight:t.fontWeight.semibold,color:c.amber[700]},children:"Wo findest du solche Jobs?"})]}),a.job_resources.companies&&a.job_resources.companies.length>0&&e.jsxs("div",{style:{marginBottom:t.space[3]},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:t.space[2],marginBottom:t.space[1]},children:[e.jsx(ue,{size:14,style:{color:t.textMuted}}),e.jsx("span",{style:{fontSize:t.fontSize.sm,fontWeight:t.fontWeight.medium,color:t.textSecondary},children:"Unternehmen & Organisationen:"})]}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px",marginLeft:"22px"},children:a.job_resources.companies.map((d,m)=>e.jsx("span",{style:{padding:`2px ${t.space[2]}`,borderRadius:t.radius.md,fontSize:t.fontSize.sm,backgroundColor:t.cardBgColor,color:t.textMain,border:`1px solid ${t.borderColor}`},children:d},m))})]}),a.job_resources.job_boards&&a.job_resources.job_boards.length>0&&e.jsxs("div",{style:{marginBottom:t.space[3]},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:t.space[2],marginBottom:t.space[1]},children:[e.jsx(K,{size:14,style:{color:t.textMuted}}),e.jsx("span",{style:{fontSize:t.fontSize.sm,fontWeight:t.fontWeight.medium,color:t.textSecondary},children:"Jobbörsen & Plattformen:"})]}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px",marginLeft:"22px"},children:a.job_resources.job_boards.map((d,m)=>e.jsx("span",{style:{padding:`2px ${t.space[2]}`,borderRadius:t.radius.md,fontSize:t.fontSize.sm,backgroundColor:t.cardBgColor,color:t.textMain,border:`1px solid ${t.borderColor}`},children:d},m))})]}),a.job_resources.search_tips&&e.jsx("div",{children:e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:t.space[2]},children:[e.jsx(ye,{size:14,style:{color:c.amber[600],flexShrink:0,marginTop:"2px"}}),e.jsxs("span",{style:{fontSize:t.fontSize.sm,color:t.textSecondary},children:[e.jsx("span",{style:{fontWeight:t.fontWeight.medium},children:"Tipp: "}),a.job_resources.search_tips]})]})})]}),a.training_tags&&a.training_tags.length>0&&e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:t.space[2],marginBottom:t.space[4]},children:a.training_tags.map((d,m)=>e.jsxs("span",{style:{padding:`${t.space[1]} ${t.space[3]}`,borderRadius:t.radius.full,fontSize:t.fontSize.xs,fontWeight:t.fontWeight.medium,backgroundColor:`${y.border}20`,color:y.accent},children:["#",d]},m))}),p.length>0&&e.jsxs("div",{style:{borderTop:`1px solid ${t.borderColor}`,paddingTop:t.space[4],marginTop:t.space[4]},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:t.space[2],marginBottom:t.space[3]},children:[e.jsx(me,{size:18,style:{color:t.textMuted}}),e.jsx("span",{style:{fontWeight:t.fontWeight.semibold,color:t.textSecondary},children:"Passende Trainings:"})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:w?"1fr":"repeat(2, 1fr)",gap:t.space[3]},children:p.map((d,m)=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:t.space[3],padding:t.space[3],borderRadius:t.radius.xl,background:t.cardBgColor,border:`1px solid ${t.borderColor}`,cursor:"pointer"},children:[e.jsx("div",{style:{width:"40px",height:"40px",borderRadius:t.radius.lg,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,backgroundColor:d.type==="simulator"?`${t.primaryAccent}15`:`${c.violet[500]}15`},children:d.type==="simulator"?e.jsx(be,{size:18,style:{color:t.primaryAccent}}):e.jsx(fe,{size:18,style:{color:c.violet[500]}})}),e.jsxs("div",{style:{flex:1,minWidth:0},children:[e.jsx("p",{style:{fontWeight:t.fontWeight.medium,color:t.textMain,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:d.title}),e.jsx("p",{style:{fontSize:t.fontSize.xs,color:t.textMuted},children:d.type==="simulator"?"Szenario-Training":"Live-Simulation"})]}),e.jsx(je,{size:18,style:{color:t.textMuted}})]},m))})]})]})]},n)})]}),C&&g?.paths?.length>0&&e.jsx(o.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},style:{display:"flex",justifyContent:"center",marginBottom:t.space[8]},children:e.jsx(H,{onClick:C,disabled:h,style:{display:"flex",alignItems:"center",justifyContent:"center",gap:t.space[2],padding:`${t.space[3]} ${t.space[6]}`,borderRadius:t.radius.xl,fontWeight:t.fontWeight.medium,border:`2px dashed ${c.emerald[500]}`,color:h?t.textMuted:c.emerald[600],background:h?t.disabledBg:`${c.emerald[500]}10`,cursor:h?"wait":"pointer",transition:"all 0.2s ease"},children:h?e.jsxs(e.Fragment,{children:[e.jsx(L,{size:20,className:"animate-spin"}),e.jsx("span",{children:"Generiere weitere Vorschläge..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(ve,{size:20}),e.jsx("span",{children:"Weitere 3 Vorschläge generieren"})]})})}),e.jsxs(o.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},style:{display:"flex",flexDirection:w?"column":"row",justifyContent:"center",gap:t.space[4]},children:[e.jsxs(H,{onClick:z,variant:"outline",style:{display:"flex",alignItems:"center",justifyContent:"center",gap:t.space[2],padding:`${t.space[3]} ${t.space[6]}`,borderRadius:t.radius.xl,fontWeight:t.fontWeight.medium,borderWidth:"2px",borderColor:t.primaryAccent,color:t.primaryAccent,background:"transparent"},children:[e.jsx(we,{size:20}),e.jsx("span",{children:"Anpassen"})]}),e.jsxs(H,{onClick:I,style:{display:"flex",alignItems:"center",justifyContent:"center",gap:t.space[2],padding:`${t.space[3]} ${t.space[6]}`,borderRadius:t.radius.xl,fontWeight:t.fontWeight.medium,color:"white",background:t.headerGradient,boxShadow:t.shadow.md},children:[e.jsx($e,{size:20}),e.jsx("span",{children:"Neu starten"})]})]}),(!g?.paths||g.paths.length===0)&&e.jsxs("div",{style:{textAlign:"center",padding:`${t.space[12]} 0`},children:[e.jsx("p",{style:{color:t.textMuted},children:"Du bist einzigartig - wir brauchen mehr Details, um passende Pfade zu finden."}),e.jsx(H,{onClick:z,style:{marginTop:t.space[4],padding:`${t.space[3]} ${t.space[6]}`,borderRadius:t.radius.xl,fontWeight:t.fontWeight.medium,color:"white",background:t.headerGradient},children:"Zurück zur Eingabe"})]})]})};export{Le as I,He as a};
