const a={WEBM:"audio/webm",WEBM_OPUS:"audio/webm;codecs=opus",MP3:"audio/mpeg",WAV:"audio/wav",OGG:"audio/ogg",M4A:"audio/mp4",AAC:"audio/aac"};async function s(e){return new Promise((i,o)=>{const r=new FileReader;r.onloadend=()=>{const t=r.result.split(",")[1];i(t)},r.onerror=()=>{o(new Error("Failed to read file as base64"))},r.readAsDataURL(e)})}async function l(e){return{inlineData:{data:await s(e),mimeType:e.type||a.WEBM}}}function d(e){return typeof MediaRecorder>"u"?!1:MediaRecorder.isTypeSupported(e)}function f(e=[a.WEBM_OPUS,a.WEBM,a.OGG,a.MP3]){for(const i of e)if(d(i))return i;return null}function p(e,i={}){const{minSize:o=100,maxSize:r=100*1024*1024,allowedTypes:t=Object.values(a)}=i;return e?e.size<o?{valid:!1,error:"Audio-Datei ist zu klein oder leer"}:e.size>r?{valid:!1,error:"Audio-Datei ist zu groß"}:t.length>0&&e.type&&!t.some(n=>e.type.startsWith(n.split(";")[0]))?{valid:!1,error:`Audio-Format nicht unterstützt: ${e.type}`}:{valid:!0}:{valid:!1,error:"Keine Audio-Datei vorhanden"}}export{l as a,s as f,f as g,p as v};
